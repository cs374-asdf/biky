{"version":3,"sources":["data/badge.js","container/BadgeDetail.js","component/Avatar.js","util/format.js","component/journal/DateComponent.js","util/icon.js","component/journal/JournalItem.js","component/Loading.js","component/journal/PictureList.js","component/home/StaticMap.js","component/journal/JournalDetail.js","component/journal/JournalList.js","component/common/SearchBar.js","component/friend/Frequest.js","component/friend/LinearProgressBar.js","component/friend/FriendItem.js","component/friend/Friends.js","container/Profile.js","container/Friends.js","component/home/Weather.js","component/home/DustBar.js","component/home/Dust.js","component/home/Distance.js","component/home/Time.js","data/route.js","component/home/Map.js","component/home/StartButton.js","component/home/StopButton.js","component/home/MetaphorContainer.js","component/home/MetaphorTaxi.js","component/home/MetaphorBurger.js","component/home/MetaphorTree.js","component/home/JournalModal.js","data/photo.js","container/Home.js","component/journal/FriendSimpleView.js","component/journal/AppBar.js","component/journal/FriendAddPage.js","component/journal/FriendItem.js","component/journal/HashtagSelector.js","component/journal/PhotoUploader.js","component/journal/JournalForm.js","data/journal.js","container/journal/JournalEditor.js","container/journal/JournalMain.js","container/Login.js","container/LoginInitial.js","container/MyPage.js","component/NavigationBar.js","NotFound.js","container/Tutorial.js","firebaseInit.js","App.js","reportWebVitals.js","index.js"],"names":["badges","oid","thumbnail","title","description","useStyles","makeStyles","theme","root","flexGrow","padding","spacing","paper","badgeBox","width","height","maxHeight","maxWidth","overflow","badge","margin","display","borderRadius","eachBadge","buttonBase","borderBottom","arrow","bold","fontWeight","fontSize","BadgeDetail","mainBadge","changeMainBadge","classes","history","useHistory","map","idx","ButtonBase","className","style","backgroundColor","onClick","console","log","Grid","container","item","Box","src","process","alt","xs","direction","Typography","variant","align","p","push","Paper","marginBottom","border","marginTop","nullToList","list","formatTime","time","hours","parseInt","minutes","formatDistance","distance","toFixed","DateComponent","startTime","endTime","formatted","dayjs","format","getIconComponent","key","icon","cryingFace","faceWithSymbolsOnMouth","rollingOnTheFloorLaughing","sleepingFace","droolingFace","faceWithThermometer","sunIcon","cloudIcon","cloudWithRain","dogIcon","catIcon","dodoIcon","getIcon","hashtagsDB","getHashtags","hashtags","temp","hashtag","getFriends","friends","friend","mr","Avatar","name","picture","flexDirection","flexWrap","tree","taxi","burger","GetMetaphors","metaphor","icon_name","sent","cn","Math","floor","random","deciduousTree","oncomingTaxi","hamburgerIcon","Card","alignItems","position","top","left","emojiItem","emoji","iconComp","boxShadow","justifyContent","JournalItem","journal","openJournal","emojis","id","flex","minHeight","component","textOverflow","wordWrap","whiteSpace","my","textAlign","Loading","CircularProgress","color","hashtagGroup","palette","primary","light","titleBar","background","gridList","PictureList","pictures","removePicture","isEditing","useTheme","breakpoints","keys","reverse","reduce","output","matches","useMediaQuery","up","useWidth","cols","isWidthUp","getGridListCols","cellHeight","getGridListCellHeight","GridList","pic","index","GridListTile","GridListTileBar","actionIcon","IconButton","aria-label","StaticMap","props","route","zoom","length","startCoordinates","endCoordinates","mapContainer","useRef","useEffect","current","mapboxgl","Map","center","on","addSource","type","data","properties","geometry","coordinates","addLayer","source","layout","paint","features","ref","accessToken","row","centeredRow","actions","JournalDetail","handleClose","paddingBottom","Button","alert","disabled","Link","to","date","desc","metaphors","photos","JournalList","journals","friendsByJournal","journalList","_","sortBy","Date","createdAt","menuButton","marginRight","search","shape","fade","common","white","marginLeft","searchIcon","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","SearchBar","InputBase","placeholder","input","inputProps","shadows","mailIcon","ReceivedElement","Accordion","expanded","AccordionSummary","minWidth","onAcceptClick","onRejectClick","Frequest","modalStyle","React","useState","transform","open","setOpen","body","frequests","el","Divider","Badge","badgeContent","Modal","onClose","aria-labelledby","aria-describedby","ProgressStyles","pro_bar","progress_bar_inner","content","backgroundImage","backgroundSize","right","LinearProgressBar","value","data-value","data-percentage-value","JournalEntry","FriendItem","diff","total_intimacy","expandIcon","FriendListItemInner","AccordionDetails","FriendList","alignSelf","flist","fillTable","journalsByFriend","textDecorationLine","textDecorationColor","Profile","page","verticalAlign","header","avatar","Friends","journalRef","friendRef","frequestRef","setFrequests","friendlist","setFriendlist","setJournalsByFriend","snapshot","friendData","val","once","Object","values","i","f","filter","j","includes","getJournalsByFriend","frequestData","fid","child","remove","newFriend","set","paddingRight","randomInt","min","max","getImgURL","weather","getTemperature","Weather","temperature","bar","slider","paddingTop","DustBar","amount","percentage","text","status","Dust","fineDust","ultraFineDust","fineDustAmount","fineDustStatus","ultraFineDustAmount","ultraFineDustStatus","Distance","Time","routeStart","routeOri","routeEnd","fullRoute","swapColumns","array","newArray","InnerMap","lng","lat","setZoom","setCenter","getSource","setData","isRiding","mode","setLng","setLat","setRoute","slice","saveRoute","StartButton","button","StopButton","MetaphorContainer","setRandomInt","MetaphorTaxi","MetaphorBurger","MetaphorTree","img","modal","overflowY","outline","half","label","JournalModal","closeModal","size","handleJournal","allPhotos","getRandomPhoto","num","arr","n","result","Array","len","taken","RangeError","x","getRandom","weatherContainer","measuresContainer","zIndex","measures","buttonContainer","buttonText","startButton","main","stopButton","weatherTypes","getRidingTime","wizard","startPauseTime","endPauseTime","spHour","spMin","split","epHour","epMin","resultTime","getRidingPlace","place","Home","wizardRef","setIsRiding","setDistance","setTime","setIndex","setWeather","increment","setHashtags","setStartTime","setWizard","setMode","wiz","clearInterval","createJournal","add","randomPhotos","randomTitle","randomTitles","getRandomTitle","ridingTime","newJournal","toString","setInterval","opacity","abled","FriendSimpleView","m","mt","mb","ml","MyAppBar","onSubmit","string","AppBar","Toolbar","edge","FriendSelector","FriendAddPage","allFriends","selectedFriends","addFriend","removeFriend","close","getSuggestionValue","suggestion","HashtagSelector","handleSubmit","setValue","suggestions","setSuggestions","handleSubmitEnter","e","preventDefault","h","onChange","event","newValue","onSuggestionsFetchRequested","reason","escapedValue","trim","replace","regex","RegExp","test","getSuggestions","onSuggestionsClearRequested","renderSuggestion","renderInputComponent","highlightFirstSuggestion","alwaysRenderSuggestions","photoSelector","PhotoUploader","addHashtag","imgData","setImgData","predictions","setPredictions","isLoading","setLoading","readImage","file","Promise","rs","rj","fileReader","FileReader","onload","onerror","error","readAsDataURL","detectObjectsOnImage","async","model","cocoSsd","detect","imageElement","class","concat","accept","multiple","target","from","files","document","createElement","Tooltip","htmlFor","PhotoCamera","animal","textField","addButton","submitButton","JournalForm","openFriendAddPage","onSubmitPictures","preference","setTitle","setDesc","changeSuggestion","forEach","fin","sort","a","b","firstQ","done","rand","rand2","noValidate","autoComplete","TextField","defaultValue","filtered","sug","contentSuggestion","multiline","rows","removeHashtag","mockJournal","hamburger","JournalEditor","storageRef","useParams","setJournal","loading","setAllFriends","setPreference","friendPageOpen","setFriendAddPageOpen","setPictures","setFriends","pictureLoading","setPictureLoading","pictureFiles","setPictureFiles","journalData","jid","String","setPrefData","objects","ids","flatten","flat","downloadURLs","promises","put","then","getDownloadURL","all","uploadImageFile","fetchPicture","selected","loadings","JournalMain","setJournals","setFriendsByJournal","friendList","getFriendsByJournal","setSelected","frequest","MyButton","styled","backgroundRepeat","grid","submit","login","logo","form","Login","db","setJournalRef","setFriendRef","setFrequestsRef","setVal","password","user","existed","hasChild","setDB","justify","required","fullWidth","character","roundBox","personalInfo","lineHeight","recordsContainer","metaphorContainer","metaphorItem","ShowMetaphors","image","MyPage","bottom","withRouter","window","location","pathname","listen","action","BottomNavigation","BottomNavigationAction","NotFound","getUrl","pageNum","Tutorial","setPageNum","backgroundPosition","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","fire","database","createMuiTheme","typography","fontFamily","secondary","App","setMainBadge","setRef","setImage","ThemeProvider","NavigationBar","path","exact","render","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.bfd6dcc9.chunk.js","sourcesContent":["\nconst badge0 = \"/images/sick.jpg\";\nconst badge1 = \"/images/cat.png\";\nconst badge2 = \"/images/fry.png\";\nconst badge3 = \"/images/squirrel.png\";\n\nexport const badges = [\n  {\n    oid: 0,\n    thumbnail: badge0,\n    title: \"Ride a Bike Too Much\",\n    description:\n      \"You rode a bike too much and even did lots of assignments. You should take care of your body.\",\n  },\n  {\n    oid: 1,\n    thumbnail: badge1,\n    title: \"Meet lots of cute cats\",\n    description: \"You met lots of cute cats. Cats are perfect.\",\n  },\n  {\n    oid: 2,\n    thumbnail: badge2,\n    title: \"Become fried egg\",\n    description:\n      \"You rode a bike in sunny day very often. You may become fried egg.\",\n  },\n  {\n    oid: 3,\n    thumbnail: badge3,\n    title: \"Wow a squirrel\",\n    description:\n      \"You met a squirrel while riding a bike. It is very unique experience\",\n  },\n];\n","import React, { useState } from \"react\";\n\nimport ArrowBackIosOutlinedIcon from \"@material-ui/icons/ArrowBackIosOutlined\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { badges } from '../data/badge'\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    padding: theme.spacing(2),\n  },\n  paper: {\n    padding: theme.spacing(2),\n  },\n  badgeBox: {\n    width: \"100%\",\n    height: \"100%\",\n    maxHeight: \"50px\",\n    maxWidth: \"50px\",\n    overflow: \"hidden\",\n  },\n  badge: {\n    margin: \"auto\",\n    display: \"block\",\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"50%\",\n  },\n  eachBadge: {\n    margin: theme.spacing(2, 0),\n  },\n  buttonBase: {\n    width: \"98%\",\n    borderBottom: \"dotted 1px lightgray\",\n  },\n  arrow: {\n    margin: theme.spacing(1, 1),\n  },\n\n  bold: {\n    fontWeight: \"bold\",\n    fontSize: \"20px\",\n  },\n}));\n\n\nexport default function BadgeDetail({mainBadge, changeMainBadge}) {\n  const classes = useStyles();\n  let history = useHistory();\n\n  function backward() {\n    history.push(\"/biky/myPage\");\n  }\n\n  const eachBadge = badges.map((badge, idx) => (\n    <ButtonBase\n      className={classes.buttonBase}\n      style={\n        idx === mainBadge ? { backgroundColor: \"lightgray\" } : {}\n      }\n      onClick={() => {\n        changeMainBadge(badge.oid);\n        console.log(mainBadge);\n      }}\n      key={idx}\n    >\n      <Grid container spacing={2} className={classes.eachBadge}>\n        <Grid item>\n          <Box className={classes.badgeBox}>\n            <img\n              className={classes.badge}\n              src={process.env.PUBLIC_URL + badge.thumbnail}\n              alt={badge.title}\n            />\n          </Box>\n        </Grid>\n\n        <Grid item xs container direction=\"column\" spacing={2}>\n          <Grid item xs>\n            <Typography variant=\"h6\" align=\"left\">\n              {badge.title}\n            </Typography>\n          </Grid>\n          <Grid item xs>\n            <Typography variant=\"body2\" align=\"left\">\n              {badge.description}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n    </ButtonBase>\n  ));\n\n  return (\n    <Box p={3}>\n    <ButtonBase onClick={backward}>\n        <ArrowBackIosOutlinedIcon\n          className={classes.arrow}\n        ></ArrowBackIosOutlinedIcon>\n      </ButtonBase>\n\n        <Paper className={classes.root}>\n          <Typography className={classes.bold} style={{ marginBottom: \"10px\" }}>\n          Representative Badge\n        </Typography>\n\n          <Grid container spacing={2}>\n            <Grid item>\n              <Box className={classes.badgeBox}>\n                <img\n                  className={classes.badge}\n                  src={\n                    process.env.PUBLIC_URL +\n                    badges[mainBadge].thumbnail\n                  }\n                  alt=\"Representative Badge\"\n                />\n              </Box>\n            </Grid>\n            <Grid item xs container direction=\"column\" spacing={2}>\n              <Grid item xs>\n                <Typography variant=\"h6\">\n                  {badges[mainBadge].title}\n                </Typography>\n              </Grid>\n              <Grid item xs>\n                <Typography variant=\"body2\">\n                  {badges[mainBadge].description}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n\n        <Paper className={classes.root} style={{border: \"solid 1px lightgray\", marginTop: 10}}>\n        <Typography className={classes.bold} style={{ marginBottom: \"10px\" }}>\n        Other Badges\n        </Typography>\n\n        <div\n          style={{\n            overflow: \"scroll\",\n            maxHeight: \"calc(100vh - 390px)\",\n          }}>\n                    {eachBadge}\n\n        </div>\n        </Paper>\n    </Box>\n  );\n}\n","import { deepOrange, deepPurple } from '@material-ui/core/colors'\n\nimport Avatar from '@material-ui/core/Avatar'\nimport { Link } from 'react-router-dom'\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      // margin: theme.spacing(1),\n    },\n  },\n}))\n\nexport default function LetterAvatars() {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Avatar\n        src={process.env.PUBLIC_URL + '/images/nayeon.png'}\n        component={Link}\n        to=\"/biky/myPage\"\n      />\n    </div>\n  )\n}\n","export function toList(objects) {\n  if (!objects) return [];\n  return Object.values(objects);\n}\n\nexport function nullToList(list) {\n  if (!list) return [];\n  return list;\n}\n\nexport function formatTime(time) {\n  const hours = parseInt(time / 60);\n  const minutes = parseInt(time % 60);\n  return `${hours > 0 ? `${hours} hr${hours > 1 ? \"s\" : \"\"} ` : \" \"}${\n    minutes >= 0 ? `${minutes} min${minutes > 1 ? \"s\" : \"\"}` : \"\"\n  }`;\n}\n\nexport function formatDistance(distance) {\n  if (distance < 1) {\n    return `${(distance * 1000).toFixed(0)}m`;\n  } else {\n    return `${distance.toFixed(2)}km`;\n  }\n}\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport dayjs from \"dayjs\";\n\nexport default function DateComponent({ startTime, endTime }) {\n  const formatted = dayjs(startTime).format(\"YYYY. M. D.\");\n  const start = dayjs(startTime).format(\"H시 M분\");\n  const end = dayjs(endTime).format(\"H시 M분\");\n  return (\n    <div>\n      <Typography variant=\"h6\">{formatted}</Typography>\n    </div>\n  );\n}\n","// npm install --save-dev @iconify/react @iconify-icons/twemoji\n\nimport { Icon, InlineIcon } from \"@iconify/react\";\n\nimport catIcon from \"@iconify-icons/twemoji/cat\"; // 고양이\nimport cloudIcon from \"@iconify-icons/twemoji/cloud\"; // 구름\nimport cloudWithRain from \"@iconify-icons/twemoji/cloud-with-rain\"; // 비\nimport cloudWithSnow from \"@iconify-icons/twemoji/cloud-with-snow\"; // 눈\nimport cryingFace from \"@iconify-icons/twemoji/crying-face\"; // 눈물\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\nimport dodoIcon from '@iconify-icons/twemoji/dodo';\nimport dogIcon from \"@iconify-icons/twemoji/dog\"; // 강아지\nimport dollarBanknote from \"@iconify-icons/twemoji/dollar-banknote\"; // 돈\nimport droolingFace from \"@iconify-icons/twemoji/drooling-face\"; // 아마도 맛있는게 있어서 침흘림\nimport faceWithSymbolsOnMouth from \"@iconify-icons/twemoji/face-with-symbols-on-mouth\"; // 욕나옴\nimport faceWithThermometer from \"@iconify-icons/twemoji/face-with-thermometer\"; // 이시국에 열남\nimport firstQuarterMoonFace from \"@iconify-icons/twemoji/first-quarter-moon-face\"; // 달\nimport grinningFace from \"@iconify-icons/twemoji/grinning-face\"; // 웃음\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\nimport hotBeverage from \"@iconify-icons/twemoji/hot-beverage\"; // 커피 (핫)\nimport redHeart from \"@iconify-icons/twemoji/red-heart\"; // 하트\nimport rollingOnTheFloorLaughing from \"@iconify-icons/twemoji/rolling-on-the-floor-laughing\"; // 데굴데굴 웃음\nimport shortcakeIcon from \"@iconify-icons/twemoji/shortcake\"; // 케이크\nimport sleepingFace from \"@iconify-icons/twemoji/sleeping-face\"; // 졸림\nimport sunIcon from \"@iconify-icons/twemoji/sun\"; // 해\nimport taxiIcon from \"@iconify-icons/twemoji/taxi\"; // 택시\n\n// 날씨\n\n\n\n\n\n// 감정\n\n\n\n\n\n\n\n\n// 무언가 해시태그와 연결지어서 쓸 만한 것들\n\n\n\n\n\n\n\n// 메타포\n\n\n\n\n\n<Icon icon={cloudIcon} />; // 이런식으로 불러다가 넣으면 됩니다\n\nexport function getIconComponent(key)\n{\n  const icon = getIcon(key)\n  if (!icon) return null;\n  return <Icon icon={icon} width=\"2em\"/> \n}\n\n\nexport function getIcon(key)\n{\n  switch (key)\n  {\n    case \"sad\":\n    case \"힝\":\n    case \"슬프다\":\n      return cryingFace\n\n    case \"angry\":\n    case \"화나네\":\n      return faceWithSymbolsOnMouth\n    \n    case \"excited\":\n    case \"happy\":\n    case \"행복해\":\n    case \"기부니가 좋아요\":\n      return rollingOnTheFloorLaughing\n\n    case \"tired\":\n    case \"exhausted\":\n    case \"졸림\":\n    case \"sleepy\":\n      return sleepingFace\n\n    case \"존맛\":\n    case \"delicious\":\n    case \"yummy\":\n      return droolingFace\n\n    case \"이시국\":\n    case \"fever\":\n    case \"sick\":\n    case \"아파요\":\n      return faceWithThermometer\n\n    case \"sunny\":\n      return sunIcon\n    case \"cloudy\":\n      return cloudIcon\n    case \"rainy\":\n      return cloudWithRain\n\n    case \"dog\":\n      return dogIcon\n\n    case \"cat\":\n      return catIcon\n\n    case \"goose\":\n    case \"bird\":\n      return dodoIcon\n\n    default:\n      return null\n  }\n}\n\nexport const hashtagsDB = [\n    \"happy\", \"sick\", \"dog\", \"cat\", \"angry\", \n    \"excited\", \"tired\", \"exhausted\", \"sleepy\", \n    \"delicious\", \"yummy\", \"sunny\", \"cloudy\", \"rainy\"\n]","import { formatDistance, formatTime } from \"../../util/format\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport DateComponent from \"./DateComponent\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Icon } from \"@iconify/react\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\nimport { getIconComponent } from \"../../util/icon\";\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { nullToList } from \"../../util/format\";\nimport oncomingTaxi from \"@iconify-icons/twemoji/oncoming-taxi\";\nimport polyline from \"@mapbox/polyline\";\n\nexport function getDivs(items) {\n  if (!items) return <div> empty </div>;\n  return items.map((item) => (\n    <div style={{ display: \"inline\" }} key={item}>\n      {\" \"}\n      {item}{\" \"}\n    </div>\n  ));\n}\n\nexport function getHashtags(hashtags) {\n  if (!hashtags) return \"no hashtags yet\";\n  var temp = \"\";\n  hashtags.map((hashtag) => (temp += \"#\" + hashtag + \" \"));\n  return temp;\n}\n\nexport function getFriends(friends) {\n  // console.log(friends);\n  if (!friends) return <div> no friends... </div>;\n  var temp = friends.map((friend) => (\n    <Box mr={1}>\n      <Avatar\n        alt={friend.name}\n        src={process.env.PUBLIC_URL + friend.picture}\n        style={{\n          border: \"1.5px solid lightgray\",\n          width: \"30px\",\n          height: \"30px\",\n        }}\n      />\n    </Box>\n  ));\n  return (\n    <Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\n      {temp}\n    </Box>\n  );\n}\nconst useStyles = makeStyles((theme) => ({\n  tree: {\n    // background: \"linear-gradient(45deg, #73A15D, #94C25A)\",\n    height: \"40px\",\n    width: \"100%\",\n    borderRadius: \"5px\",\n  },\n  taxi: {\n    // background: \"linear-gradient(45deg, #A0BFE3, #F0A2B0)\",\n    height: \"40px\",\n    width: \"100%\",\n    borderRadius: \"5px\",\n  },\n  burger: {\n    // background: \"linear-gradient(45deg, #EED28B, #DB7E61)\",\n    height: \"40px\",\n    width: \"100%\",\n    borderRadius: \"5px\",\n  },\n}));\n\nexport function GetMetaphors(metaphor) {\n  const classes = useStyles();\n  if (!metaphor) return <div> empty metaphor </div>;\n  var randomIndex = Math.floor(Math.random() * 3);\n  var sent = \"\";\n  var icon_name;\n  var cn = \"\";\n  switch (randomIndex) {\n    case 0: {\n      console.log(\"tree\");\n      sent = metaphor.tree.toFixed(2) + \" trees\";\n      icon_name = deciduousTree;\n      cn = classes.tree;\n      break;\n    }\n\n    case 1: {\n      console.log(\"taxi\");\n      sent = metaphor.taxi.toFixed(0) + \" won\";\n      icon_name = oncomingTaxi;\n      cn = classes.taxi;\n      break;\n    }\n\n    case 2: {\n      console.log(\"burger\");\n      sent = metaphor.burger.toFixed(2) + \" burgers\";\n      icon_name = hamburgerIcon;\n      cn = classes.burger;\n      break;\n    }\n  }\n  return (\n    <Card className={cn} style={{ width: \"170px\", height: \"40px\" }}>\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <Icon\n          style={{\n            position: \"relative\",\n            top: \"2px\",\n            left: \"15px\",\n            height: \"35px\",\n            fontSize: 40,\n          }}\n          icon={icon_name}\n        />\n        <Typography\n          variant=\"body1\"\n          style={{\n            fontSize: \"1em\",\n            // color: \"white\",\n            position: \"relative\",\n            top: \"2px\",\n            left: \"25px\",\n          }}\n        >\n          {sent}\n        </Typography>\n      </div>\n    </Card>\n  );\n}\n\nexport function emojiItem(emoji) {\n  const iconComp = getIconComponent(emoji)\n  if (!iconComp) return null;\n  return (\n    <Box\n      borderRadius=\"50%\"\n      style={{\n        backgroundColor: \"white\",\n        boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\",\n      }}\n      width=\"40px\"\n      height=\"40px\"\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      mr={1}\n      key={emoji}\n    >\n      <Box>{iconComp}</Box>\n    </Box>\n  );\n}\n\nfunction generateurl(route) {\n  var url = \"https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/\";\n  var urlb =\n    \")/auto/100x100?access_token=pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg\";\n  var corRoute = [];\n  route.map((el) => corRoute.push([el[1], el[0]]));\n  const out = encodeURIComponent(polyline.encode(corRoute));\n  url +=\n    \"pin-s+0000ff(\" +\n    corRoute[0][1] +\n    \",\" +\n    corRoute[0][0] +\n    \"),pin-s+ff0000(\" +\n    corRoute[corRoute.length - 1][1] +\n    \",\" +\n    corRoute[corRoute.length - 1][0] +\n    \"),path(\";\n  url = url.concat(out, urlb);\n  // console.log(url);\n  return url;\n}\n\nexport default function JournalItem({ journal, openJournal, friends }) {\n  if (!journal) return null;\n  const emojis = nullToList(journal.hashtags).map(emojiItem);\n  return (\n    <Card\n      onClick={() => openJournal(journal)}\n      style={{\n        margin: \"35px\",\n        padding: \"15px\",\n        flexDirection: \"column\",\n      }}\n      display=\"flex\"\n      id={journal.id + \"main\"}\n    >\n      <Box flex={1} minHeight=\"40px\" display=\"flex\" flexDirection=\"row\">\n        <Box flex={4}>\n          <DateComponent\n            startTime={journal.startTime}\n            endTime={journal.endTime}\n          />\n        </Box>\n        <Box flex={4} display=\"flex\" flexDirection=\"row-reverse\">\n          {emojis}\n        </Box>\n      </Box>\n      <Box flex={1} display=\"flex\" flexDirection=\"row\">\n        <Box\n          component=\"div\"\n          textOverflow=\"ellipsis\"\n          overflow=\"hidden\"\n          style={{\n            wordWrap: \"breakWord\",\n            whiteSpace: \"nowrap\",\n            fontSize: \"x-large\",\n          }}\n        >\n          {journal.title}\n        </Box>\n      </Box>\n      {/* <Divider /> */}\n      <Box flex={2} my={2}>\n        <Box\n          component=\"div\"\n          textOverflow=\"ellipsis\"\n          overflow=\"hidden\"\n          style={{\n            wordWrap: \"breakWord\",\n            whiteSpace: \"nowrap\",\n            fontSize: \"small\",\n          }}\n        >\n          {getHashtags(journal.hashtags)}\n        </Box>\n      </Box>\n\n      <Box flex={1} my={1} display=\"flex\" flexDirection=\"row\">\n        <Box flex={1}>{getFriends(friends)}</Box>\n        <Box\n          flex={1}\n          display=\"flex\"\n          flexDirection=\"column\"\n          style={{ textAlign: \"right\" }}\n        >\n          <Box style={{ fontSize: \"x-small\" }}>{formatTime(journal.time)}</Box>\n          <Box style={{ fontSize: \"x-large\" }}>\n            {formatDistance(journal.distance)}\n          </Box>\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\n// https://stackoverflow.com/questions/42483449/mapbox-gl-js-export-map-to-png-or-pdf\n","import CircularProgress from '@material-ui/core/CircularProgress';\nimport React from 'react'\n\nexport default function Loading()\n{\n  return <div style={{\n    // position: 'fixed',\n    width: '100%',\n    height: '100%',\n    // marginTop: '50%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    display: 'flex'\n  }}>\n    <CircularProgress color=\"secondary\" /> \n    </div>\n} ","import withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport GridListTileBar from \"@material-ui/core/GridListTileBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Loading from \"../Loading\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"80%\",\n    },\n  },\n\n  hashtagGroup: {\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n\n  title: {\n    color: theme.palette.primary.light,\n  },\n  titleBar: {\n    background:\n      \"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\",\n  },\n\n  gridList: {},\n\n  picture: {\n    borderRadius: 25,\n  },\n}));\n\nfunction useWidth() {\n  const theme = useTheme();\n  const keys = [...theme.breakpoints.keys].reverse();\n  return (\n    keys.reduce((output, key) => {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      const matches = useMediaQuery(theme.breakpoints.up(key));\n      return !output && matches ? key : output;\n    }, null) || \"xs\"\n  );\n}\n\nconst getGridListCols = (width) => {\n  if (isWidthUp(\"xl\", width)) {\n    return 5;\n  }\n\n  if (isWidthUp(\"lg\", width)) {\n    return 4;\n  }\n\n  if (isWidthUp(\"md\", width)) {\n    return 3;\n  }\n\n  return 3;\n};\n\nconst getGridListCellHeight = (width) => {\n  if (isWidthUp(\"xl\", width)) {\n    return 200;\n  }\n\n  if (isWidthUp(\"lg\", width)) {\n    return 150;\n  }\n\n  return 100;\n};\n\nexport default function PictureList({ pictures, removePicture, isEditing }) {\n  const classes = useStyles();\n  const width = useWidth();\n\n  if (!pictures) return null;\n\n  const cols = getGridListCols(width);\n  const cellHeight = getGridListCellHeight(width);\n\n  return (\n    <GridList\n      cellHeight={cellHeight}\n      className={classes.gridList}\n      cols={cols}\n      spacing={12}\n    >\n      {pictures.map((pic, index) => (\n        <GridListTile key={pic === 'loading' ? `loading${index}` : pic} className={classes.picture}\n        onClick={() => console.log(pic)}\n        \n        >\n          {(pic === 'loading') ? \n            <Loading/> : <img src={pic} alt=\"bike\" />}\n          {isEditing && (\n            <GridListTileBar\n              classes={{\n                root: classes.titleBar,\n                title: classes.title,\n              }}\n              actionIcon={\n                <IconButton\n                  aria-label={`delete ${pic}`}\n                  onClick={() => removePicture(pic)}\n                >\n                  <DeleteIcon className={classes.title} />\n                </IconButton>\n              }\n            />\n          )}\n        </GridListTile>\n      ))}\n    </GridList>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport mapboxgl from \"mapbox-gl\";\n\nconst useStyles = makeStyles({\n  map: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\",\n    textAlign: \"center\",\n    display: \"inline-block\",\n    // border: \"solid 1px black\"\n  },\n});\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API\n\nexport default function StaticMap(props) {\n  const classes = useStyles();\n  var route = props.route ? props.route : [];\n  var zoom = props.zoom ? props.zoom : 14;\n  var width = props.width ? props.width : \"100%\";\n  var height = props.height ? props.height : \"300px\";\n  var length = route.length;\n  var startCoordinates = route[0];\n  var endCoordinates = route[length - 1];\n\n  // console.log(route)\n\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  // console.log(mapContainer.current);\n  useEffect(() => {\n    if (map.current) return; // initialize map only once\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: endCoordinates,\n      zoom: zoom,\n    });\n    map.current.on(\"load\", function () {\n      // if (props.resize) \n      // map.resize();\n\n      map.current.addSource(\"route\", {\n        type: \"geojson\",\n        data: {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"LineString\",\n            coordinates: route,\n          },\n        },\n      });\n      map.current.addLayer({\n        id: \"route\",\n        type: \"line\",\n        source: \"route\",\n        layout: {\n          \"line-join\": \"round\",\n          \"line-cap\": \"round\",\n        },\n        paint: {\n          \"line-color\": \"#888\",\n          \"line-width\": 4,\n        },\n      });\n\n      map.current.addSource(\"start\", {\n        type: \"geojson\",\n        data: {\n          type: \"FeatureCollection\",\n          features: [\n            {\n              type: \"Feature\",\n              properties: {},\n              geometry: {\n                type: \"Point\",\n                coordinates: startCoordinates,\n              },\n            },\n          ],\n        },\n      });\n      map.current.addLayer({\n        id: \"start\",\n        type: \"circle\",\n        source: \"start\",\n        paint: {\n          \"circle-radius\": 5,\n          \"circle-color\": \"#0000FF\",\n          \"circle-opacity\": 1,\n        },\n      });\n\n      map.current.addSource(\"end\", {\n        type: \"geojson\",\n        data: {\n          type: \"FeatureCollection\",\n          features: [\n            {\n              type: \"Feature\",\n              properties: {},\n              geometry: {\n                type: \"Point\",\n                coordinates: endCoordinates,\n              },\n            },\n          ],\n        },\n      });\n      map.current.addLayer({\n        id: \"end\",\n        type: \"circle\",\n        source: \"end\",\n        paint: {\n          \"circle-radius\": 5,\n          \"circle-color\": \"#FF0000\",\n          \"circle-opacity\": 1,\n        },\n      });\n    });\n  });\n\n  return (\n    <div style={{ width: width, height: height }}>\n      <div ref={mapContainer} className={classes.map} />\n    </div>\n  );\n}\n","import { GetMetaphors, emojiItem, getFriends, getHashtags } from \"./JournalItem\";\nimport { formatDistance, formatTime, nullToList } from \"../../util/format\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport { Link } from \"react-router-dom\";\nimport PictureList from \"./PictureList\";\nimport React from \"react\";\nimport StaticMap from \"../home/StaticMap\";\nimport dayjs from \"dayjs\";\nimport { getIconComponent } from \"../../util/icon\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  row: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    marginBottom: \"20px\",\n  },\n\n  centeredRow: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: \"20px\",\n  },\n\n  actions: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: \"20px\",\n  },\n}));\n\n// function formatTime(time) {\n//   console.log('time: ', time)\n//   return dayjs(time).format('YYYY년 M월 D일 H시 m분') // '25/01/2019'\n// }\n\n// function getTime(start, end) {\n//   return (\n//     <div>\n//       {formatTime(start)} 부터 {formatTime(end)} 까지\n//     </div>\n//   )\n// }\n\nexport default function JournalDetail({ journal, friends, handleClose }) {\n  const classes = useStyles();\n\n  if (!journal) return null;\n\n  const emojis = nullToList(journal.hashtags).map(getIconComponent);\n\n  return (\n    <Card\n      style={{\n        margin: \"20px\",\n        padding: \"20px\",\n        maxHeight: \"90%\",\n        flexDirection: \"column\",\n      }}\n      display=\"flex\"\n    >\n      <div\n        className={classes.actions}\n        style={{\n          paddingBottom: \"10px\",\n          borderBottom: \"1px solid #BBBBBB\",\n        }}\n      >\n        <div\n          style={{\n            display: \"inline-block\",\n            justifyContent: \"flex-start\",\n            flex: 1,\n          }}\n        >\n          <Button\n            onClick={() =>\n              alert(\n                \"You should not delete your precious memory. If you want to really delete, please look for the next update!\"\n              )\n            }\n            style={{\n              position: \"relative\",\n              left: \"-15px\",\n            }}\n          >\n            <img\n              alt=\"delete button\"\n              src={process.env.PUBLIC_URL + \"/images/delete.png\"}\n            />\n          </Button>\n        </div>\n\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n          <Button\n            disabled={false}\n            component={Link}\n            to={`/biky/edit/${journal.id}`}\n            style={{\n              position: \"relative\",\n              left: \"35px\",\n            }}\n          >\n            <img\n              alt=\"edit button\"\n              src={process.env.PUBLIC_URL + \"/images/edit.png\"}\n            />\n          </Button>\n\n          <Button\n            onClick={handleClose}\n            style={{\n              position: \"relative\",\n              left: \"20px\",\n            }}\n          >\n            <img\n              alt=\"close button\"\n              src={process.env.PUBLIC_URL + \"/images/close.png\"}\n            />\n          </Button>\n        </div>\n      </div>\n\n      <div className={classes.row}>\n        <div style={{ display: \"inline-block\", fontSize: 30, maxWidth: \"70%\" }}>\n          {journal.title}\n        </div>\n        <div style={{ display: \"inline-block\" }}>{journal.date}</div>\n      </div>\n\n      <div className={classes.row}>\n        <div style={{ display: \"inline-block\", maxWidth: \"50%\" }}>\n          <div style={{ display: \"flex\" }}>\n            {emojis.map((emoji) => emojiItem(emoji))}\n          </div>\n        </div>\n        <div style={{ display: \"inline-block\" }}>\n          <div style={{ display: \"flex\" }}>{getHashtags(journal.hashtags)}</div>\n        </div>\n      </div>\n\n      <div className={classes.row}>\n        <div style={{ flexWrap: \"wrap\" }}>{getFriends(friends)}</div>\n      </div>\n\n      <div className={classes.row} style={{whiteSpace: 'pre-line'}}>{journal.desc}</div>\n\n      <div className={classes.centeredRow}>\n        <div style={{ display: \"inline-block\", maxWidth: \"50%\" }}>\n          {GetMetaphors(journal.metaphors)}\n        </div>\n        <div style={{ display: \"inline-block\" }}>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div style={{ fontSize: 24 }}>\n              {formatDistance(journal.distance)}\n            </div>\n            <div style={{ fontSize: 15 }}> {formatTime(journal.time)} </div>\n          </div>\n        </div>\n      </div>\n\n      <div className={classes.centeredRow}>\n        <PictureList pictures={journal.photos} isEditing={false} />\n      </div>\n\n      <div>\n        <StaticMap route={journal.route} zoom={15} width={\"100%\"} />\n      </div>\n    </Card>\n  );\n}\n","import JournalItem from './JournalItem'\nimport Loading from '../Loading';\nimport React from 'react';\nimport _ from 'lodash'\n\nexport default function JournalList({ journals, openJournal, friendsByJournal }) {\n  if (!journals || !journals.length)\n  return <Loading/>\n\n  \n  var journalList =  _.sortBy(journals, (journal) => new Date(journal.createdAt)).reverse().map(journal => \n  { \n    return <JournalItem\n    key={journal.id}\n    openJournal={openJournal}\n    journal={journal}\n    friends={friendsByJournal[journal.id]}\n  />})\n\n  return (\n    <div>\n      {journalList}\n    </div>\n  );\n};","import { fade, makeStyles } from '@material-ui/core/styles';\n\nimport InputBase from '@material-ui/core/InputBase';\nimport JournalDetail from '../../component/journal/JournalDetail'\nimport JournalList from '../../component/journal/JournalList'\nimport React from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    // padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch',\n      },\n    },\n  },\n}));\n\n\n\nexport default function SearchBar() {\n  const classes = useStyles();\n\n\n  return (\n    <div className={classes.search}>\n      <div className={classes.searchIcon}>\n        <SearchIcon />\n      </div>\n      <InputBase\n        placeholder=\"Search…\"\n        classes={{\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        }}\n        inputProps={{ 'aria-label': 'search' }}\n      />\n    </div>\n\n  );\n};","import { IconButton, Typography } from \"@material-ui/core\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Box from \"@material-ui/core/Box\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Divider from \"@material-ui/core/Divider\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport Modal from \"@material-ui/core/Modal\";\nimport React from \"react\";\nimport SearchBar from \"../common/SearchBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// https://material-ui.com/components/modal/\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: \"80%\",\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: \"18px\",\n  },\n  mailIcon: {\n    position: \"absolute\",\n    display: \"inline-block\",\n    marginLeft: \"10px\"\n  }\n}));\n\nfunction ReceivedElement(props) {\n  return (\n    <div style={{ margin: \"5px\", marginTop: \"5px\", width: \"100%\" }}>\n      <Accordion expanded={false} style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}>\n        <AccordionSummary>\n          <Box\n            display=\"flex\"\n            alignItems=\"center\"\n            justifyContent=\"flex-start\"\n            flexDirection=\"row\"\n            width=\"100%\"\n          >\n            <Box flex={1} mr={1}>\n              <Avatar\n                alt={props.name}\n                src={process.env.PUBLIC_URL + props.picture}\n                style={{\n                  border: \"2px solid lightgray\",\n                  width: \"30px\",\n                  height: \"30px\"\n                }}\n              />\n            </Box>\n            <Box flex={8} mr={2} style={{ minWidth: \"75px\" }}>\n              <Typography variant=\"body2\" color=\"textPrimary\">\n                {props.name}\n              </Typography>\n            </Box>\n\n            <Box>\n              <div style={{ display: \"inline-block\", marginRight: \"10px\" }}>\n                <IconButton\n                  style={{ color: \"green\", width: \"30px\", height: \"30px\" }}\n                  onClick={() => {\n                    props.onAcceptClick(props.oid);\n                  }}\n                >\n                  <CheckCircleIcon />\n                </IconButton>\n              </div>\n              <div style={{ display: \"inline-block\" }}>\n                <IconButton\n                  style={{ color: \"red\", width: \"30px\", height: \"30px\" }}\n                  onClick={() => {\n                    props.onRejectClick(props.oid);\n                  }}\n                >\n                  <CancelIcon />\n                </IconButton>\n              </div>\n            </Box>\n          </Box>\n        </AccordionSummary>\n      </Accordion>\n    </div>\n  );\n}\n\nexport default function Frequest(props) {\n  const classes = useStyles();\n  const [modalStyle] = React.useState({\n    top: `50%`,\n    left: `50%`,\n    transform: `translate(-50%, -50%)`,\n    maxHeight: \"80vh\",\n    overflow: \"scroll\"\n  });\n  const [open, setOpen] = React.useState(false);\n\n  function fillTable(el) {\n    // https://javascript.plainenglish.io/material-ui-icons-and-lists-a98c8ccbdac0\n    return (\n      <ReceivedElement\n        key={el.id}\n        oid={el.id}\n        name={el.name}\n        picture={el.picture}\n        onRejectClick={props.onRejectClick}\n        onAcceptClick={props.onAcceptClick}\n      />\n    );\n  }\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  // https://stackoverflow.com/questions/42363198/how-to-add-close-icon-in-material-ui-dialog-header-top-right-corner\n  const body = (\n    <div style={modalStyle} className={classes.paper}>\n      <Box display=\"flex\" flexDirection=\"column\">\n        <Box flex={1} display=\"flex\" alignItems=\"center\" flexDirection=\"row\">\n          <Box flexGrow={1}>\n            <Typography variant=\"h4\" color=\"textPrimary\">\n              <b>Frequest</b>\n            </Typography>\n          </Box>\n          <Box>\n            <IconButton onClick={handleClose} style={{ width: \"30px\", height: \"30px\" }}>\n              <CloseIcon />\n            </IconButton>\n          </Box>\n        </Box>\n\n        <Box flex={4}>\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" style={{ padding: \"7px 0\" }}>\n            <b>Received Frequests</b>\n          </Typography>\n          <Box display=\"flex\" alignItems=\"center\" flexDirection=\"column\" style={{ paddingBottom: \"5px\" }}>\n            {props.frequests == null || props.frequests.length === 0 ? (\n              <Typography variant=\"body1\" color=\"textPrimary\">\n                You have received no frequests\n              </Typography>\n            ) : (\n              props.frequests.map(fillTable)\n            )}\n          </Box>\n        </Box>\n\n        <Divider style={{ margin: \"10px 0\" }} />\n\n        <Box flex={4}>\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" style={{ padding: \"7px 0\" }}>\n            <b>Send a Frequest</b>\n          </Typography>\n          <SearchBar />\n        </Box>\n      </Box>\n    </div>\n  );\n\n  return (\n    <div className={classes.mailIcon}>\n      <IconButton onClick={handleOpen}>\n        {props.frequests == null || props.frequests.length === 0 ? (\n          <MailIcon />\n        ) : (\n          <Badge badgeContent={props.frequests.length} color=\"primary\">\n            <MailIcon />\n          </Badge>\n        )}\n      </IconButton>\n\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        {body}\n      </Modal>\n    </div>\n  );\n}\n","import Box from \"@material-ui/core/Box\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst ProgressStyles = makeStyles((theme) => ({\n  pro_bar: {\n    backgroundColor: \"hsl(0, 0%, 97%)\",\n    height: \"4px\",\n    marginBottom: \"12px\",\n    marginTop: \"12px\",\n    position: \"relative\",\n  },\n\n  progress_bar_inner: {\n    display: \"block\",\n    width: 0,\n    height: \"100%\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    backgroundColor: \"#ff85ac\",\n    transition: \"width 1s linear 0s\",\n    \"&::after\": {\n      content: `\"\"`,\n      width: \"32px\",\n      height: \"29px\",\n      backgroundImage: `url(${process.env.PUBLIC_URL + \"/images/bike.png\"})`,\n      backgroundSize: \"contain\",\n      borderRadius: \"50%\",\n      position: \"absolute\",\n      right: \"-4px\",\n      top: \"-20px\",\n    },\n  },\n}));\n// https://bestjquery.com/tutorial/progress-bar/demo17/\n\nexport default function LinearProgressBar(props) {\n  const classes = ProgressStyles();\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"row\"\n      alignItems=\"center\"\n      justifyContent=\"flex-start\"\n    >\n      <Box flex={5} style={{ transform: \"translateY(8px)\" }}>\n        <div className={classes.pro_bar}>\n          <div\n            className={classes.progress_bar_inner}\n            style={{\n              width: props.value + \"%\",\n            }}\n            data-value={props.value}\n            data-percentage-value={props.value}\n          ></div>\n        </div>\n      </Box>\n      {/* <Box flex={1}>\n        <Typography variant=\"body2\" color=\"textPrimary\" align=\"right\">\n          {props.value}%\n        </Typography>\n      </Box> */}\n    </Box>\n  );\n}","import { formatDistance, formatTime } from \"../../util/format\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport { Divider } from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { Icon } from \"@iconify/react\";\nimport LinearProgressBar from \"./LinearProgressBar\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport dayjs from \"dayjs\";\n\nexport function JournalEntry({ journal }) {\n  return (\n    <div\n      style={{\n        backgroundColor: \"white\",\n        borderRadius: \"5px\",\n        padding: \"7px\",\n        marginTop: \"10px\",\n        fontSize: \"11px\",\n      }}\n    >\n      <div\n        style={{\n          display: \"inline-block\",\n          width: \"30%\",\n        }}\n      >\n        {dayjs(journal.startTime).format(\"YYYY. M. D.\")}\n      </div>\n      <div\n        style={{\n          display: \"inline-block\",\n          width: \"70%\",\n        }}\n      >\n        {journal.title}\n      </div>\n    </div>\n  );\n}\n\nexport default function FriendItem({ friend, journals }) {\n  console.log(journals);\n  var time = 0.0;\n  var distance = 0.0;\n  journals &&\n    journals.map((journal) => {\n      distance += journal.distance;\n      time += dayjs(journal.endTime).diff(journal.startTime, \"minute\", true);\n    });\n  friend.total_intimacy = (time + distance * 10) / 2;\n  if (friend.total_intimacy >= 100.0) {\n    friend.total_intimacy = 100.0;\n  }\n  return (\n    <Accordion\n      style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}\n    >\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <FriendListItemInner key={friend.id} friend={friend} />\n      </AccordionSummary>\n      <AccordionDetails style={{ backgroundColor: \"#f0f0f0\", padding: \"10px\" }}>\n        <div style={{ width: \"100%\" }}>\n          <div style={{ display: \"inline-block\", width: \"50%\" }}>\n            <b>Time: </b>\n            {formatTime(time)}\n          </div>\n\n          <div style={{ display: \"inline-block\", width: \"50%\" }}>\n            <b>Distance: </b>\n            {formatDistance(distance)}\n          </div>\n\n          <div>\n            {journals &&\n              journals.map((journal) => (\n                <JournalEntry journal={journal} key={journal.id} />\n              ))}\n          </div>\n        </div>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n\nfunction FriendListItemInner({ friend }) {\n  return (\n    <Box\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"flex-start\"\n      flexDirection=\"row\"\n      width=\"100%\"\n    >\n      <Box flex={1} mr={1}>\n        <Avatar\n          alt={friend.name}\n          src={process.env.PUBLIC_URL + friend.picture}\n          style={{\n            border: \"2px solid lightgray\",\n            width: \"30px\",\n            height: \"30px\",\n          }}\n        />\n      </Box>\n      <Box flex={2} mr={2} style={{ minWidth: \"75px\" }}>\n        <Typography variant=\"body1\" color=\"textPrimary\">\n          {friend.name}\n        </Typography>\n      </Box>\n      <Box flex={6}>\n        <LinearProgressBar value={friend.total_intimacy} />\n      </Box>\n    </Box>\n  );\n}\n","import Box from \"@material-ui/core/Box\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport FriendListItem from \"./FriendItem\";\nimport { IconButton } from \"@material-ui/core\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// https://material-ui.com/components/lists/\n// https://material-ui.com/components/cards/\n// https://material-ui.com/components/progress/\n// https://material-ui.com/components/accordion/\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nfunction fillTable(friend, journals) {\n  console.log(journals);\n  // https://javascript.plainenglish.io/material-ui-icons-and-lists-a98c8ccbdac0\n  return <div key={friend.id} style={{ margin: \"10px\", marginTop: \"5px\" }}>\n    <FriendListItem friend={friend} journals={journals} />\n  </div>\n}\n\nexport default function FriendList(props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Box display=\"flex\" flexDirection=\"column\">\n        <Box alignSelf=\"flex-end\" style={{ marginRight: \"10px\" }}>\n          <IconButton>\n            <FilterListIcon />\n          </IconButton>\n        </Box>\n\n        <div>\n          {props.flist.map((friend) =>\n            fillTable(friend, props.journalsByFriend[friend.id])\n          )}\n        </div>\n      </Box>\n    </div>\n  );\n}\n","// import '../index.css'\n\nimport { deepOrange, deepPurple } from '@material-ui/core/colors'\n\nimport Avatar from '@material-ui/core/Avatar'\nimport { Link } from 'react-router-dom'\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    position: 'relative',\n  },\n  container: {display: 'flex', \n  textDecorationLine: 'none',\n  textDecorationColor: 'black',\n  alignItems: 'center', justifyContent: 'flex-end', margin: '5px'}\n\n}))\n\nexport default function Profile() {\n  const classes = useStyles()\n\n  return (\n      <div className={classes.root}>\n        <Link className={classes.container} to=\"/biky/myPage\">\n          <div style={{marginRight: '10px'}}> Nayeon Min </div>\n          <div>       \n            <Avatar\n              src={process.env.PUBLIC_URL + '/images/nayeon.png'}\n              // component={Link}\n              // to=\"/biky/myPage\"\n              />\n          </div>\n        </Link>\n      </div>\n  )\n}\n","import Avatar from '../component/Avatar'\nimport FrequestComponent from '../component/friend/Frequest'\nimport FriendList from '../component/friend/Friends'\nimport Loading from '../component/Loading'\nimport Profile from './Profile'\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nfunction getJournalsByFriend(flist, journals) {\n  let journalsByFriend = {};\n  for (let i = 0; i < flist.length; i++) {\n    let f = flist[i];\n    journalsByFriend[f.id] = journals.filter(\n      (j) => j.friends && j.friends.includes(f.id)\n    );\n  }\n  console.log(journalsByFriend);\n\n  return journalsByFriend;\n}\n\nconst useStyles = makeStyles({\n  page: {\n    position: \"relative\",\n    margin: \"0 auto\",\n  },\n  verticalAlign: {\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    display: \"inline-block\",\n  },\n  header: {\n    position: \"relative\",\n    height: \"49px\",\n    fontSize: \"30px\",\n    fontWeight: \"bold\",\n    borderBottom: \"solid 1px black\",\n    textAlign: \"center\",\n  },\n  avatar: {\n    position: \"relative\",\n    height: \"50px\",\n    // border: \"solid 1px black\",\n  },\n  content: {\n    position: \"relative\",\n    height: \"calc(100vh - 160px)\",\n    overflow: \"scroll\",\n    // border: \"solid 1px black\",\n  },\n});\n\nexport default function Friends({ journalRef, friendRef, frequestRef }) {\n  const classes = useStyles();\n\n  const [frequests, setFrequests] = React.useState([]);\n  const [friendlist, setFriendlist] = React.useState([]);\n  const [journalsByFriend, setJournalsByFriend] = React.useState(null);\n\n  const acceptFrequest = (fid) => {\n    var newFriend = {\n      id: \"f\" + friendlist.length,\n      picture: \"\",\n      name: \"\",\n      total_intimacy: 0,\n    };\n    for (var i = 0; i < frequests.length; i++) {\n      if (frequests[i].id === fid) {\n        newFriend.name = frequests[i].name;\n        newFriend.picture = frequests[i].picture;\n      }\n    }\n    friendRef.child(\"f\" + friendlist.length).set(newFriend);\n    frequestRef.child(fid).remove();\n  };\n\n  React.useEffect(() => {\n    friendRef.on(\"value\", (snapshot) => {\n      const friendData = snapshot.val();\n      journalRef.once(\"value\", (snapshot) => {\n        console.log(friendData);\n        setFriendlist(Object.values(friendData));\n        const journals = snapshot.val();\n        setJournalsByFriend(\n          getJournalsByFriend(\n            Object.values(friendData),\n            Object.values(journals)\n          )\n        );\n      });\n    });\n\n    frequestRef.on(\"value\", (snapshot) => {\n      const frequestData = snapshot.val();\n      console.log(frequestData);\n      setFrequests(frequestData === null ? [] : Object.values(frequestData));\n    });\n  }, []);\n\n  const rejectFrequest = (fid) => {\n    frequestRef.child(fid).remove();\n  };\n\n  if (!journalsByFriend) return <Loading/>;\n  \n  return (\n    <div className={classes.page}>\n      <div className={classes.header}>\n        <div className={classes.verticalAlign}>Friends</div>\n      </div>\n\n      <Profile/>\n\n      <div className={classes.content}>\n        <FrequestComponent\n          frequests={frequests}\n          onRejectClick={rejectFrequest}\n          onAcceptClick={acceptFrequest}\n        />\n        <FriendList flist={friendlist} journalsByFriend={journalsByFriend} />\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst sunny = '/images/home/weather_sunny.png'\nconst cloudy = '/images/home/weather_cloudy.png'\nconst rainy = '/images/home/weather_rainy.png'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    position: \"relative\",\n    width: \"calc(50% - 15px)\",\n    height: \"calc(100% - 40px)\",\n    padding: \"10px\",\n    paddingRight: \"5px\",\n    display: \"inline-block\",\n    // border: \"solid 1px black\",\n    verticalAlign: \"top\",\n  },\n  background: {\n    position: \"relative\",\n    width: \"calc(100% - 20px)\",\n    height: \"100%\",\n    backgroundColor: \"darkgray\",\n    borderRadius: \"10px\",\n    padding: \"10px\",\n    color: \"black\",\n    fontWeight: \"bold\",\n    fontSize: \"15px\",\n    // border: \"solid 1px black\"\n  },\n}));\n\nfunction randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction getImgURL(weather) {\n  return `${process.env.PUBLIC_URL}/images/home/weather_${weather}.png`\n}\n\nfunction getTemperature(weather) {\n  if (weather === 'sunny')\n    return randomInt(20, 30)\n  else if (weather === 'cloudy')\n    return randomInt(15, 25)\n  else if (weather === 'rainy')\n    return randomInt(10, 20)\n  return randomInt(0, 30)\n}\n\n\n\nexport default function Weather({weather, temperature}) {\n  const classes = useStyles();\n\n  const style = { \n    color: \"black\", \n    backgroundSize: \"100% 100%\", \n    backgroundImage: `url(${getImgURL(weather)}`\n  }\n\n  // const temperature = getTemperature(weather)\n\n  if (weather === 'loading')\n    return (\n      <div className={classes.container}>\n        <div className={classes.background}>\n          Loading...\n        </div>\n      </div>\n    )\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.background} style={style}>\n        {weather} <br />\n        {temperature ? temperature : getTemperature(weather)}&#8451;\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    bar: {\n        position: \"relative\",\n        width: \"100%\",\n        height: \"10px\",\n        backgroundColor: \"white\",\n        borderRadius: \"10px\",\n        marginTop: \"10px\",\n        // border: \"solid 1px black\"\n    },\n    slider: {\n      position: \"absolute\",\n      top: \"5px\",\n      transform: \"translateY(-50%)\",\n      width: \"25px\",\n      height: \"15px\",\n      backgroundColor: \"darkgray\",\n      borderRadius: \"10px\",\n      color: \"white\",\n      textAlign: \"center\",\n      fontSize: \"10px\",\n      fontWeight: \"bold\",\n      border: \"solid 2px white\",\n      paddingTop: \"2px\"\n    },\n}));\n\nexport default function DustBar(props) {\n  const classes = useStyles();\n  var amount = props.amount;\n  var percentage = props.percentage;\n\n  return (\n    <div className={classes.bar}>\n        <div className={classes.slider} style={{ left: `calc(calc(100% - 29px) * ${percentage}` }}>{amount}</div>\n    </div>\n  )\n}","import React, { useState } from 'react';\n\nimport { DustBar } from './';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst dust = '/images/home/dust.png'\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n      position: \"relative\",\n      width: \"calc(50% - 15px)\",\n      height: \"calc(100% - 40px)\",\n      padding: \"10px\",\n      paddingLeft: \"5px\",\n      display: \"inline-block\",\n      // border: \"solid 1px black\",\n      verticalAlign: \"top\",\n    },\n    background: {\n      position: \"relative\",\n      width: \"calc(100% - 20px)\",\n      height: \"100%\",\n      backgroundColor: \"darkgray\",\n      borderRadius: \"10px\",\n      padding: \"10px\",\n      color: \"white\",\n      fontWeight: \"bold\",\n      fontSize: \"12px\",\n      // border: \"solid 1px black\"\n    },\n    text: {\n      position: \"relative\",\n      display: \"inline-block\",\n      margin: \"2px\"\n    },\n    status: {\n      position: \"absolute\",\n      right: \"10px\",\n      display: \"inline-block\",\n      color: \"darkgray\",\n      fontSize: \"10px\",\n      backgroundColor: \"white\",\n      padding: \"3px 10px\", \n      borderRadius: \"10px\",\n    }\n}));\n\nfunction randomInt(min, max) {\n  return Math.floor(Math.random()*(max-min+1)+min);\n}\n\nexport default function Dust({ fineDust, ultraFineDust }) {\n  const classes = useStyles();\n\n  // console.log(fineDust, ultraFineDust);\n  var fineDustAmount = fineDust;\n  var fineDustStatus = (fineDustAmount <= 30 ? \"GOOD\" : fineDustAmount <= 80 ? \"NORMAL\" : fineDustAmount <= 150 ? \"BAD\" : \"VERY BAD\");\n  var ultraFineDustAmount = ultraFineDust;\n  var ultraFineDustStatus = (ultraFineDustAmount <= 15 ? \"GOOD\" : ultraFineDustAmount <= 35 ? \"NORMAL\" : ultraFineDustAmount <= 75 ? \"BAD\" : \"VERY BAD\");\n\n  // console.log(fineDustAmount, ultraFineDustAmount);\n  return (\n    <div className={classes.container}>\n      {/* <img src={dust} width=\"100%\" alt=\"fine dust\" /> */}\n      <div className={classes.background}>\n        <div>\n          <div className={classes.text}>fine dust</div>\n          <div className={classes.status}>{fineDustStatus}</div>\n          <DustBar amount={fineDustAmount} percentage={fineDustAmount/200} />\n        </div>\n        <br/>\n        <div>\n          <div className={classes.text}>ultra-fine dust</div>\n          <div className={classes.status}>{ultraFineDustStatus}</div>\n          <DustBar amount={ultraFineDustAmount} percentage={ultraFineDustAmount/100}  />\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Distance(props) {\n  const style = props.style;\n  var distance = props.distance;\n\n  return (\n    <div className={style} style={{ width: \"100px\" }}>\n        { distance }\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Time(props) {\n  const style = props.style;\n  var time = props.time;\n\n  return (\n    <div className={style} style={{ width: \"120px\" }}>\n        { time }\n    </div>\n  )\n}","export const fullRoute = [ \n    [37.49470666236267, 126.91468074800363], // 0\n    [37.49415293252939, 126.91474014452083],\n    [37.493646325043095, 126.91481439016731],\n    [37.493646325043095, 126.91561624314943],\n    [37.493669888258175, 126.91635869961434],\n    [37.4943178737601, 126.91641809613154],\n    [37.494341436763335, 126.91747238431171],\n    \n    [37.49436499975911, 126.91845242684539], // 7\n  \n    [37.49369345146585, 126.91874940943136], // 8\n    [37.493057242249606, 126.91824453903524],\n    [37.49250350018724, 126.91779906515627],\n    [37.492161827504944, 126.91696751391557],\n    [37.49161986073405, 126.91631415222646],\n    [37.49088937755974, 126.91609141528697],\n    [37.490630172135496, 126.91692296652768],\n    [37.49068908253818, 126.91797725470786],\n    [37.490594825871604, 126.91943246937909],\n    [37.490747992894406, 126.92084313666243],\n    [37.49061839003611, 126.92174893382835],\n    [37.490465222747545, 126.92268442897412],\n    [37.491231056049536, 126.92283292026711],\n    [37.49218539117512, 126.9230408080773],\n    [37.49303367882794, 126.92327839414607],\n    [37.49317505916671, 126.9220459164143],\n    [37.4933046575755, 126.92078374042396],\n    [37.49359882211928, 126.91981753934691], // 25\n  ]\n  \n  // export const fullRoute = [ \n  //   [37.494670391439165, 126.91464380466944],\n  //   [37.49461632321203, 126.91465594036819],\n  //   [37.49456003296136, 126.91466527552109], \n  //   [37.49451929656926, 126.91467181012814],\n  //   [37.494469672207074, 126.91468207879632], \n  //   [37.494426713777365, 126.91469141394921], \n  //   [37.49439116195478, 126.91469701504094],\n  //   [37.49434894414346, 126.91470635019387],\n  //   [37.494312592802274, 126.91471474172195],\n  //   [37.494275203988074, 126.91472033270082],\n  //   [37.4942308443537, 126.91472672239101],\n  //   [37.49418585098338, 126.91473710563757],\n  //   [37.49414212500595, 126.91474828759539],\n  //   [37.494095230451, 126.91475547599684],\n  //   [37.49406227749845, 126.91476346311404],\n  //   [37.49401474918228, 126.91477065151551],\n  //   [37.49395581402821, 126.91478023605076],\n  //   [37.493894977691355, 126.91479141800859],\n  //   [37.49384111213756, 126.91480898966068],\n  //   [37.49378281055953, 126.91482256775232],\n  //   [37.493727043790116, 126.91482895744248],\n  //   [37.49366557355288, 126.91483295099884],\n  //   [37.49366557355288, 126.91492400408393],\n  //   [37.49366430612423, 126.91497911518655],\n  //   [37.49365987012572, 126.91505659018],\n  //   [37.49365733526928, 126.9151500393989],\n  //   [37.49365480041277, 126.91524029377271],\n  //   [37.493652265556186, 126.91531297649854],\n  //   [37.49365099812784, 126.91537367858254],\n  //   [37.49364846327113, 126.91544556259707],\n  //   [37.49364846327113, 126.9155206414567],\n  //   [37.49364402727167, 126.91560530485161],\n  //   [37.49364339355742, 126.91568357855633],\n  //   [37.49364402727167, 126.91576025483852],\n  //   [37.493642759843375, 126.9158153659569],\n  //   [37.49364149241491, 126.91589523708416],\n  //   [37.493639591272135, 126.91597830305653],\n  //   [37.49363705641501, 126.91606216774017],\n  //   [37.49363262041484, 126.91614443500124],\n  //   [37.49363262041474, 126.91621392290502],\n  //   [37.49363071927174, 126.91630337856756],\n  //   [37.49364719584283, 126.91636248320174],\n  //   [37.49370423009929, 126.91635369737773],\n  //   [37.49375682831944, 126.916354496089],\n  //   [37.49381703105605, 126.91635529480028],\n  //   [37.4938683617721, 126.91636328191301],\n  //   [37.49392476215607, 126.91636647676283],\n  //   [37.493979895066445, 126.91636967160792],\n  //   [37.49404389988837, 126.91637286645302],\n  //   [37.49410853836574, 126.91637366516429],\n  //   [37.4941738104969, 126.91637765872065],\n  //   [37.49424161740768, 126.91637845743193],\n  //   [37.49431322537524, 126.91638864486173],\n  //   [37.49432845700756, 126.91646019951277],\n  //   [37.494329841700974, 126.91655269697881],\n  //   [37.49433122639439, 126.91665043015048],\n  //   [37.49433122639505, 126.9167411824009],\n  //   [37.49433122639505, 126.91683804295496],\n  //   [37.494332611088865, 126.91693228568258],\n  //   [37.49433191874221, 126.91702914623667],\n  //   [37.49433330343809, 126.91711640802218],\n  //   [37.49433676517136, 126.91721675904665],\n  //   [37.49433261109141, 126.91729878510145],\n  //   [37.494330534051365, 126.91739128256748],\n  //   [37.49432568762433, 126.91748290741593],\n  //   [37.49433330343809, 126.9175588251475],\n  //   [37.49432914935773, 126.91762514412373],\n  //   [37.49432845701102, 126.91770018923768],\n  //   [37.49432707231756, 126.9177900688509],\n  //   [37.494323610583855, 126.91787558537611],\n  //   [37.4943229182371, 126.91796110190134],\n  //   [37.49432084119678, 126.91804661842654],\n  //   [37.49432153354372, 126.91810333860887],\n  //   [37.49432914935789, 126.91818274681086],\n  //   [37.49433884221117, 126.91826040977764],\n  //   [37.49436099729966, 126.91836337865494],\n  //   [37.49439561461225, 126.91848379988431],\n  //   [37.494335380478, 126.91851434150045],\n  //   [37.494291070277896, 126.91853092125379],\n  //   [37.49423222075454, 126.91855099145867],\n  //   [37.494175448229264, 126.9185736795164],\n  //   [37.494120060358135, 126.9185954949565],\n  //   [37.494076442375025, 126.91860945685032],\n  //   [37.49402520852772, 126.91862429134957],\n  //   [37.49397535934528, 126.9186469794073],\n  //   [37.49392758718089, 126.91866617699456],\n  //   [37.49387773793326, 126.91868624719946],\n  //   [37.493842428025424, 126.91869846385408],\n  //   [37.49379396342433, 126.91871417097097],\n  //   [37.493726805282236, 126.91874034949909],\n  //   [37.49365203119734, 126.91877089111523],\n  //   [37.493595760869646, 126.91875429096568],\n  //   [37.49353517083514, 126.91870282533002],\n  //   [37.49349792865738, 126.91866728604477],\n  //   [37.49344578958348, 126.91861431242103],\n  //   [37.49338939421764, 126.91856670321489],\n  //   [37.49333565897094, 126.91851507069556],\n  //   [37.493276071325454, 126.91846209707182],\n  //   [37.493224464125355, 126.9184151584034],\n  //   [37.493174985028006, 126.91836352588409],\n  //   [37.49311965352544, 126.91830921115594],\n  //   [37.49305740553605, 126.91826160194981],\n  //   [37.493012182601404, 126.91822069824885],\n  //   [37.49296217132841, 126.91817644180368],\n  //   [37.492911627986544, 126.91813017370195],\n  //   [37.49286268071766, 126.9180845761524],\n  //   [37.49282224598911, 126.91804769576143],\n  //   [37.49277747095127, 126.9180044206152],\n  //   [37.492742356546344, 126.91791188441172],\n  //   [37.49268017626305, 126.91789368377515],\n  //   [37.49258649430441, 126.91783420396115],\n  //   [37.49249633411297, 126.91780668345021],\n  //   [37.492418887646934, 126.91777463820318],\n  //   [37.49234111147015, 126.9177448055245],\n  //   [37.49230120850289, 126.917672385887],\n  //   [37.49226609386961, 126.91761740058436],\n  //   [37.49221980637914, 126.91754162818584],\n  //   [37.492174582941175, 126.91746518523512]\n  // ]\n  \n  export const routeStart = [\n    [36.36998994369789, 127.36259606290608],\n  ];\n\n  export const routeOri = [\n    // E11\n    [36.36998994369789, 127.36259606290608],\n    [36.37002827883807, 127.36267384697095],\n    [36.3700698535462, 127.36276504208145],\n    [36.3701152077479, 127.36284886111683],\n    [36.370149223384736, 127.36291725743892],\n    [36.37018809837673, 127.36299168874235],\n    [36.37022481362909, 127.36306075562754],\n    [36.37026422851543, 127.36312781084841],\n    [36.37030040380235, 127.36320157159956],\n    [36.37024479104087, 127.3632518630208],\n    [36.37018917823964, 127.3632954489192],\n    [36.370133025467226, 127.36334171701724],\n    [36.370073093137364, 127.36339267899076],\n    [36.370033587613364, 127.36342751252236],\n    [36.36998497813373, 127.36346847728863],\n    [36.369932317829885, 127.36351159809519],\n    [36.36987560669357, 127.36355974966256],\n    [36.36981484471591, 127.36360718254979],\n    [36.36977202195536, 127.36363880446574],\n    [36.369723412312325, 127.36367545715132],\n    [36.369667858397364, 127.36371929663801],\n    [36.369616933940506, 127.36376098008438],\n    [36.36956427338752, 127.3638005074904],\n    [36.36951913573802, 127.36383500412872],\n    [36.369464160365524, 127.36387525021487],\n    [36.369413235775305, 127.36391477762089],\n    [36.36936288984086, 127.36395574238713],\n    [36.36931080780541, 127.36399886319373],\n    [36.36927841161092, 127.36402717076376],\n    [36.36923521666913, 127.36407075666216],\n    [36.36919580126378, 127.3641404940996],\n    [36.369174203772964, 127.36421760761218],\n    [36.36915260627612, 127.36430142664757],\n    [36.369138567897785, 127.36435909412812],\n    [36.36911967007975, 127.36444090150667],\n    [36.36909969238139, 127.36453008496031],\n    [36.369082954305824, 127.36462463283225],\n    [36.36907431529661, 127.36468900584036],\n    [36.369069995792195, 127.36476477824834],\n    [36.36901492208964, 127.36474801444128],\n    [36.36896308798104, 127.36471649848397],\n    [36.36891989286417, 127.36466620706273],\n    [36.36888317699597, 127.36460786901408],\n    [36.368854020259604, 127.36456495368054],\n    [36.36881784430013, 127.36450862728874],\n    [36.36877950856353, 127.36444425426956],\n    [36.368736313344755, 127.3643825634595],\n    [36.36869311810196, 127.36431819044034],\n    [36.368666661001086, 127.3642813100768],\n    [36.36862670536659, 127.36422833644642],\n    [36.36871804671542, 127.36415542613142],\n    [36.36876934104968, 127.36411586355155], \n    [36.36883629360016, 127.36405819605517],\n    [36.36879525817282, 127.36397840033348],\n    [36.36874666355984, 127.3638858641184],\n    [36.36870549761045, 127.36380329494037],\n    [36.368659062705106, 127.3637020415456],\n    [36.36861532747823, 127.36361621085334],\n    [36.36858617064448, 127.36354245011674],\n    [36.36853865578439, 127.3634559488722],\n    [36.36848628141639, 127.36337481204593],\n    [36.36844200614689, 127.36329903964672],\n    [36.368395571084285, 127.36323399607524],\n    [36.36836641417036, 127.36316023532413],\n    // Ori 378m\n  ]\n\n  export const routeEnd = [\n    // E11\n    [36.36998994369789, 127.36259606290608],\n    [36.37002827883807, 127.36267384697095],\n    [36.3700698535462, 127.36276504208145],\n    [36.3701152077479, 127.36284886111683],\n    [36.370149223384736, 127.36291725743892],\n    [36.37018809837673, 127.36299168874235],\n    [36.37022481362909, 127.36306075562754],\n    [36.37026422851543, 127.36312781084841],\n    [36.37030040380235, 127.36320157159956],\n    [36.37024479104087, 127.3632518630208],\n    [36.37018917823964, 127.3632954489192],\n    [36.370133025467226, 127.36334171701724],\n    [36.370073093137364, 127.36339267899076],\n    [36.370033587613364, 127.36342751252236],\n    [36.36998497813373, 127.36346847728863],\n    [36.369932317829885, 127.36351159809519],\n    [36.36987560669357, 127.36355974966256],\n    [36.36981484471591, 127.36360718254979],\n    [36.36977202195536, 127.36363880446574],\n    [36.369723412312325, 127.36367545715132],\n    [36.369667858397364, 127.36371929663801],\n    [36.369616933940506, 127.36376098008438],\n    [36.36956427338752, 127.3638005074904],\n    [36.36951913573802, 127.36383500412872],\n    [36.369464160365524, 127.36387525021487],\n    [36.369413235775305, 127.36391477762089],\n    [36.36936288984086, 127.36395574238713],\n    [36.36931080780541, 127.36399886319373],\n    [36.36927841161092, 127.36402717076376],\n    [36.36923521666913, 127.36407075666216],\n    [36.36919580126378, 127.3641404940996],\n    [36.369174203772964, 127.36421760761218],\n    [36.36915260627612, 127.36430142664757],\n    [36.369138567897785, 127.36435909412812],\n    [36.36911967007975, 127.36444090150667],\n    [36.36909969238139, 127.36453008496031],\n    [36.369082954305824, 127.36462463283225],\n    [36.36907431529661, 127.36468900584036],\n    [36.369069995792195, 127.36476477824834],\n    [36.36901492208964, 127.36474801444128],\n    [36.36896308798104, 127.36471649848397],\n    [36.36891989286417, 127.36466620706273],\n    [36.36888317699597, 127.36460786901408],\n    [36.368854020259604, 127.36456495368054],\n    [36.36881784430013, 127.36450862728874],\n    [36.36877950856353, 127.36444425426956],\n    [36.368736313344755, 127.3643825634595],\n    [36.36869311810196, 127.36431819044034],\n    [36.368666661001086, 127.3642813100768],\n    [36.36862670536659, 127.36422833644642],\n    [36.36871804671542, 127.36415542613142],\n    [36.36876934104968, 127.36411586355155], \n    [36.36883629360016, 127.36405819605517],\n    [36.36879525817282, 127.36397840033348],\n    [36.36874666355984, 127.3638858641184],\n    [36.36870549761045, 127.36380329494037],\n    [36.368659062705106, 127.3637020415456],\n    [36.36861532747823, 127.36361621085334],\n    [36.36858617064448, 127.36354245011674],\n    [36.36853865578439, 127.3634559488722],\n    [36.36848628141639, 127.36337481204593],\n    [36.36844200614689, 127.36329903964672],\n    [36.368395571084285, 127.36323399607524],\n    [36.36836641417036, 127.36316023532413],\n    // Ori\n    [36.368312419856416, 127.36320113901337],\n    [36.36825086629285, 127.36324941877777],\n    [36.36821361016141, 127.36328227583556],\n    [36.36816123557458, 127.36332653228624],\n    [36.36810724111828, 127.36337749425978],\n    [36.36804892706339, 127.36342242126274],\n    [36.36799385263397, 127.36343046788897],\n    [36.3679295990885, 127.3634371734118],\n    [36.36786264575776, 127.36343113844127],\n    [36.36781909461797, 127.36346999529697],\n    [36.36776122452615, 127.36351527215419],\n    [36.36770624789901, 127.3635655797733],\n    [36.36764895642523, 127.36361157531077],\n    [36.36761560783714, 127.36354826211146],\n    [36.36757602007516, 127.3634748839856],\n    [36.36753465970533, 127.36339636939093],\n    [36.367494481039294, 127.36331785479624],\n    [36.367456665801406, 127.3632496131546],\n    [36.367420032275895, 127.36318357284131],\n    [36.367381626141906, 127.36310579202788],\n    [36.36733731134837, 127.36303241390205],\n    [36.36729772344482, 127.36296123711993],\n    [36.36725695379173, 127.36288345630652],\n    [36.36721618411469, 127.36281227954262],\n    [36.36717253855067, 127.36272360771618],\n    [36.36723067378139, 127.36267501374762],\n    [36.36729551687514, 127.36263683277706],\n    [36.36735365201396, 127.3626007344004],\n    [36.36741178710934, 127.36256533022332],\n    [36.36746265528677, 127.36253409124845],\n    [36.36752693919387, 127.36249591027313],\n    [36.36758563314963, 127.36246120029558],\n    [36.36764712200818, 127.36242371351985],\n    [36.36769966699907, 127.36239108614839],\n    [36.36776171475606, 127.3623556819713],\n    [36.36782208549915, 127.36231958359463],\n    [36.36788245619543, 127.36228417941756],\n    [36.36794450380667, 127.3622466926418],\n    [36.36800387879504, 127.36222181127204],\n    [36.368071371949235, 127.36220303580814],\n    [36.36813292565481, 127.36216682598484],\n    [36.368200418700035, 127.36213061616427],\n    [36.36826723033706, 127.36214920931155],\n    [36.36833202354691, 127.3621626203572],\n    [36.36838277819445, 127.36216999643024],\n    [36.36844379171126, 127.36218139581905],\n    [36.368502105470206, 127.3621995007307],\n    [36.36855339994425, 127.36223436944944],\n    [36.36859983491266, 127.36227594369099],\n    [36.36864195032968, 127.3623208706848],\n    [36.36868676542308, 127.36236847989689],\n    [36.368730500609814, 127.36241944187043],\n    [36.36877369583181, 127.36247040384394],\n    [36.36882121054834, 127.3625233774743],\n    [36.36886277843433, 127.3625763882137],\n    [36.36891137297479, 127.36265149006941],\n    // E9\n    [36.36896860650577, 127.36260656306644],\n    [36.369022060425884, 127.36256498882489],\n    [36.36906201586154, 127.36253012011359],\n    [36.369116009655926, 127.3624845225583],\n    [36.36917216316165, 127.3624409366599],\n    [36.369226696815886, 127.36239802131377],\n    [36.369276371006805, 127.36235912928862],\n    [36.3693314445243, 127.36231219062878],\n    [36.36938273845157, 127.36226927528267],\n    [36.36943889176478, 127.36221898386141],\n    [36.36947668724532, 127.3621700335523],\n    [36.36951502263839, 127.36210364887627],\n    [36.369573875529014, 127.36205335745503],\n    [36.36963110857263, 127.36200708934749],\n    [36.36970001070625, 127.36195177575871],\n    [36.36975487162625, 127.36190862506331],\n    [36.36981338989827, 127.36185941812997],\n    [36.3698603264014, 127.36181551041393],\n    [36.36993530282786, 127.36182762288985],\n    [36.36997065754048, 127.36190029774524],\n    [36.370009669620686, 127.36196388823261],\n    [36.370054167748314, 127.36204564744494],\n    [36.370100494539095, 127.3621349769547],\n    [36.37015718386597, 127.36223793299293],\n    // E11 858m\n  ]","import React, { useEffect, useRef, useState } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport mapboxgl from 'mapbox-gl';\n\nimport { routeStart, routeOri, routeEnd } from \"../../data/route\"\n\nconst fullRoute = routeEnd;\n\nconst useStyles = makeStyles({\n    map: {\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\",\n        textAlign: \"center\",\n        display: \"inline-block\",\n        // border: \"solid 1px black\"\n    },\n  });\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API\n\nfunction swapColumns(array) {\n  var newArray = [];\n  const length = array.length;\n  for(var i = 0; i < length; i++) {\n    newArray.push([ array[i][1], array[i][0] ]);\n  }\n  return newArray;\n}\n\nfunction InnerMap({ route, lng, lat }) {\n  const classes = useStyles();\n\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n\n  const [zoom, setZoom] = useState(15);\n\n  useEffect(() => {\n    if (map.current) return; // initialize map only once\n      map.current = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [lng, lat],\n        zoom: zoom\n      });\n      map.current.on('load', function () {\n        map.current.addSource('route', {\n          'type': 'geojson',\n          'data': {\n            'type': 'Feature',\n            'properties': {},\n            'geometry': {\n              'type': 'LineString',\n              'coordinates': swapColumns(route)\n            }\n          }\n        });\n        map.current.addLayer({\n          'id': 'route',\n          'type': 'line',\n          'source': 'route',\n          'layout': {\n            'line-join': 'round',\n            'line-cap': 'round'\n          },\n          'paint': {\n            'line-color': '#888',\n            'line-width': 4\n          }\n        });\n\n        map.current.addSource('pointer', {\n          type: 'geojson',\n          data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n              \"type\": \"Feature\",\n              \"properties\": {},\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [lng, lat]\n              }\n            }]\n          }\n        });\n        map.current.addLayer({\n          id: 'pointer',\n          type: 'circle',\n          source: 'pointer',\n          paint: {\n            'circle-radius': 5,\n            'circle-color': '#FF0000',\n            'circle-opacity': 0.8\n          }\n        });\n      });\n  });\n\n  useEffect(() => {\n    // console.log(\"mode changed to \"+mode)\n    // if(mode === \"e11s\") {\n    //   console.log(\"1. start\")\n    //   setLng(routeStart[routeStart.length - 1][1]);\n    //   setLat(routeStart[routeStart.length - 1][0]);\n    //   setRoute(routeStart);\n    //   // setRoute(props.route);\n    // } else if(mode === \"ori\") {\n    //   console.log(\"2. ori\")\n    //   setLng(routeOri[routeOri.length - 1][1]);\n    //   setLat(routeOri[routeOri.length - 1][0]);\n    //   setRoute(routeOri);\n    //   // setRoute(props.route);\n    // } else if(mode === \"e11e\") {\n    //   console.log(\"3. end\")\n    //   setLng(routeEnd[routeEnd.length - 1][1]);\n    //   setLat(routeEnd[routeEnd.length - 1][0]);\n    //   setRoute(routeEnd);\n    //   // setRoute(props.route);\n    // } else if(mode === \"none\") {\n    //   console.log(\"0. none\")\n    //   if(index >= fullRoute.length) {\n    //     // index = (index - 8) % 18 + 8;\n    //     index = fullRoute.length - 1;\n    //   }\n    //   // console.log(index)\n    //   setLng(fullRoute[index][1]);\n    //   setLat(fullRoute[index][0]);\n    //   setRoute(route => [...route, fullRoute[index]]);\n    // }\n\n    map.current.setCenter([lng, lat]);\n\n    if(map.current.getSource('route')) {\n      map.current.getSource('route').setData({\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"LineString\",\n            \"coordinates\": swapColumns(route)\n        }\n      });\n    }\n\n    if(map.current.getSource('pointer')) {\n      map.current.getSource('pointer').setData({\n        \"type\": \"FeatureCollection\",\n        \"features\": [{\n          \"type\": \"Feature\",\n          \"properties\": {},\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [lng, lat]\n          }\n        }]\n      });\n    }\n  });\n\n  return (\n    <div ref={mapContainer} className={classes.map}>\n\n    </div>\n  )\n}\n\nexport default function Map(props) {\n  const classes = useStyles();\n  var index = parseInt(props.index);\n  // console.log(`index ${index}`)\n  var isRiding = props.isRiding;\n\n  var mode = props.mode;\n\n  // const mapContainer = useRef(null);\n  // const map = useRef(null);\n  const [lng, setLng] = useState(fullRoute[0][1]);\n  const [lat, setLat] = useState(fullRoute[0][0]);\n  // const [zoom, setZoom] = useState(15);\n  const [route, setRoute] = useState(fullRoute.slice(0, 1));\n\n  // useEffect(() => {\n  //   if (map.current) return; // initialize map only once\n  //     map.current = new mapboxgl.Map({\n  //       container: mapContainer.current,\n  //       style: 'mapbox://styles/mapbox/streets-v11',\n  //       center: [lng, lat],\n  //       zoom: zoom\n  //     });\n  //     map.current.on('load', function () {\n  //       map.current.addSource('route', {\n  //         'type': 'geojson',\n  //         'data': {\n  //           'type': 'Feature',\n  //           'properties': {},\n  //           'geometry': {\n  //             'type': 'LineString',\n  //             'coordinates': swapColumns(route)\n  //           }\n  //         }\n  //       });\n  //       map.current.addLayer({\n  //         'id': 'route',\n  //         'type': 'line',\n  //         'source': 'route',\n  //         'layout': {\n  //           'line-join': 'round',\n  //           'line-cap': 'round'\n  //         },\n  //         'paint': {\n  //           'line-color': '#888',\n  //           'line-width': 4\n  //         }\n  //       });\n\n  //       map.current.addSource('pointer', {\n  //         type: 'geojson',\n  //         data: {\n  //           \"type\": \"FeatureCollection\",\n  //           \"features\": [{\n  //             \"type\": \"Feature\",\n  //             \"properties\": {},\n  //             \"geometry\": {\n  //               \"type\": \"Point\",\n  //               \"coordinates\": [lng, lat]\n  //             }\n  //           }]\n  //         }\n  //       });\n  //       map.current.addLayer({\n  //         id: 'pointer',\n  //         type: 'circle',\n  //         source: 'pointer',\n  //         paint: {\n  //           'circle-radius': 5,\n  //           'circle-color': '#FF0000',\n  //           'circle-opacity': 0.8\n  //         }\n  //       });\n  //     });\n  // });\n\n  useEffect(() => {\n    console.log(\"mode changed to \"+mode)\n    if(mode === \"e11s\") {\n      setLng(routeStart[routeStart.length - 1][1]);\n      setLat(routeStart[routeStart.length - 1][0]);\n      setRoute(routeStart);\n    } else if(mode === \"ori\") {\n      setLng(routeOri[routeOri.length - 1][1]);\n      setLat(routeOri[routeOri.length - 1][0]);\n      setRoute(routeOri);\n    } else if(mode === \"e11e\") {\n      setLng(routeEnd[routeEnd.length - 1][1]);\n      setLat(routeEnd[routeEnd.length - 1][0]);\n      setRoute(routeEnd);\n    } else if(mode === \"none\") {\n      if(index >= fullRoute.length) {\n        // index = (index - 8) % 18 + 8;\n        index = fullRoute.length - 1;\n      }\n      setLng(fullRoute[index][1]);\n      setLat(fullRoute[index][0]);\n      setRoute(route => [...route, fullRoute[index]]);\n    }\n\n    // console.log(\"mapmode \"+mode)\n    // console.log(\"maproute \"+route)\n\n    // map.current.setCenter([lng, lat]);\n\n    // if(map.current.getSource('route')) {\n    //   map.current.getSource('route').setData({\n    //     \"type\": \"Feature\",\n    //     \"geometry\": {\n    //         \"type\": \"LineString\",\n    //         \"coordinates\": swapColumns(route)\n    //     }\n    //   });\n    // }\n\n    // if(map.current.getSource('pointer')) {\n    //   map.current.getSource('pointer').setData({\n    //     \"type\": \"FeatureCollection\",\n    //     \"features\": [{\n    //       \"type\": \"Feature\",\n    //       \"properties\": {},\n    //       \"geometry\": {\n    //         \"type\": \"Point\",\n    //         \"coordinates\": [lng, lat]\n    //       }\n    //     }]\n    //   });\n    // }\n  }, [index, mode]);\n\n  useEffect(() => {\n    if(isRiding) {\n      return;\n    }\n    props.saveRoute(swapColumns(route));\n    setLng(fullRoute[0][1]);\n    setLat(fullRoute[0][0]);\n    setRoute(fullRoute.slice(0, 1));\n  }, [isRiding])\n\n  return (\n    // <div ref={mapContainer} className={classes.map}>\n\n    // </div>\n    <InnerMap route={route} lng={lng} lat={lat} />\n  )\n}","import { Button, Typography } from '@material-ui/core'\n\nimport React from 'react'\n\nexport default function StartButton(props) {\n  const style = props.style\n\n  return (\n\n    <Button\n      className={style.button}\n      style={{\n        backgroundColor: '#FF85AC',\n      }}\n      variant=\"contained\">\n      <Typography className={style.text} color=\"textPrimary\">\n        Start Ride\n      </Typography>\n    </Button>\n  )\n}\n","import { Button, Typography } from '@material-ui/core'\n\nimport React from 'react';\n\nexport default function StopButton(props) {\n  const style = props.style;\n\n  return (\n    <Button className={style.button} variant=\"contained\" style={{\n      backgroundColor: \"#A9A9A9\"\n    }}>\n      <Typography className={style.text} color=\"white\">\n        Stop Ride\n      </Typography>\n    </Button>\n  )\n}","import React, { useState } from 'react';\nimport { MetaphorTaxi, MetaphorBurger, MetaphorTree } from './';\n\nexport default function MetaphorContainer(props) {\n    var amount = props.amount; \n    var min = 1;\n    var max = 3;\n    var [randomInt, setRandomInt] = useState(Math.floor(Math.random()*(max-min+1)+min));\n\n    return (\n        <div style={{ position: \"relative\" }}>\n            { randomInt === 1 ? <MetaphorTaxi amount={amount}/> : null }\n            { randomInt === 2 ? <MetaphorBurger amount={amount}/> : null }\n            { randomInt === 3 ? <MetaphorTree amount={amount}/> : null }\n        </div>\n    )\n}","import { Icon } from \"@iconify/react\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport oncomingTaxi from \"@iconify-icons/twemoji/oncoming-taxi\";\n\nconst taxi = \"/images/home/metaphor_taxi.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    position: 'relative',\n    // background: 'linear-gradient(45deg, #A0BFE3, #F0A2B0)',\n    borderRadius: '10px',\n    padding: '10px',\n  },\n  img: {\n    display: 'inline-block',\n    // border: \"solid 1px black\",\n    fontSize: 60,\n  },\n  text: {\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    display: 'inline-block',\n    // color: 'white',\n    // fontSize: \"15px\",\n    // fontWeight: \"bold\",\n    // margin: \"0 auto\",\n    // border: \"solid 1px black\",\n    width: 'calc(85% - 20px)',\n    // paddingLeft: \"10px\",\n    textAlign: 'center',\n  },\n}))\n\nexport default function MetaphorTaxi(props) {\n  const classes = useStyles()\n  var amount = props.amount\n\n\n  return (\n    <div className={classes.background}>\n      <Icon icon={oncomingTaxi} className={classes.img} />\n      <div className={classes.text}>\n        You saved {(amount * 1000).toFixed(0)} won!\n      </div>\n    </div>\n  );\n}\n","import { Icon } from \"@iconify/react\";\nimport React from \"react\";\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst burger = \"/images/home/metaphor_burger.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    position: 'relative',\n    // background: 'linear-gradient(45deg, #EED28B, #DB7E61)',\n    borderRadius: '10px',\n    padding: '10px',\n  },\n  img: {\n    display: 'inline-block',\n    // border: \"solid 1px black\",\n    fontSize: 60,\n  },\n  text: {\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    display: 'inline-block',\n    // color: 'white',\n    // fontSize: '15px',\n    // fontWeight: 'bold',\n    // border: \"solid 1px black\",\n    width: 'calc(85% - 20px)',\n    // paddingLeft: '10px',\n    textAlign: 'center',\n  },\n}))\n\nexport default function MetaphorBurger(props) {\n  const classes = useStyles()\n  var amount = props.amount\n\n\n  return (\n    <div className={classes.background}>\n      <Icon icon={hamburgerIcon} className={classes.img} />\n      <div className={classes.text}>\n        You skipped {(amount * 0.1).toFixed(2)} burgers!\n      </div>\n    </div>\n  );\n}\n","import { Icon } from \"@iconify/react\";\nimport React from \"react\";\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst tree = \"/images/home/metaphor_tree.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n\n    position: 'relative',\n    // background: 'linear-gradient(45deg, #73A15D, #94C25A)',\n    borderRadius: '10px',\n    padding: '10px',\n  },\n  img: {\n    display: 'inline-block',\n    // border: \"solid 1px black\",\n    fontSize: 60,\n  },\n  text: {\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    display: 'inline-block',\n    // color: 'white',\n    // fontSize: '15px',\n    // fontWeight: 'bold',\n    // margin: '0 auto',\n    // border: \"solid 1px black\",\n    width: 'calc(85% - 20px)',\n    // paddingLeft: '10px',\n    textAlign: 'center',\n  },\n}))\n\nexport default function MetaphorTree(props) {\n  const classes = useStyles()\n  var amount = props.amount\n\n\n  return (\n    <div className={classes.background}>\n      <Icon icon={deciduousTree} className={classes.img} />\n      <div className={classes.text}>\n        You planted {(amount * 0.05).toFixed(2)} trees!\n      </div>\n    </div>\n  );\n}\n","import { Button, Modal, Typography } from '@material-ui/core'\nimport { MetaphorContainer, StaticMap } from './'\n\nimport { Link } from 'react-router-dom'\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    top: '50%',\n    left: '50%',\n    transform: `translate(-50%, -50%)`,\n    position: 'absolute',\n    width: '75%',\n    maxHeight: '75vh',\n    overflowY: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(4),\n    outline: 'none',\n  },\n  title: {\n    fontSize: '20px',\n    fontWeight: 'bold',\n    textAlign: 'center',\n    paddingBottom: '15px',\n    position: 'relative',\n    top: '-5px',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  half: {\n    display: 'inline-block',\n    width: '50%',\n    paddingBottom: '10px',\n  },\n  label: {\n    display: 'inline-block',\n    fontSize: '15px',\n    fontWeight: 'bold',\n    padding: '5px',\n    paddingLeft: '0',\n  },\n  button: {\n    width: '100%',\n    textAlign: 'center',\n    // border: \"solid 1px black\",\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: '15px',\n    backgroundColor: '#FF85AC',\n    borderRadius: '10px',\n    padding: '10px',\n    marginTop: '10px',\n  },\n}))\n\nexport default function JournalModal(props) {\n  const classes = useStyles()\n  var open = props.open\n  var distance = props.distance\n  var time = props.time\n  var amount = props.amount\n  var route = props.route\n  var closeModal = props.closeModal\n\n  return (\n    <div>\n      <Modal\n        open={open}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div className={classes.modal}>\n          <div id=\"modal-title\" className={classes.title}>\n            <Typography\n              style={{\n                display: 'inline-block',\n                justifyContent: 'flex-start',\n                position: 'relative',\n                left: '30px',\n                flex: 1,\n              }}\n              variant=\"h5\"\n            >\n              Today's Ride\n            </Typography>\n\n            <Button\n              style={{\n                display: 'flex',\n                justifyContent: 'flex-end',\n                position: 'relative',\n                left: '5px',\n              }}\n              size=\"small\"\n              onClick={closeModal}\n            >\n              <img\n                alt=\"close button\"\n                src={process.env.PUBLIC_URL + '/images/close.png'}\n              />\n            </Button>\n          </div>\n\n          <MetaphorContainer amount={amount} />\n\n          {/* <hr /> */}\n\n          <div id=\"modal-description\">\n            <div className={classes.half}>\n              <div className={classes.label}>Time</div> {time}\n            </div>\n            <div className={classes.half}>\n              <div className={classes.label}>Distance</div> {distance}\n            </div>\n            <br />\n\n            <div>\n              <div className={classes.label}>Route</div>\n              <StaticMap\n                route={route}\n                zoom={15}\n                width={'100%'}\n                height={'300px'}\n              />\n            </div>\n\n            <Button className={classes.button} onClick={props.handleJournal}>\n              Journal Ride\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  )\n}\n","export const allPhotos = [\n  process.env.PUBLIC_URL + \"/images/photo1.jpg\",\n  process.env.PUBLIC_URL + \"/images/photo2.jpg\",\n  process.env.PUBLIC_URL + \"/images/photo3.jpg\",\n  process.env.PUBLIC_URL + \"/images/photo4.jpg\",\n  process.env.PUBLIC_URL + \"/images/photo5.jpg\",\n  process.env.PUBLIC_URL + \"/images/photo6.jpg\",\n]\n\nexport const getRandomPhoto = (num) => {\n  if (num < 1) return []\n  if (num >= allPhotos.length) return allPhotos\n  return getRandom(allPhotos, num)\n}\n\nfunction getRandom(arr, n) {\n    var result = new Array(n),\n        len = arr.length,\n        taken = new Array(len);\n    if (n > len)\n        throw new RangeError(\"getRandom: more elements taken than available\");\n    while (n--) {\n        var x = Math.floor(Math.random() * len);\n        result[n] = arr[x in taken ? taken[x] : x];\n        taken[x] = --len in taken ? taken[len] : len;\n    }\n    return result;\n}\n","import {\n  Distance,\n  Dust,\n  JournalModal,\n  Map,\n  StartButton,\n  StopButton,\n  Time,\n  Weather,\n} from \"../component/home\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { formatDistance, formatTime } from \"../util/format\";\nimport { routeEnd, routeOri, routeStart } from \"../data/route\"\n\nimport Avatar from \"../component/Avatar\";\nimport { Button } from \"@material-ui/core\";\nimport Profile from \"./Profile\";\nimport dayjs from \"dayjs\";\nimport { getRandomPhoto } from \"../data/photo\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  page: {\n    position: \"relative\",\n    // maxWidth: \"550px\",\n    margin: \"0 auto\",\n    // border: \"solid 1px blue\",\n  },\n  verticalAlign: {\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    display: \"inline-block\",\n  },\n  header: {\n    position: \"relative\",\n    height: \"49px\",\n    fontSize: \"30px\",\n    fontWeight: \"bold\",\n    borderBottom: \"solid 1px black\",\n    textAlign: \"center\",\n  },\n  avatar: {\n    position: \"relative\",\n    height: \"50px\",\n    // border: \"solid 1px black\",\n  },\n  content: {\n    position: \"relative\",\n    height: \"calc(100vh - 160px)\",\n    overflow: \"scroll\",\n    // border: \"solid 1px black\",\n  },\n  weatherContainer: {\n    position: \"relative\",\n    width: \"100%\",\n    // height: \"25%\",\n    height: \"145px\",\n    // border: \"solid 1px black\",\n  },\n  measuresContainer: {\n    position: \"absolute\",\n    zIndex: \"1\",\n    width: \"calc(100% - 20px)\",\n    // border: \"solid 1px black\",\n    padding: \"10px\",\n  },\n  measures: {\n    display: \"inline-block\",\n    // border: \"solid 1px black\",\n    padding: \"10px\",\n    margin: \"0 5px\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: \"20px\",\n  },\n  mapContainer: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"60%\",\n    // border: \"solid 1px black\",\n  },\n  buttonContainer: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"calc(40% - 145px)\",\n    minHeight: \"50px\",\n    // border: \"solid 1px black\",\n  },\n  button: {\n    position: \"relative\",\n    height: \"calc(100% - 20px)\",\n    textAlign: \"center\",\n    borderRadius: \"10px\",\n    fontWeight: \"bold\",\n    fontSize: \"20px\",\n    margin: \"10px\",\n    width: \"calc(100% - 20px)\",\n    // border: \"solid 1px black\",\n  },\n  buttonText: {\n    position: \"relative\",\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: \"25px\",\n    color: \"white\",\n  },\n  startButton: {\n    position: \"relative\",\n    height: \"calc(100% - 20px)\",\n    textAlign: \"center\",\n    borderRadius: \"10px\",\n    fontWeight: \"bold\",\n    fontSize: \"25px\",\n    margin: \"10px\",\n    width: \"calc(100% - 20px)\",\n    color: theme.palette.primary.main,\n  },\n  stopButton: {},\n}));\n\nfunction randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction getRandomTitle() {\n  const randomTitles = [\n    \"Met a beautiful cat\",\n    \"No play and all work makes Jack a dull boy\",\n    \"Come along with me\",\n    \"Dundun dance\",\n    \"Here's Jonny\",\n    \"Open the pot, HAL\",\n  ];\n  let selector = randomInt(0, randomTitles.length - 1);\n  return randomTitles[selector];\n}\n\nconst weatherTypes = [\"sunny\", \"cloudy\", \"rainy\"];\n\nfunction getRidingTime(time, wizard) {\n  if (!wizard) return time\n  const {startPauseTime, endPauseTime} = wizard\n  if (!startPauseTime || !endPauseTime) return time\n  \n  const [spHour, spMin] = startPauseTime.split(':')\n  const [epHour, epMin] = endPauseTime.split(':')\n\n  const pauseTime = (epHour - spHour) * 60 + (epMin - spMin)\n//   console.log('pauseTime: ', pauseTime)\n  const resultTime = time - pauseTime\n  return resultTime >= 0 ? resultTime : 0\n}\n\nfunction getRidingPlace(wizard) {\n  if (!wizard) return 'Boramae Park'\n  const { place } = wizard\n  if (!place) return 'Borameae Park'\n  return place\n}\n\n\nexport default function Home({ journalRef, wizardRef }) {\n  const classes = useStyles();\n  const [isRiding, setIsRiding] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [distance, setDistance] = useState(0);\n  const [time, setTime] = useState(0);\n  const [route, setRoute] = useState([]);\n  const [index, setIndex] = useState(0);\n\n  const [weather, setWeather] = useState('loading');\n\n  const increment = useRef(null);\n\n  const [hashtags, setHashtags] = useState([]);\n  const [startTime, setStartTime] = useState(dayjs());\n  const [wizard, setWizard] = useState(null);\n  const [mode, setMode] = useState(\"none\");\n\n  React.useEffect(\n    () => {\n      console.log(\"wizard changed\")\n      if (wizardRef) {\n        wizardRef.on('value', snapshot => {\n            const wiz = snapshot.val()\n            setWizard(wiz)\n            setWeather(wiz.weather)\n            setMode(wiz.mode)\n            setIsRiding(wiz.isRiding)\n            console.log(wiz)\n          })\n        console.log(\"wizard mode\")\n      }\n      else {\n        setWeather(weatherTypes[randomInt(0, weatherTypes.length)])\n        console.log(\"non-wizard mode\")\n      }\n    }, \n    [wizardRef]\n  )\n\n  useEffect(() => {\n    if(mode === \"none\") {\n\n    } else {\n        clearInterval(increment.current);\n        if(mode === \"e11s\") {\n            setTime(0);\n            setDistance(0);\n        } else if(mode === \"ori\") {\n            setTime(63*3/60);\n            setDistance(0.378*2);\n        } else if(mode === \"e11e\") {\n            setTime(143*5.5/60);\n            setDistance(0.858*3);\n        }\n\n        // increment.current = setInterval(() => {\n        //     setTime((time) => time + 1/60);\n        // }, 1000);\n    }\n  }, [mode])\n\n\n  const createJournal = () => {\n    let id = journalRef.push().key;\n\n    const endTime = startTime.add(time, \"minute\");\n    const randomPhotos = getRandomPhoto(3);\n    const randomTitle = getRandomTitle();\n\n    const ridingTime = getRidingTime(time, wizard);\n\n    let newJournal = {\n      createdAt: new Date().toString(),\n      id,\n      route,\n      hashtags,\n      distance: distance,\n      time: ridingTime,\n      date: endTime.format(\"YYYY. MM. DD\"),\n      weather,\n      startTime: startTime.toString(),\n      endTime: endTime.toString(),\n      title: randomTitle,\n\n      desc: `I rode ${parseInt(distance * 10) / 10} km at ${getRidingPlace(wizard)}!`,\n      photos: randomPhotos,\n      emojis: hashtags,\n      metaphors: {\n        tree: (parseInt(distance * 10) / 10) * 0.05,\n        taxi: (parseInt(distance * 10) / 10) * 1000,\n        burger: (parseInt(distance * 10) / 10) * 0.1,\n      },\n    };\n\n    journalRef.child(id).set(newJournal);\n    return id;\n  };\n\n  const startRide = () => {\n    setStartTime(dayjs());\n    setIsRiding(true);\n    if (wizard && wizard.mode !== 'none') {\n      // increment.current = setInterval(() => {\n      //   // setIndex((index) => index + 1);\n      //   // setDistance((distance) => distance + 0.006);\n      //   // setTime((time) => time + 1/60);\n      //   // console.log(distance, time);\n      //   // console.log(wizard.mode);\n      // }, 1000); // 1초에 한 번 업데이트\n    } else {\n        increment.current = setInterval(() => {\n            setIndex((index) => index + 10*1/6);\n            setDistance((distance) => distance + 3*10*0.001);\n            setTime((time) => time + 10*5*1/360);\n            // console.log(wizard.mode);\n        }, 1000 / 6); // 1초에 6번 업데이트\n    }\n  };\n\n  const stopRide = () => {\n    setIsRiding(false);\n    clearInterval(increment.current);\n    setOpen(true);\n  };\n\n  const closeModal = () => {\n    console.log(\"closing modal\");\n    createJournal();\n    setOpen(false);\n    setIndex(0);\n    setDistance(0);\n    setTime(0);\n  };\n\n  let history = useHistory();\n\n  const handleJournal = () => {\n    const id = createJournal();\n    history.push(`/biky/edit/${id}`);\n  };\n\n  return (\n    <div className={classes.page}>\n      <div className={classes.header}>\n        <div className={classes.verticalAlign}>Home</div>\n      </div>\n\n      <Profile />\n\n      <div className={classes.content}>\n        <div className={classes.weatherContainer}>\n          <Weather weather={weather} temperature={wizard ? wizard.temperature : 15}/>\n          <Dust fineDust={(wizard && wizard.fineDust) ? wizard.fineDust : randomInt(10, 70)} ultraFineDust={(wizard && wizard.ultraFineDust) ? wizard.ultraFineDust : randomInt(10, 200)} />\n        </div>\n\n        {isRiding ? (\n          <div className={classes.measuresContainer}>\n            <Distance\n              distance={formatDistance(distance)}\n              style={classes.measures}\n            />\n            <Time time={formatTime(time)} style={classes.measures} />\n          </div>\n        ) : null}\n\n        <div className={classes.mapContainer}>\n          <Map index={index} mode={wizard ? wizard.mode : 'none'} isRiding={isRiding} saveRoute={setRoute} />\n        </div>\n\n        <div\n          onClick={() => (!isRiding ? startRide() : stopRide())}\n          className={classes.buttonContainer}\n        >\n          {!isRiding ? (\n            <StartButton\n              style={{ button: classes.startButton, text: classes.buttonText }}\n            />\n          ) : (\n            <StopButton\n              style={{ button: classes.button, text: classes.buttonText }}\n            />\n          )}\n        </div>\n      </div>\n\n      <JournalModal\n        handleJournal={handleJournal}\n        open={open}\n        distance={formatDistance(distance)}\n        time={formatTime(getRidingTime(time, wizard))}\n        amount={distance}\n        route={route}\n        closeModal={closeModal}\n      />\n    </div>\n  );\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles((theme) => ({\n  disabled: {\n    backgroundColor: \"gray\",\n    opacity: 0.3,\n  },\n  abled: {\n    backgroundColor: \"white\",\n  },\n}));\nexport default function FriendSimpleView({ friend, disabled }) {\n  const classes = useStyles();\n  return (\n    <Box\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"flex-start\"\n      flexDirection=\"row\"\n      width=\"120px\"\n      borderRadius={10}\n      className={disabled ? classes.disabled : classes.abled}\n      style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}\n      m={1}\n    >\n      <Box flex={1} mr={1} mt={1} mb={1} ml={1}>\n        <Avatar\n          alt={friend.name}\n          src={process.env.PUBLIC_URL + friend.picture}\n          style={{\n            border: \"1.5px solid lightgray\",\n            width: \"30px\",\n            height: \"30px\",\n          }}\n        />\n      </Box>\n      <Box flex={2} mt={1} mb={1} style={{ minWidth: \"60px\" }}>\n        <Typography variant=\"body2\" color=\"textPrimary\">\n          {friend.name}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n","import AppBar from \"@material-ui/core/AppBar\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport React from \"react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function MyAppBar({ onSubmit, string }) {\n  const classes = useStyles();\n\n  return (\n      <AppBar position=\"static\" style={{width: '100%'}}>\n        <Toolbar variant=\"dense\">\n          <Typography variant=\"h6\" color=\"inherit\" style={{ flexGrow: 1 }}>\n            {string}\n          </Typography>\n\n          <IconButton\n            edge=\"end\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={onSubmit}\n          >\n            <CheckIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n  );\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport { ButtonBase } from \"@material-ui/core\";\nimport FriendSimpleView from \"./FriendSimpleView\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MyAppBar from \"./AppBar\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    top: `50%`,\n    left: `50%`,\n    position: \"absolute\",\n    width: \"80%\",\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    transform: `translate(-50%, -50%)`,\n    maxHeight: \"80vh\",\n    overflow: \"scroll\",\n    padding: 0,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst modalStyle = {\n  top: \"50%\",\n  left: \"50%\",\n  transform: `translate(-${50}%, -${50}%)`,\n};\n\nexport function FriendSelector({ friend, onClick, disabled }) {\n  return (\n    <ButtonBase onClick={onClick}>\n      <FriendSimpleView friend={friend} disabled={disabled} />\n    </ButtonBase>\n  );\n}\n\nexport default function FriendAddPage({\n  allFriends,\n  selectedFriends,\n  addFriend,\n  removeFriend,\n  close,\n}) {\n  const classes = useStyles();\n  return (\n    <div className={classes.paper}>\n      <MyAppBar onSubmit={close} string=\"Frineds\" />\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        flexWrap=\"wrap\"\n        style={{ padding: \"1%\" }}\n      >\n        {allFriends.map((friend) => (\n          <FriendSelector\n            friend={friend}\n            onClick={() =>\n              selectedFriends.includes(friend)\n                ? removeFriend(friend)\n                : addFriend(friend)\n            }\n            disabled={selectedFriends.includes(friend)}\n            key={friend.id}\n          />\n        ))}\n      </Box>\n    </div>\n  );\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport { Delete } from \"@material-ui/icons\";\nimport { IconButton } from \"@material-ui/core\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function FriendItem({ friend, removeFriend }) {\n  return (\n    <div style={{ display: \"inline-block\", marginRight: \"10px\", marginBottom: \"10px\" }}>\n      <Box\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"flex-start\"\n        flexDirection=\"row\"\n        width=\"100%\"\n        borderRadius=\"borderRadius\"\n        style={{\n          backgroundColor: \"white\",\n          boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\",\n        }}\n        mr={2}\n        key={friend.id}\n      >\n        <Box mr={1} mt={1} mb={1} ml={1}>\n          <Avatar\n            alt={friend.name}\n            src={process.env.PUBLIC_URL + friend.picture}\n            style={{\n              border: \"1.5px solid lightgray\",\n              width: \"30px\",\n              height: \"30px\",\n            }}\n          />\n        </Box>\n        <Box mt={1} mb={1} mr={1}>\n          <Typography variant=\"body2\" color=\"textPrimary\">\n            {friend.name}\n          </Typography>\n        </Box>\n        <Box>\n          <IconButton\n            edge=\"end\"\n            aria-label=\"delete\"\n            onClick={() => removeFriend(friend)}\n          >\n            <Delete />\n          </IconButton>\n        </Box>\n      </Box>\n    </div>\n    // <ListItem key={friend.id}>\n    //   <ListItemAvatar>\n    //     <Avatar\n    //       alt={friend.name}\n    //       src={process.env.PUBLIC_URL + friend.picture}\n    //       style={{\n    //         border: \"2px solid lightgray\",\n    //         width: \"30px\",\n    //         height: \"30px\",\n    //       }}\n    //     />{\" \"}\n    //   </ListItemAvatar>\n    //   <ListItemText primary={friend.name} />\n    //   <ListItemSecondaryAction>\n    //     <IconButton\n    //       edge=\"end\"\n    //       aria-label=\"delete\"\n    //       onClick={() => removeFriend(friend)}\n    //     >\n    //       <Delete />\n    //     </IconButton>\n    //   </ListItemSecondaryAction>\n    // </ListItem>\n  );\n}\n","// import theme from \"./HashtagSelector.css\";\nimport \"./HashtagSelector.css\"\n\nimport Autosuggest from 'react-autosuggest';\nimport { defaultTheme } from 'react-autosuggest/dist/theme';\n\nimport React from 'react';\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\n\nconst getSuggestionValue = suggestion => {\n  return suggestion\n};\n\nexport default function HashtagSelector({handleSubmit, hashtags}) {\n  const [value, setValue] = React.useState('')\n  const [suggestions, setSuggestions] = React.useState([])\n\n  const getSuggestions = value => {\n  if (value.length === 0) return hashtags\n  const escapedValue = escapeRegexCharacters(value.trim());\n  const regex = new RegExp('^' + escapedValue, 'i');\n  return hashtags.filter(hashtag => regex.test(hashtag));\n};\n\n\n  const onChange = (event, { newValue }) => {\n    setValue(newValue)\n  };\n\n  const onSuggestionsFetchRequested = ({ value, reason }) => {\n    if (reason === 'suggestion-selected') {\n      handleSubmit(value)\n      setValue('')\n      setSuggestions(hashtags.filter(h => h !== value))\n      return;\n    }\n    setSuggestions(getSuggestions(value))\n  };\n\n  const onSuggestionsClearRequested = () => {\n    setSuggestions([])\n  };\n\n  const renderSuggestion = suggestion => (\n    <div>\n      {suggestion}\n    </div>\n  );\n\n  const handleSubmitEnter = (e) => {\n        e.preventDefault()\n        handleSubmit(value)\n        setSuggestions(hashtags.filter(h => h !== value))\n        setValue('')\n  }\n\n  const renderInputComponent = inputProps => \n    <form className=\"inputContainer\" onSubmit={handleSubmitEnter}>\n      <input {...inputProps} />\n    </form>\n  \n  const inputProps = {\n    placeholder: '+ New Hashtag',\n    value,\n    onChange\n  };\n\n\n    return (\n      <Autosuggest\n        suggestions={suggestions}\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={onSuggestionsClearRequested}\n        getSuggestionValue={getSuggestionValue}\n        renderSuggestion={renderSuggestion}\n        inputProps={inputProps}\n        renderInputComponent={renderInputComponent}\n        highlightFirstSuggestion={true}\n        alwaysRenderSuggestions={true}\n        // theme={{\n        //   ...defaultTheme,\n        //   ...\n        //   {\n        //     container: {\n        //     //   ...defaultTheme.container,\n        //       display: 'visible',\n        //       width: '340px',\n        //     },\n        //     //more overrides\n        //   }\n        // }}\n      />\n    );\n}","// </>\n//   )\n// }\n\nimport \"@tensorflow/tfjs-backend-cpu\";\n\nimport * as cocoSsd from \"@tensorflow-models/coco-ssd\";\n\nimport {\n  Button,\n  IconButton,\n  Theme,\n  Tooltip,\n  makeStyles,\n} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { PhotoCamera } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  input: {\n    display: \"none\",\n  },\n  photoSelector: {\n    color: theme.palette.primary.main,\n  },\n}));\n\nexport default function PhotoUploader({ onSubmit, addHashtag }) {\n  const classes = useStyles();\n  const [imgData, setImgData] = useState(null);\n  const [predictions, setPredictions] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  const readImage = (file) => {\n    return new Promise((rs, rj) => {\n      const fileReader = new FileReader();\n      fileReader.onload = () => rs(fileReader.result);\n      fileReader.onerror = () => rj(fileReader.error);\n      fileReader.readAsDataURL(file);\n    });\n  };\n\n  const detectObjectsOnImage = async (imageElement) => {\n    // 이 이미지 지웠을 때에 hashtag 지우는 방식 알아내야 함\n    const model = await cocoSsd.load({});\n    const newp = await model.detect(imageElement, 2);\n    const result = newp.map((value) => value.class);\n    setPredictions(predictions.concat(result));\n    console.log(result);\n    addHashtag(result);\n  };\n\n  const handleSubmit = async ({ target }) => {\n    setLoading(true);\n    onSubmit(Array.from(target.files));\n\n    for (var i = 0; i < target.files.length; i++) {\n      var file = target.files[i];\n      // create 하고 지우는 이상한 짓 안하고 생긴 image 가져다 쓸 방안? 지금 저기서 만든 친구를 가져다 쓰려면 CORS 쓰면서 난리남..\n      var imageElement = document.createElement(\"img\");\n      var imgData = await readImage(file);\n      imageElement.src = imgData;\n\n      imageElement.onload = async () => {\n        await detectObjectsOnImage(imageElement);\n        setLoading(false);\n        imageElement.remove();\n      };\n    }\n  };\n\n  return (\n    <>\n      <input\n        accept=\"image/jpeg\"\n        className={classes.input}\n        id=\"photoSelector\"\n        type=\"file\"\n        multiple\n        onChange={handleSubmit}\n      />\n      <Tooltip title=\"Select Image\">\n        <label htmlFor=\"photoSelector\">\n          <IconButton\n            className={classes.photoSelector}\n            aria-label=\"upload picture\"\n            component=\"span\"\n          >\n            <PhotoCamera fontSize=\"large\" />\n          </IconButton>\n        </label>\n      </Tooltip>\n    </>\n  );\n}\n","import { formatDistance, formatTime } from \"../../util/format\";\nimport { getIconComponent, hashtagsDB } from \"../../util/icon\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FriendItem from \"./FriendItem\";\nimport HashtagSelector from \"./HashtagSelector\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport PhotoUploader from \"./PhotoUploader\";\nimport PictureList from \"./PictureList\";\nimport React from \"react\";\nimport StaticMap from \"../home/StaticMap\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst animal = [\n  \"bird\",\n  \"cat\",\n  \"dog\",\n  \"horse\",\n  \"sheep\",\n  \"cow\",\n  \"elephant\",\n  \"bear\",\n  \"zebra\",\n  \"giraffe\",\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& > *\": {\n      // margin: theme.spacing(1),\n      marginBottom: \"10px\",\n      width: \"100%\",\n    },\n  },\n\n  page: {\n    position: \"relative\",\n    // maxWidth: \"550px\",\n    margin: \"0 auto\",\n    // border: \"solid 1px blue\",\n  },\n  verticalAlign: {\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    display: \"inline-block\",\n  },\n  header: {\n    position: \"relative\",\n    height: \"49px\",\n    fontSize: \"30px\",\n    fontWeight: \"bold\",\n    borderBottom: \"solid 1px black\",\n    textAlign: \"center\",\n  },\n  content: {\n    position: \"relative\",\n    height: \"calc(100vh - 130px)\",\n    overflowY: \"scroll\",\n    padding: \"10px\",\n    // border: \"solid 1px black\",\n  },\n\n  hashtagGroup: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n  },\n\n  picture: {},\n\n  title: {\n    color: theme.palette.primary.light,\n  },\n  titleBar: {\n    background:\n      \"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\",\n  },\n\n  textField: {\n    marginTop: \"10px\",\n    flexGrow: 1,\n  },\n  addButton: {\n    border: \"solid 1px lightgray\",\n    marginLeft: \"10px\",\n    display: \"inline-block\",\n    marginBottom: \"10px\",\n  },\n  submitButton: {\n    width: \"100%\",\n    textAlign: \"center\",\n    // border: \"solid 1px black\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    backgroundColor: \"#4BA9FF\",\n    borderRadius: \"10px\",\n    padding: \"10px\",\n    marginTop: \"10px\",\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nfunction showWeather(weather) {\n  return (\n    <div\n      style={{\n        display: \"inline-block\",\n        width: \"calc(100% - 30px)\",\n        backgroundColor: \"lightblue\",\n        borderRadius: \"5px\",\n        padding: \"10px\",\n        height: \"100px\",\n        verticalAlign: \"top\",\n        marginRight: \"10px\",\n      }}\n    >\n      {weather}\n    </div>\n  );\n}\n\nfunction weatherIcon(weather) {\n  return (\n    <div style={{ display: \"inline-block\", verticalAlign: \"top\" }}>\n      {getIconComponent(weather)}\n    </div>\n  );\n}\n\nfunction contentSuggestion(text) {\n  const length = text.length;\n  return (\n    <div\n      style={{\n        width: \"calc(100% - 20px)\",\n        // border: \"solid 1px lightgray\",\n        borderRadius: \"5px\",\n        padding: \"5px 10px\",\n        boxShadow: \"0px 1.43351px 2.86702px rgba(0, 0, 0, 0.25)\",\n        marginBottom: \"10px\",\n      }}\n    >\n      <div\n        style={{\n          display: \"inline-block\",\n          backgroundColor: \"pink\",\n          color: \"white\",\n          width: \"15px\",\n          height: \"15px\",\n          textAlign: \"center\",\n          padding: \"3px\",\n          fontWeight: \"bold\",\n          fontSize: \"14px\",\n          borderRadius: \"20px\",\n          marginRight: \"10px\",\n          // verticalAlign: \"top\",\n        }}\n      >\n        {text[length - 1]}\n      </div>\n      <div\n        style={{\n          display: \"inline-block\",\n          width: \"calc(100% - 31px)\",\n          // border: \"solid 1px lightgray\",\n        }}\n      >\n        {text}\n      </div>\n    </div>\n  );\n}\n\n// const formatTime = (time) => {\n//   const intTime = parseInt(time);\n//   const getSeconds = `0${intTime % 60}`.slice(-2);\n//   const minutes = `${Math.floor(intTime / 60)}`;\n//   const getMinutes = `0${minutes % 60}`.slice(-2);\n//   const getHours = `0${Math.floor(intTime / 3600)}`.slice(-2);\n//   return `${getHours} : ${getMinutes} : ${getSeconds}`;\n// };\n\nexport default function JournalForm({\n  journal,\n  onSubmit,\n  openFriendAddPage,\n  friends,\n  removeFriend,\n  addFriend,\n  pictures,\n  removePicture,\n  onSubmitPictures,\n  preference,\n}) {\n  const classes = useStyles();\n  console.log(journal);\n  const [title, setTitle] = React.useState(journal.title);\n  const [desc, setDesc] = React.useState(journal.desc);\n  const [hashtags, setHashtags] = React.useState(\n    journal.hashtags ? journal.hashtags : []\n  );\n  const [suggestions, setSuggestions] = React.useState([\n    \"What did you do at Duck Pond?\",\n  ]);\n\n  const handleTitleChange = (event) => {\n    setTitle(event.target.value);\n  };\n\n  const handleDescChange = (event) => {\n    setDesc(event.target.value);\n  };\n\n  const handleSubmit = () => {\n    onSubmit({\n      title,\n      desc,\n      hashtags,\n    });\n  };\n\n  const addHashtagBySuggestion = (suggestion) => {\n    const filtered = suggestion.filter((item) => !hashtags.includes(item));\n    // 이런식으로 바뀐 hashtag를 보내도 되나 싶다.. 하지만 setHashtag 뒤에 이 함수를 불러도 제대로 되지 않는걸? set이 완료되기 전에 함수가 불리는 문제를 막기 위해 이리 해봅시다\n    changeSuggestion([...hashtags, ...filtered]);\n    setHashtags([...hashtags, ...filtered]);\n  };\n\n  const addHashtag = (hashtag) => {\n    if (!hashtags.includes(hashtag)) setHashtags([...hashtags, hashtag]);\n  };\n\n  const changeSuggestion = (hashtag) => {\n    console.log(\"sug!\");\n    const result = {};\n    preference.forEach((x) => {\n      result[x] = (result[x] || 0) + 1;\n    });\n    let fin = Object.keys(result).sort(function (a, b) {\n      return a - b;\n    });\n    // console.log(fin);\n    // console.log(hashtag);\n    var firstQ = [\"What did you do at Duck Pond?\"];\n    friends.map((f) =>\n      firstQ.push(\"Did you rode a bike with \" + f.name + \"? How was it?\")\n    );\n    // 거기서 뭐했니? 누구랑 만났니 그래서 어땠니를 기본으로 둠\n    var done = false;\n    for (var i = 0; i < fin.length; i++) {\n      if (hashtag.includes(fin[i]) && animal.includes(fin[i])) {\n        // 사용자가 썼던 해시태그 중 하나(가장 많이 했던 것) + 하나 랜덤으로 안겹치게\n        const notUsed = hashtag.filter((item) => item !== fin[i]);\n        notUsed.map((h) =>\n          firstQ.push(\"How was the \" + h + \" you met during riding?\")\n        );\n        const rand = Math.floor(Math.random() * firstQ.length);\n        setSuggestions([\n          firstQ[rand],\n          \"How was the \" + fin[i] + \" you met during riding?\",\n        ]);\n        done = true;\n        break;\n      }\n    }\n\n    if (done === false) {\n      //만약 쓴 적이 없다면 그냥 다 랜덤으로!\n      hashtag.map((h) =>\n        firstQ.push(\"How was the \" + h + \" you met during riding?\")\n      );\n      const rand = Math.floor(Math.random() * firstQ.length);\n      if (firstQ.length > 1) {\n        var rand2 = Math.floor(Math.random() * firstQ.length);\n        while (rand === rand2) {\n          rand2 = Math.floor(Math.random() * firstQ.length);\n        }\n        setSuggestions([firstQ[rand], firstQ[rand2]]);\n      } else {\n        setSuggestions([firstQ[rand]]);\n      }\n    }\n  };\n\n  const removeHashtag = (hashtag) => {\n    setHashtags(hashtags.filter((item) => item !== hashtag));\n  };\n\n  return (\n    <div className={classes.page}>\n      <div className={classes.header}>\n        <div className={classes.verticalAlign}>Journal</div>\n      </div>\n\n      <div className={classes.content}>\n        <div className={classes.root} noValidate autoComplete=\"off\">\n          <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n            <IconButton\n              aria-label=\"delete\"\n              onClick={() => {\n                setTitle(\"\");\n              }}\n              className={classes.title}\n            >\n              <CancelIcon />\n            </IconButton>\n            <TextField\n              onChange={handleTitleChange}\n              id=\"title\"\n              label=\"Title\"\n              variant=\"outlined\"\n              value={title}\n              defaultValue={journal.title}\n              className={classes.textField}\n            />\n          </Box>\n\n          <div>\n            <div style={{ position: \"absolute\", right: \"10px\" }}>\n              <div>\n                {weatherIcon(journal.weather)}\n                <div style={{ display: \"inline-block\", margin: \"5px\" }}>\n                  {journal.date}\n                </div>\n              </div>\n            </div>\n\n            <Typography style={{ marginBottom: \"10px\" }}>Records</Typography>\n            <StaticMap route={journal.route} />\n\n            <div style={{ margin: \"10px 0\" }}>\n              <div style={{ display: \"inline-block\", width: \"50%\" }}>\n                <Typography style={{ marginBottom: \"10px\" }}>\n                  Distance: {formatDistance(journal.distance)}\n                </Typography>\n              </div>\n              <div style={{ display: \"inline-block\", width: \"50%\" }}>\n                <Typography style={{ marginBottom: \"10px\" }}>\n                  Time: {formatTime(journal.time)}\n                </Typography>\n              </div>\n            </div>\n\n            <div>\n              <Typography\n                style={{ marginBottom: \"10px\", display: \"inline-block\" }}\n              >\n                Friends\n              </Typography>\n              <Button onClick={openFriendAddPage} className={classes.addButton}>\n                +\n              </Button>\n              <div>\n                {friends.map((friend) => (\n                  <FriendItem\n                    key={friend.id}\n                    friend={friend}\n                    removeFriend={removeFriend}\n                    style={{ display: \"inline-block\" }}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <Typography\n              style={{ marginBottom: \"10px\", display: \"inline-block\" }}\n            >\n              Pictures\n            </Typography>\n            <PhotoUploader\n              onSubmit={onSubmitPictures}\n              addHashtag={addHashtagBySuggestion}\n            />\n\n            <PictureList\n              pictures={pictures}\n              removePicture={removePicture}\n              isEditing\n            />\n          </div>\n\n          {/* 내용 suggestion */}\n          <div>{suggestions.map((sug) => contentSuggestion(sug))}</div>\n\n          <TextField\n            onChange={handleDescChange}\n            id=\"desc\"\n            label=\"Description\"\n            variant=\"outlined\"\n            multiline\n            defaultValue={journal.desc}\n            rows={5}\n          />\n\n          <div className={classes.hashtagGroup}>\n            {hashtags.map((hashtag) => (\n              <div key={hashtag}>\n                #{hashtag}\n                <IconButton\n                  aria-label=\"delete\"\n                  onClick={() => removeHashtag(hashtag)}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </div>\n            ))}\n            <HashtagSelector\n              handleSubmit={addHashtag}\n              hashtags={hashtagsDB.filter(\n                (hashtag) => !hashtags.includes(hashtag)\n              )}\n            />\n          </div>\n\n          <Button\n            onClick={handleSubmit}\n            component={Link}\n            className={classes.submitButton}\n            to=\"/biky/journal\"\n          >\n            Save\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import dayjs from \"dayjs\";\n\nconst initJournals =\n  [\n    {\n      id: \"1\",\n      title: '제목1', desc: '내용1',\n      friends: ['1'],\n      hashtags: ['happy'],\n      photos: [\"/images/photo1.jpg\"],\n      emojis: [\"happy\", \"exited\"],\n      distance: 100,\n      startTime: dayjs(),\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\n      map: \"../\",\n      route: [\n        [126.91462625155943, 37.49468356316903],\n        [126.91466456325881, 37.49457548665683],\n        [126.91467809668889, 37.4945003236157],\n        [126.91469501347642, 37.494409948906565],\n        [126.91470290797731, 37.49436968291182],\n        [126.91484578727844, 37.49369203740101],\n        [126.91634996665469, 37.493628630563954],\n        [126.91635767048872, 37.494331551409644],\n        [126.91753635713798, 37.49434377606901],\n        [126.9184608172214, 37.49440489929814],\n        [126.91876897058253, 37.49367752962703],\n      ],\n    },\n\n    {\n      id: \"2\",\n      title: '제목2', desc: '내용2',\n      friends: ['1', '0'],\n      hashtags: ['happy', \"exited\"],\n      photos: ['/images/photo2.jpg'],\n      emojis: [\"happy\", \"exited\"],\n      distance: 200,\n      startTime: dayjs(),\n      endTime: dayjs().add(1, 'hour'), weather: \"sunny\",\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\n      map: \"../\",\n      route: []\n    },\n\n    {\n      id: \"3\",\n      title: '제목3', desc: '내용3',\n      friends: [],\n      hashtags: ['sad'],\n      photos: ['/images/photo3.jpg'],\n      emojis: [\"sad\"],\n      distance: 300,\n      startTime: dayjs(),\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\n      map: \"../\",\n      route: []\n\n    },\n\n    {\n      id: \"4\",\n      title: '제목4', desc: '내용4',\n      friends: ['1'],\n      hashtags: ['happy'],\n      photos: ['/images/photo1.jpg', '/images/photo2.jpg'],\n      emojis: [\"happy\", \"exited\"],\n      distance: 20,\n      startTime: dayjs(),\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\n      map: \"../\",\n      route: []\n    },\n\n    {\n      id: \"5\",\n      title: '제목5', desc: '내용5',\n      friends: ['1'],\n      hashtags: ['happy'],\n      photos: [],\n      emojis: [\"happy\", \"exited\"],\n      distance: 20,\n      startTime: dayjs(),\n      endTime: dayjs().add(2, 'hour'),\n      weather: \"sunny\",\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\n      map: \"../\",\n      route: []\n    },\n  ]\n\nexport const mockJournal = {\n  // 수정 가능\n  title: \"제목1\",\n  desc: \"내용1\",\n  friends: [\"1\"],\n  hashtags: [\"happy\"],\n  photos: [\"../\"],\n\n  // 수정 불가능\n  emojis: [\"happy\", \"exited\"],\n  distance: 100,\n  startTime: dayjs(),\n  endTime: dayjs().add(2, \"hour\"),\n  weather: \"sunny\",\n  metaphor: { tree: 1, taxi: 2, hamburger: 3 },\n  map: \"../\",\n  route: [\n    [126.91462625155943, 37.49468356316903],\n    [126.91466456325881, 37.49457548665683],\n    [126.91467809668889, 37.4945003236157],\n    [126.91469501347642, 37.494409948906565],\n    [126.91470290797731, 37.49436968291182],\n    [126.91484578727844, 37.49369203740101],\n    [126.91634996665469, 37.493628630563954],\n    [126.91635767048872, 37.494331551409644],\n    [126.91753635713798, 37.49434377606901],\n    [126.9184608172214, 37.49440489929814],\n    [126.91876897058253, 37.49367752962703],\n  ],\n};\n\nexport default initJournals;\n","// 방법1\n// create인 경우, edit인 경우 이동\n// 마지막 라우트의 id를 읽어서 요청을 보냄\n\nimport { nullToList, toList } from \"../../util/format\";\n\nimport FriendAddPage from \"../../component/journal/FriendAddPage\";\nimport JournalForm from \"../../component/journal/JournalForm\";\nimport Loading from \"../../component/Loading\";\nimport { Modal } from \"@material-ui/core\";\nimport React from \"react\";\nimport { mockJournal } from \"../../data/journal\";\nimport { useParams } from \"react-router-dom\";\n\n// import { getHashtags } from \"../../component/journal/JournalItem\";\n\nfunction getFriends(ids, allFriends) {\n  return allFriends.filter((friend) => ids.includes(friend.id));\n}\n\nfunction getJournal(jid, initJournals) {\n  const j = initJournals[String(jid)];\n  // const j = initJournals.find(j => String(j.id) === String(jid))\n  if (!j) {\n    console.log(`No such journal: ${jid}`);\n    return mockJournal;\n  }\n  return j;\n}\n\n  async function uploadImageFile(files, storageRef) {\n    if (!files) return null;\n    const promises = files.map((file) => {\n      const ref = storageRef.child(`photos${file.name}`);\n      return ref.put(file).then(() => ref.getDownloadURL());\n    });\n\n    const downloadURLs = await Promise.all(promises);\n    return downloadURLs;\n  }\n\n\nexport default function JournalEditor({ journalRef, friendRef, storageRef }) {\n\n  let { id } = useParams();\n  const [journal, setJournal] = React.useState(mockJournal);\n  const [loading, setLoading] = React.useState(true);\n  const [allFriends, setAllFriends] = React.useState([]);\n  const [preference, setPreference] = React.useState([]);\n  const [friendPageOpen, setFriendAddPageOpen] = React.useState(false);\n  const [pictures, setPictures] = React.useState([]);\n  const [friends, setFriends] = React.useState([]);\n  const [pictureLoading, setPictureLoading] = React.useState(false)\n  const [pictureFiles, setPictureFiles] = React.useState(false)\n\n  React.useEffect(() => {\n    journalRef.once(\"value\", (snapshot) => {\n      const journalData = snapshot.val();\n      const j = getJournal(id, journalData);\n      setPrefData(journalData ? Object.values(journalData) : []);\n      friendRef.once(\"value\", (snapshot) => {\n        const friendData = snapshot.val();\n        let allFriends = toList(friendData);\n        let friends = nullToList(j.friends);\n        setFriends(getFriends(friends, allFriends));\n        setAllFriends(allFriends);\n        setJournal(j);\n        setPictures(nullToList(j.photos));\n        setLoading(false);\n      });\n    });\n  }, [journalRef, id, friendRef]);\n\n  const setPrefData = (journals) => {\n    const hashtags = journals.map(j => j.hashtags)\n    const flatten = hashtags.flat()\n    setPreference(flatten);\n  };\n\n  React.useEffect( () => {\n    async function fetchPicture() {\n      const downloadURLs = await uploadImageFile(pictureFiles, storageRef);\n      setPictures(pictures => {\n        const oldPictures = pictures.slice(0, pictures.length - pictureFiles.length)\n        return [...oldPictures, ...downloadURLs]\n      });\n      setPictureLoading(false)\n      setPictureFiles([])\n    }\n\n    if (pictureLoading === true) {\n      fetchPicture()\n    }\n  }, [pictureLoading, pictureFiles, storageRef])\n\n  const onSubmit = ({ title, desc, hashtags }) => {\n    const newJournal = {\n      ...journal,\n      title,\n      desc,\n      friends: friends.map((friend) => friend.id),\n      hashtags,\n      photos: pictures,\n    };\n\n    // id 에 해당하는 파이어베이스 데이터를 newJournal로 업데이트\n    journalRef.child(journal.id).set(newJournal);\n\n    // 새로운 저널일 경우 처리해주기\n  };\n\n  const removeFriend = (friend) => {\n    setFriends(friends.filter((item) => item !== friend));\n  };\n\n  const addFriend = (friend) => {\n    if (friends.includes(friend)) return;\n    setFriends([...friends, friend]);\n  };\n\n\n  const onSubmitPictures = (selected) => {\n    const loadings = selected.map(item => 'loading')\n    setPictureLoading(true)\n    setPictureFiles(selected)\n    setPictures([...pictures, ...loadings])\n  };\n\n  const removePicture = (pic) => {\n    setPictures(pictures.filter((item) => item !== pic));\n  };\n\n  if (loading) return <Loading />;\n\n  return (\n    <div>\n      <JournalForm\n        journal={journal}\n        onSubmit={onSubmit}\n        openFriendAddPage={() => setFriendAddPageOpen(true)}\n        friends={friends}\n        removeFriend={removeFriend}\n        addFriend={addFriend}\n        pictures={pictures}\n        removePicture={removePicture}\n        onSubmitPictures={onSubmitPictures}\n        preference={preference}\n      />\n      <Modal open={friendPageOpen} onClose={() => setFriendAddPageOpen(false)}>\n        <FriendAddPage\n          allFriends={allFriends}\n          selectedFriends={friends}\n          addFriend={addFriend}\n          removeFriend={removeFriend}\n          close={() => setFriendAddPageOpen(false)}\n        />\n      </Modal>\n    </div>\n  );\n}\n","import Avatar from \"../../component/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport FilterIcon from \"@material-ui/icons/FilterList\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport { IconButton } from \"@material-ui/core\";\nimport JournalDetail from \"../../component/journal/JournalDetail\";\nimport JournalList from \"../../component/journal/JournalList\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Profile from \"../Profile\";\nimport React from \"react\";\nimport SearchBar from \"../../component/common/SearchBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  page: {\n    position: \"relative\",\n    margin: \"0 auto\",\n  },\n  verticalAlign: {\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    display: \"inline-block\",\n  },\n  header: {\n    position: \"relative\",\n    height: \"49px\",\n    fontSize: \"30px\",\n    fontWeight: \"bold\",\n    borderBottom: \"solid 1px black\",\n    textAlign: \"center\",\n  },\n  avatar: {\n    position: \"relative\",\n    height: \"50px\",\n    // border: \"solid 1px black\",\n    borderBottom: \"solid 1px black\",\n  },\n  content: {\n    position: \"relative\",\n    height: \"calc(100vh - 160px)\",\n    overflow: \"scroll\",\n    // border: \"solid 1px black\",\n  },\n});\n\nfunction getFriendsByJournal(journals, flist) {\n  let friendsByJournal = {};\n  for (let i = 0; i < journals.length; i++) {\n    let j = journals[i];\n    friendsByJournal[j.id] = flist.filter(\n      (f) => j.friends && j.friends.includes(f.id)\n    );\n  }\n\n  return friendsByJournal;\n}\n\nexport default function JournalMain({ journalRef, friendRef }) {\n  const classes = useStyles();\n  const [journals, setJournals] = React.useState([]);\n  const [friendsByJournal, setFriendsByJournal] = React.useState([]);\n\n  React.useEffect(() => {\n    journalRef.on(\"value\", (snapshot) => {\n      const journalData = snapshot.val();\n      let journalList = journalData ? Object.values(journalData) : [];\n      friendRef.once(\"value\", (snapshot) => {\n        let friendData = snapshot.val();\n        let friendList = friendData ? Object.values(friendData) : [];\n        setJournals(journalList);\n        setFriendsByJournal(getFriendsByJournal(journalList, friendList));\n      });\n    });\n  }, []);\n\n  const [selected, setSelected] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = (journal) => {\n    setOpen(true);\n    setSelected(journal);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setSelected(null);\n  };\n\n  return (\n    <div className={classes.page}>\n      <div className={classes.header}>\n        <div className={classes.verticalAlign}>Journal</div>\n      </div>\n\n      <Profile />\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n            alignItems: \"center\",\n            // paddingHorizontal: \"15px\",\n          }}\n        >\n          <div style={{ flexGrow: 1, marginLeft: \"20px\" }}>\n            <SearchBar />\n          </div>\n          <div style={{ marginRight: \"10px\" }}>\n            <IconButton>\n              <FilterListIcon />\n            </IconButton>\n          </div>\n        </div>\n\n      <div className={classes.content}>\n        <JournalList\n          journals={journals}\n          openJournal={handleOpen}\n          friendsByJournal={friendsByJournal}\n        />\n\n        <Modal open={open} onClose={handleClose}>\n          <JournalDetail\n            journal={selected}\n            friends={selected ? friendsByJournal[selected.id] : null}\n            handleClose={handleClose}\n          />\n        </Modal>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {getRandomPhoto} from '../data/photo';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { styled } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nconst logo = \"/images/logo.png\";\n\nconst frequest = [\n  {\n    id: \"r0\",\n    picture: \"/images/cactus.png\",\n    name: \"nayoung\",\n  },\n  {\n    id: \"r1\",\n    picture: \"/images/summer.png\",\n    name: \"mangoo\",\n  },\n];\n\nconst friends = [\n  {\n    id: \"f0\",\n    picture: \"/images/cat1.jpg\",\n    name: \"nicole\",\n    total_intimacy: 0,\n  },\n  {\n    id: \"f1\",\n    picture: \"/images/sky0.jpg\",\n    name: \"junho\",\n    total_intimacy: 0,\n  },\n  {\n    id: \"f2\",\n    picture: \"/images/cat2.jpg\",\n    name: \"sanga\",\n    total_intimacy: 0,\n  },\n];\n\nconst journal = {\n  date: \"2021. 05. 25\",\n  desc: \"I rode 700 m at Boramae Park!\",\n  distance: 0.7,\n  emojis: [\"sad\"],\n  hashtags: [\"sad\"],\n  createdAt: new Date('2021-05-25 12:17:15 GMT').toString(),\n  id: \"j0\",\n  metaphors: {\n    burger: 0.06999999999999999,\n    taxi: 700,\n    tree: 0.034999999999999996,\n  },\n  photos: getRandomPhoto(2),\n  route: [\n    [126.91468074800363, 37.49470666236267],\n    [126.91474014452083, 37.49415293252939],\n    [126.91481439016731, 37.493646325043095],\n    [126.91561624314943, 37.493646325043095],\n    [126.91635869961434, 37.493669888258175],\n    [126.91641809613154, 37.4943178737601],\n    [126.91747238431171, 37.494341436763335],\n    [126.91845242684539, 37.49436499975911],\n  ],\n  startTime: \"Tue, 25 May 2021 10:03:55 GMT\",\n  endTime: \"Tue, 25 May 2021 10:13:55 GMT\",\n  time: 10,\n  title: \"To the moon 🚀\",\n  weather: \"rainy\",\n};\n\nconst MyButton = styled(Button)({\n  background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n  border: 0,\n  borderRadius: 3,\n  boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n  color: \"white\",\n  width: \"60vw\",\n  height: \"40px\",\n  padding: \"0 30px\",\n  marginBottom: \"10px\",\n});\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    background: \"linear-gradient(0deg, #FFEDE8, #FFFFF5)\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"100%\",\n    height: \"100%\",\n  },\n  grid: {\n    margin: \"auto\",\n  },\n  textField: {\n    width: \"60vw\",\n    background: \"#FFFFFF\",\n    marginBottom: \"2vh\",\n  },\n  submit: {\n    marginTop: \"3vh\",\n  },\n  login: {\n    marginBottom: \"2vh\",\n  },\n  logo: {\n    paddingTop: theme.spacing(12),\n    paddingBottom: theme.spacing(15),\n  },\n\n  form: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n}));\n\nasync function setDB(db, user) {\n  const ref = db.ref(`user/${user}`);\n  const snapshot = await ref.once(\"value\")\n  const existed = snapshot.hasChild(\"journals\");\n  if (!existed) {\n    const frequestRef = ref.child(\"frequests\");\n    const friendRef = ref.child(\"friends\");\n    const journalRef = ref.child(\"journals\");\n    for (var i = 0; i < frequest.length; i++) {\n      await frequestRef.child(frequest[i].id).set(frequest[i]);\n    }\n    for (var i = 0; i < friends.length; i++) {\n      await friendRef.child(friends[i].id).set(friends[i]);\n    }\n    await journalRef.child(\"j0\").set(journal);\n  }\n  return existed\n}\n\nexport default function Login({\n  db,\n  setJournalRef,\n  setFriendRef,\n  setFrequestsRef,\n}) {\n  const classes = useStyles();\n\n  const [val, setVal] = useState({\n    id: \"id123\",\n    password: \"password123\",\n  });\n\n  let history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (val.id.length === 0) {\n      alert(\"You should enter ID!\");\n      return;\n    }\n\n    if (val.password.length === 0) {\n      alert(\"You should enter password!\");\n      return;\n    }\n\n    // alert(`아이디: ${val.id} 비밀번호: ${val.password}`)\n    setJournalRef(val.id);\n    setFriendRef(val.id);\n    setFrequestsRef(val.id);\n    const existed = await setDB(db, val.id);\n    if (existed) history.push(`/biky/home`);\n    else history.push('/biky/tutorial')\n  };\n\n  const onChange = (e) => {\n    const { name, value } = e.target;\n    setVal({\n      ...val,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className={classes.background}>\n      {/* <Box className={classes.root}> */}\n      <Grid container className={classes.logo} justify=\"center\">\n        <img src={process.env.PUBLIC_URL + logo} alt=\"logo\" />\n      </Grid>\n\n      <div className={classes.form}>\n\n        <TextField\n          type=\"id\"\n          name=\"id\"\n          required\n          fullWidth\n          variant=\"outlined\"\n          onChange={onChange}\n          placeholder=\"Enter ID\"\n          className={classes.textField}\n        />\n\n        <form onSubmit={handleSubmit}>\n          <TextField\n            type=\"password\"\n            name=\"password\"\n            required\n            fullWidth\n            variant=\"outlined\"\n            onChange={onChange}\n            placeholder=\"Enter password\"\n            className={classes.textField}\n          />\n        </form>\n\n        <MyButton onClick={handleSubmit} className={classes.submit}>\n          Sign Up &  Login \n        </MyButton>\n\n      </div>\n    </div>\n  );\n}\n","import Box from '@material-ui/core/Box'\nimport Button from '@material-ui/core/Button'\nimport Container from '@material-ui/core/Container'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Grid from '@material-ui/core/Grid'\nimport React from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { spacing } from '@material-ui/system'\nimport { styled } from '@material-ui/core/styles'\nimport { useHistory } from \"react-router-dom\";\n\nconst logo = '/images/logo.png'\n\nconst MyButton = styled(Button)({\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n  border: 0,\n  borderRadius: 3,\n  boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n  color: 'white',\n  width: '60%',\n  height: '40px',\n  padding: '0 30px',\n  marginBottom: '10px',\n})\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    background: 'linear-gradient(0deg, #FFEDE8, #FFFFF5)',\n    backgroundRepeat: 'no-repeat',\n    width: '100%',\n    height: '100%',\n  },\n  logo: {\n    paddingTop: theme.spacing(12),\n    paddingBottom: theme.spacing(34),\n  },\n  character: {\n    width: '60%',\n  },\n}))\n\nexport default function LoginInitial() {\n  const classes = useStyles()\n  let history = useHistory();\n\n\n  function handleClick() {\n    history.push('/biky/login')\n  }\n\n  return (\n    <div className={classes.background}>\n      <CssBaseline />\n      <Grid container className={classes.logo} justify=\"center\">\n        <img src={process.env.PUBLIC_URL + logo} alt=\"logo\" />\n      </Grid>\n      <Grid container alignItems=\"center\" direction=\"column\" spacing={1}>\n        <MyButton onClick={handleClick}>\n          Log in\n        </MyButton>\n        <Typography\n          className={classes.character}\n          align=\"center\"\n          variant=\"body2\"\n        >\n          Don't have an account?\n        </Typography>\n         <div onClick={() => alert(\"Please look for next update for sign up!\")}> <b>SIGN UP</b> </div>\n  \n      </Grid>\n    </div>\n  )\n}\n","import Avatar from \"../component/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Icon } from \"@iconify/react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { badges } from \"../data/badge\";\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport oncomingTaxi from \"@iconify-icons/twemoji/oncoming-taxi\";\nimport { useHistory } from \"react-router-dom\";\n\nconst logo = \"/images/logo.png\";\n\nconst taxi = \"/images/home/metaphor_taxi.png\";\nconst burger = \"/images/home/metaphor_burger.png\";\nconst tree = \"/images/home/metaphor_tree.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    padding: theme.spacing(2),\n  },\n  paper: {\n    padding: theme.spacing(2),\n  },\n\n  badgeBox: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  badge: {\n    // position: \"absolute\",\n    // margin: \"0 auto\",\n    display: \"inline-block\",\n    width: \"100%\",\n    top: \"100%\",\n    // transform: \"translateY(-50%)\"\n  },\n\n  page: {\n    position: \"relative\",\n    // maxWidth: \"550px\",\n    margin: \"0 auto\",\n    // border: \"solid 1px blue\",\n  },\n  verticalAlign: {\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    display: \"inline-block\",\n  },\n  header: {\n    position: \"relative\",\n    height: \"49px\",\n    fontSize: \"30px\",\n    fontWeight: \"bold\",\n    borderBottom: \"solid 1px black\",\n    textAlign: \"center\",\n  },\n  content: {\n    position: \"relative\",\n    height: \"calc(100vh - 110px)\",\n    overflow: \"scroll\",\n    // border: 'solid 1px black',\n  },\n\n  bold: {\n    fontWeight: \"bold\",\n    fontSize: \"20px\",\n  },\n\n  roundBox: {\n    boxShadow: \"0px 4px 4px rgba(0, 0, 0, 0.25)\",\n    borderRadius: \"5px\",\n    padding: \"15px\",\n    // border: \"solid 1px black\",\n  },\n  avatar: {\n    position: \"relative\",\n    display: \"inline-block\",\n    textAlign: \"center\",\n    // width: '30%',\n    width: \"90px\",\n    height: \"100%\",\n    // border: \"solid 1px black\",\n  },\n  personalInfo: {\n    // position: \"absolute\",\n    display: \"inline-block\",\n    width: \"calc(100% - 90px - 10px)\",\n    // border: \"solid 1px black\",\n    // top: \"50%\",\n    marginLeft: \"10px\",\n    // transform: \"translateY(-50%)\",\n    lineHeight: \"200%\",\n  },\n  recordsContainer: {\n    position: \"relative\",\n    width: \"100%\",\n    margin: \"15px 0\",\n    // border: \"solid 1px black\",\n  },\n  metaphorContainer: {\n    position: \"relative\",\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    // border: \"solid 1px black\",\n  },\n  metaphorItem: {\n    position: \"relative\",\n    display: \"inline-block\",\n    width: \"calc(100% / 3)\",\n    // border: \"solid 1px black\",\n  },\n\n  badgeBox: {\n    width: \"100%\",\n    height: \"100%\",\n    maxHeight: \"50px\",\n    maxWidth: \"50px\",\n    overflow: \"hidden\",\n  },\n  badge: {\n    margin: \"auto\",\n    display: \"block\",\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"50%\",\n  },\n}));\n\nfunction ShowMetaphors(image, val) {\n  const classes = useStyles();\n  var icon_name;\n  if (image === \"taxi\") {\n    icon_name = oncomingTaxi;\n  } else if (image === \"burger\") {\n    icon_name = hamburgerIcon;\n  } else if (image === \"tree\") {\n    icon_name = deciduousTree;\n  }\n\n  return (\n    <div style={{ display: \"flex\", alignItems: \"center\" }}>\n      <div style={{ marginRight: 10 }}>\n        <Icon style={{ fontSize: 60 }} icon={icon_name} />\n      </div>\n      <div>{val}</div>\n    </div>\n    // <div className={classes.metaphorItem} style={{ minWidth: \"130px\" }}>\n    //   <Icon style={{ fontSize: 30 }} icon={icon_name} />\n\n    //   <div\n    //     style={{\n    //       position: \"absolute\",\n    //       display: \"inline-block\",\n    //       // border: \"solid 1px black\",\n    //       // textAlign: 'center',\n    //       width: \"calc(40% - 10px)\",\n    //       top: \"50%\",\n    //       transform: \"translateY(-50%)\",\n    //       marginLeft: \"10px\",\n    //     }}\n    //   >\n    //     <Icon style={{ fontSize: 30 }} icon={hamburgerIcon} />\n    //     {val}\n    //   </div>\n    // </div>\n  );\n}\n\nexport default function MyPage({ mainBadge }) {\n  const classes = useStyles();\n  let history = useHistory();\n\n  function handleClick() {\n    history.push(\"/biky/badgeDetail\");\n  }\n\n  return (\n    <div className={classes.page}>\n      <div className={classes.header}>\n        <div className={classes.verticalAlign}>My Page</div>\n      </div>\n      <div className={classes.content}>\n        <Box p={\"10px\"}>\n          <div>\n            <Box className={classes.roundBox}>\n              <div style={{ position: \"relative\" }}>\n                <div className={classes.avatar}>\n                  <div>\n                    <div\n                      style={{ display: \"inline-block\", marginBottom: \"5px\" }}\n                    >\n                      {/* <Avatar/> */}\n                      <img\n                        src={process.env.PUBLIC_URL + \"/images/nayeon.png\"}\n                        width=\"100%\"\n                        alt=\"profile\"\n                      />\n                    </div>\n                  </div>\n                  Nayeon Min\n                </div>\n\n                <div\n                  className={classes.personalInfo}\n                  style={{ whiteSpace: \"nowrap\" }}\n                >\n                  {/* <Typography> */}\n                  Age: 28\n                  <br />\n                  Gender: Female\n                  <br />\n                  Job: Freelancer Designer\n                  <br />\n                  Favorite: Boramae Park\n                  <br />\n                  {/* </Typography> */}\n                </div>\n              </div>\n            </Box>\n\n            <Box className={classes.recordsContainer}>\n              <Box className={classes.roundBox}>\n                <Typography className={classes.bold}>Records</Typography>\n\n                <Typography\n                  style={{ marginBottom: \"10px\", lineHeight: \"200%\" }}\n                >\n                  You rode a bike for &nbsp;\n                  <div\n                    style={{\n                      fontWeight: \"bold\",\n                      fontSize: \"18px\",\n                      display: \"inline-block\",\n                    }}\n                  >\n                    1029.9km and 47.7hrs!\n                  </div>\n                </Typography>\n                <div className={classes.metaphorContainer}>\n                  {ShowMetaphors(\"taxi\", \"1,031,870\")}\n                  {ShowMetaphors(\"burger\", \"103.5\")}\n                  {ShowMetaphors(\"tree\", \"51.49\")}\n                </div>\n              </Box>\n            </Box>\n\n            <div>\n              <Paper className={classes.paper} onClick={handleClick}>\n                <Typography\n                  className={classes.bold}\n                  style={{ marginBottom: \"10px\" }}\n                >\n                  Representative Badge\n                </Typography>\n\n                <Grid container spacing={2}>\n                  <Grid item>\n                    <Box className={classes.badgeBox}>\n                      <img\n                        className={classes.badge}\n                        src={\n                          process.env.PUBLIC_URL + badges[mainBadge].thumbnail\n                        }\n                        alt=\"대표 뱃지\"\n                      />\n                    </Box>\n                  </Grid>\n                  <Grid item xs container direction=\"column\" spacing={2}>\n                    <Grid item xs>\n                      <Typography variant=\"h6\">\n                        {badges[mainBadge].title}\n                      </Typography>\n                    </Grid>\n                    <Grid item xs>\n                      <Typography variant=\"body2\">\n                        {badges[mainBadge].description}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Paper>\n            </div>\n          </div>\n        </Box>\n      </div>\n    </div>\n  );\n}\n","import BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\nimport DirectionsBikeIcon from \"@material-ui/icons/DirectionsBike\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport { Link } from \"react-router-dom\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    height: \"60px\",\n    position: \"fixed\",\n    bottom: 0,\n    zIndex: 1,\n  },\n});\n\nconst noNavBar = (pathname) => {\n  return (\n    pathname === '/biky' || \n    pathname === '/biky/login' || \n    pathname === '/biky/404' ||\n    pathname === '/biky/') ||\n    pathname === '/biky/tutorial'\n}\n\nconst NavBar = () => {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(window.location.pathname);\n  let history = useHistory();\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  }\n\n    history.listen((location, action) => {\n        setValue(location.pathname)\n    });\n\n    return (\n      <div>\n        {noNavBar(value) ? null : \n    <BottomNavigation\n      value={value}\n      onChange={handleChange}\n      className={classes.root}\n    >\n      <BottomNavigationAction\n        label=\"FRIEND\"\n        value=\"/biky/friend\"\n        icon={<PeopleIcon />}\n        component={Link}\n        to=\"/biky/friend\"\n      ></BottomNavigationAction>\n      <BottomNavigationAction\n        label=\"HOME\"\n        value=\"/biky/home\"\n        icon={<HomeIcon />}\n        component={Link}\n        to=\"/biky/home\"\n      />\n      <BottomNavigationAction\n        label=\"JOURNAL\"\n        value=\"/biky/journal\"\n        icon={<DirectionsBikeIcon />}\n        component={Link}\n        to=\"/biky/journal\"\n\n      />\n    </BottomNavigation>\n}\n    </div>\n  );\n\n};\n\nexport default withRouter(NavBar);\n","import { Link } from \"react-router-dom\";\n\nexport default function NotFound()\n{\n  return <div style={{    position: 'fixed',\n    top: 0,\n    left: 0,\n    background: 'linear-gradient(0deg, #FFEDE8, #FFFFF5)',\n    backgroundRepeat: 'no-repeat',\n    width: '100%',\n    height: '100%',\n}}>\n  <div style={{position: 'relative', textAlign: \"center\", top: '50%'}}>\n    No such page!\n     Please go to\n    <div style={{marginLeft: 8}}>\n           <Link to=\"/biky\"> login page </Link>\n\n\n  </div>\n    </div>\n  </div>\n}","import ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { IconButton } from '@material-ui/core'\nimport React from 'react'\nimport { useHistory } from \"react-router-dom\";\n\nfunction getUrl(pageNum) {\n  return `url(${process.env.PUBLIC_URL}/images/tutorial/${pageNum}.png)`\n}\n\n\nexport default function Tutorial() {\n  const [pageNum, setPageNum] = React.useState(0)\n  let history = useHistory();\n\n\n  const onPressPrev = () => {\n    setPageNum(pageNum-1)\n  }\n\n  const onPressNext = () => {\n    if (pageNum === 9)\n      history.push(\"/biky/home\");      \n    else {\n      setPageNum(pageNum+1)\n    }\n  }\n  \n  \n  return <div style={{\n    backgroundImage: getUrl(pageNum), \n    height: '100%',\n    backgroundPosition: 'center', \n    backgroundSize: '100% 100%', \n    backgroundRepeat: 'no-repeat',\n    display: 'contain',\n    zIndex: -1\n    }}>\n\n      <div\n        style={{\n          height: '100%',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          display: 'flex'\n        }}\n      >\n        <IconButton style={(pageNum > 1) ? {color: 'white'} : {color: 'transparent'}} onClick={onPressPrev}> \n        <ArrowBackIosIcon fontSize=\"large\"/> \n        </IconButton >\n        <IconButton style={{color: 'white'}} onClick={onPressNext}> \n          <ArrowForwardIosIcon fontSize=\"large\"/> \n        </IconButton >\n      </div>\n\n  </div>\n}","import firebase from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\n// console.log(firebaseConfig.databaseURL);\n\nfirebase.initializeApp(firebaseConfig);\nconst storage = firebase.storage();\nconst db = firebase.database();\n\nconst fire = {db, storage: storage};\n\nexport default fire \n","import \"./App.css\";\n\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n\nimport BadgeDetail from \"./container/BadgeDetail\";\nimport Friends from \"./container/Friends\";\nimport Home from \"./container/Home\";\nimport JournalEditor from \"./container/journal/JournalEditor\";\nimport JournalMain from \"./container/journal/JournalMain\";\nimport Login from \"./container/Login\";\nimport LoginInitial from \"./container/LoginInitial\";\nimport MyPage from \"./container/MyPage\";\nimport NavigationBar from \"./component/NavigationBar\";\nimport NotFound from \"./NotFound\";\nimport PhotoUploader from \"./component/journal/PhotoUploader\";\nimport React from \"react\";\nimport Tutorial from \"./container/Tutorial\";\nimport fire from \"./firebaseInit\";\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: \"Noto Sans\",\n  },\n  palette: {\n    primary: {\n      main: \"#ff85ac\",\n      light: \"#FFEDE8\", // primary color\n    },\n    secondary: {\n      main: \"#FF8E53\",\n      light: \"#FFF9E8\", // secondary color\n    },\n  },\n});\n\n\nfunction App() {\n  const [mainBadge, setMainBadge] = React.useState(0);\n  const [ref, setRef] = React.useState(null);\n\n  const [journalRef, setJournalRef] = React.useState(null);\n  const [frequestRef, setFrequestsRef] = React.useState(null);\n  const [friendRef, setFriendRef] = React.useState(null);\n\n  const [image, setImage] = React.useState(null);\n  return (\n    <ThemeProvider theme={theme}>\n      <BrowserRouter>\n        <NavigationBar />\n        <Switch>\n          <Route\n            path=\"/biky/home\"\n            exact\n            render={() => {\n              if (journalRef)\n               return <Home \n                journalRef={fire.db.ref(journalRef)} \n                wizardRef={fire.db.ref('wizard/')}                \n                />\n              window.location.href = \"/biky\"\n              } }//\n          />\n          <Route\n            path=\"/biky/journal\"\n            exact\n            render={() => {\n              if (journalRef && friendRef)\n                return (\n                  <JournalMain\n                    journalRef={fire.db.ref(journalRef)}\n                    friendRef={fire.db.ref(friendRef)}\n                  />\n                );\n              window.location.href = \"/biky\";\n            }}\n          />\n          <Route\n            path=\"/biky/edit/:id\"\n            exact\n            render={() => {\n              if (journalRef && friendRef)\n                return (\n                  <JournalEditor\n                    storageRef={fire.storage.ref('/photos')}\n                    journalRef={fire.db.ref(journalRef)}\n                    friendRef={fire.db.ref(friendRef)}\n                  />\n                );\n              window.location.href = \"/biky\";\n            }}\n          />\n          <Route\n            path=\"/biky/\"\n            exact\n            render={() => (\n              <Login\n                db={fire.db}\n                setJournalRef={(name) =>\n                  setJournalRef(`/user/${name}/journals`)\n                }\n                setFriendRef={(name) => \n                  setFriendRef(`/user/${name}/friends`)\n                }                  \n                setFrequestsRef={(name) =>\n                  setFrequestsRef(`/user/${name}/frequests`)\n                }\n              />\n            )}\n          />\n          <Route\n            path=\"/biky/myPage\"\n            exact\n            render={() => {\n              if (journalRef) return <MyPage mainBadge={mainBadge} />;\n              window.location.href = \"/biky\";\n            }}\n          />\n          <Route\n            path=\"/biky/badgeDetail\"\n            exact\n            render={() => {\n              if (friendRef && journalRef)\n                return (\n                  <BadgeDetail\n                    changeMainBadge={(id) => setMainBadge(id)}\n                    mainBadge={mainBadge}\n                  />\n                );\n\n              window.location.href = \"/biky\";\n            }}\n          />\n          <Route\n            path=\"/biky/friend\"\n            render={() => {\n              if (friendRef && journalRef)\n                return (\n                  <Friends\n                    friendRef={fire.db.ref(friendRef)}\n                    frequestRef={fire.db.ref(frequestRef)}\n                    journalRef={fire.db.ref(journalRef)}\n                  />\n                );\n\n              window.location.href = \"/biky\";\n            }}\n          />\n          <Route\n            path=\"/biky/tutorial\"\n            render={() => {\n              return <Tutorial/>\n            }} />\n\n          <Route\n            path=\"/biky/404\"\n            render={() => <NotFound/>}\n          />\n          <Redirect from=\"*\" to=\"/biky/404\" />\n        </Switch>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}