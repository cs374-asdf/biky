(this.webpackJsonpbiky=this.webpackJsonpbiky||[]).push([[0],{168:function(e,t,i){},169:function(e,t,i){},206:function(e,t,i){},217:function(e){e.exports=JSON.parse("{}")},225:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),r=i(18),c=i.n(r),o=(i(168),i(169),i(27)),s=i(21),l=i(145),d=i(296),j=i(96),b=i(95),u=i(10),p=i(126),h=i.n(p),x=i(298),g=i(76),m=i(269),f=i(149),O=i(53),v=i(266),y=i(1),k=Object(v.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},paper:{padding:e.spacing(2)},badgeBox:{width:"100%",height:"100%"},badge:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},eachBadge:{margin:e.spacing(2,0)},buttonBase:{width:"100%",borderBottom:"dotted 1px lightgray"},arrow:{margin:e.spacing(1,1)},bold:{fontWeight:"bold",fontSize:"20px"}}})),w=[{oid:0,thumbnail:"/images/logo.png",title:"\ubc30\uc9c0 \uc774\ub9840",description:"\ubc30\uc9c0 \uc124\uba850"},{oid:1,thumbnail:"/images/badge1.png",title:"\ubc30\uc9c0 \uc774\ub9841",description:"\ubc30\uc9c0 \uc124\uba851"},{oid:2,thumbnail:"/images/badge2.png",title:"\ubc30\uc9c0 \uc774\ub9842",description:"\ubc30\uc9c0 \uc124\uba852"},{oid:3,thumbnail:"/images/badge3.png",title:"\ubc30\uc9c0 \uc774\ub9843",description:"\ubc30\uc9c0 \uc124\uba853"}];function C(){var e=k(),t=Object(n.useState)({representativeBadge:0}),i=Object(u.a)(t,2),a=i[0],r=i[1];var c=w.map((function(t,i){return Object(y.jsx)(f.a,{onClick:function(){var e;e=t.oid,r({representativeBadge:e}),console.log(a)},children:Object(y.jsx)(g.a,{className:e.buttonBase,style:i===a.representativeBadge?{backgroundColor:"lightgray"}:{},children:Object(y.jsxs)(m.a,{container:!0,spacing:2,className:e.eachBadge,children:[Object(y.jsx)(m.a,{item:!0,children:Object(y.jsx)(x.a,{className:e.badgeBox,children:Object(y.jsx)("img",{className:e.badge,src:"/biky"+t.thumbnail,alt:t.title})})}),Object(y.jsxs)(m.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(O.a,{variant:"h6",align:"left",children:t.title})}),Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(O.a,{variant:"body2",align:"left",children:t.description})})]})]})})})}));return Object(y.jsxs)(x.a,{p:3,children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(h.a,{className:e.arrow,onClick:function(){window.location.href="/biky/myPage"}})}),Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(O.a,{className:e.bold,style:{marginBottom:"10px"},children:"Representative Badge"}),Object(y.jsx)(f.a,{className:e.paper,children:Object(y.jsxs)(m.a,{container:!0,spacing:2,children:[Object(y.jsx)(m.a,{item:!0,children:Object(y.jsx)(x.a,{className:e.badgeBox,children:Object(y.jsx)("img",{className:e.badge,src:"/biky"+w[a.representativeBadge].thumbnail,alt:"\ub300\ud45c \ubc43\uc9c0"})})}),Object(y.jsxs)(m.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(O.a,{variant:"h6",children:w[a.representativeBadge].title})}),Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(O.a,{variant:"body2",children:w[a.representativeBadge].description})})]})]})})]}),Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(O.a,{className:e.bold,style:{marginBottom:"10px"},children:"Other Badges"}),Object(y.jsx)(x.a,{style:{border:"solid 1px lightgray",overflow:"scroll",maxHeight:"calc(100vh - 390px)"},children:c})]})]})}var N=i(270),S=i(271),F=i(302),R=Object(v.a)((function(e){return{root:{display:"flex","& > *":{}},orange:{color:e.palette.getContrastText(N.a[500]),backgroundColor:N.a[500]},purple:{color:e.palette.getContrastText(S.a[500]),backgroundColor:S.a[500]}}}));function B(){var e=R();return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(F.a,{className:e.orange,component:o.b,to:"/biky/myPage",children:"N"})})}var D=i(227),I=i(300),A=i(280),W=i(282),L=i(137),T=i.n(L),z=i(136),M=i.n(z),E=i(138),P=i.n(E),Y=i(281),J=i(107),q=i.n(J),_=i(299),H=i(41),G=i(25),V=i(303),U=i(272);function Z(e){var t=e.friend;e.style;return Object(y.jsxs)(x.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",width:"100%",mb:1,style:{borderTop:"1px dashed lightgray"},children:[Object(y.jsx)(x.a,{flex:1,mr:1,children:Object(y.jsx)(F.a,{alt:t.name,src:"/biky"+t.picture,style:{border:"2px solid lightgray"}})}),Object(y.jsx)(x.a,{flex:2,mr:4,children:Object(y.jsx)(O.a,{variant:"body2",color:"textPrimary",children:t.name})})]})}function K(e){return e||[]}function X(e){var t=parseInt(e/60),i=e%60;return"".concat(t>0?"".concat(t," hr").concat(t>1?"s":""," "):" ").concat(i>=0?"".concat(i," min").concat(i>1?"s":""):"")}function $(e){return"".concat(e," km")}var Q=i(90),ee=i(127),te=i(128),ie=(i(176),i(177),i(129)),ne=(i(178),i(179),i(180),i(130)),ae=i(131),re=i(132),ce=(i(181),i(182),i(183),i(184),i(185),i(133)),oe=(i(186),i(134));i(187),i(188);function se(e){return Object(y.jsx)(Q.Icon,{icon:le(e),width:"2em"})}function le(e){switch(e){case"sad":case"\ud79d":case"\uc2ac\ud504\ub2e4":return ie.a;case"angry":case"\ud654\ub098\ub124":return ae.a;case"excited":case"happy":case"\ud589\ubcf5\ud574":case"\uae30\ubd80\ub2c8\uac00 \uc88b\uc544\uc694":return ce.a;case"tired":case"exhausted":case"\uc878\ub9bc":case"sleepy":return oe.a;case"\uc874\ub9db":case"delicious":case"yummy":return ne.a;case"\uc774\uc2dc\uad6d":case"fever":case"sick":case"\uc544\ud30c\uc694":return re.a;default:return ee.a}}Q.Icon,te.a;var de=i(19),je=i.n(de);function be(e){var t=e.startTime,i=e.endTime,n=je()(t).format("YYYY. M. D."),a=je()(t).format("H\uc2dc M\ubd84"),r=je()(i).format("H\uc2dc M\ubd84");return Object(y.jsxs)("div",{children:[Object(y.jsx)(O.a,{variant:"h6",children:n}),Object(y.jsxs)(O.a,{children:[a," \ubd80\ud130 ",r," \uae4c\uc9c0"]})]})}function ue(e){return e?e.map((function(e){return Object(y.jsx)(Z,{friend:e},e.id)})):Object(y.jsx)("div",{children:" no friends... "})}function pe(e){if(!e)return Object(y.jsx)("div",{children:" empty metaphor "});var t=Math.floor(3*Math.random());return 0===t?Object(y.jsx)(U.a,{style:{background:"linear-gradient(45deg, #73A15D, #94C25A)",height:"70px",borderRadius:"15px"},children:Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)("img",{src:"/biky/images/tree.png",style:{position:"absolute",top:"17px",left:"15px",height:"35px"}}),Object(y.jsxs)(O.a,{variant:"body1",style:{fontSize:"1.2em",color:"white",position:"relative",top:"20px",left:"70px"},children:[e.tree," trees"]})]})}):1===t?Object(y.jsxs)(U.a,{style:{background:"linear-gradient(45deg, #A0BFE3, #F0A2B0)",height:"70px",borderRadius:"15px"},children:[Object(y.jsx)("img",{src:"/biky/images/taxi.png",style:{position:"absolute",top:"17px",left:"15px",height:"35px"}}),Object(y.jsxs)(O.a,{variant:"body1",style:{fontSize:"1.1em",color:"white",position:"absolute",top:"22px",left:"61px"},children:[e.taxi," won"]})]}):Object(y.jsx)(U.a,{style:{background:"linear-gradient(45deg, #EED28B, #DB7E61)",height:"70px",borderRadius:"15px"},children:Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"auto"},children:[Object(y.jsx)("img",{src:"/biky/images/hamburger.png",style:{position:"absolute",top:"17px",left:"15px",height:"35px"}}),Object(y.jsxs)(O.a,{variant:"body1",style:{fontSize:"1.15em",color:"white",position:"relative",top:"21px",left:"60px"},children:[e.hamburger," burgers"]})]})})}function he(e){var t=e.journal,i=e.openJournal,n=e.friends;if(!t)return null;var a,r=K(t.emojis).map(se);return Object(y.jsxs)(U.a,{onClick:function(){return i(t)},style:{margin:"35px",padding:"35px"},children:[Object(y.jsxs)("div",{style:{background:"#CCCCCC",display:"flex",flexWrap:"wrap",height:"30px"},children:[Object(y.jsxs)("div",{style:{width:"50%"},children:[t.weather,Object(y.jsx)(be,{startTime:t.startTime,endTime:t.endTime})]}),Object(y.jsx)("div",{style:{marginLeft:"auto"},children:r})]}),Object(y.jsxs)("div",{style:{background:"#DDDDDD",position:"relative",top:"30px",display:"flex",flexWrap:"noWrap",height:"60px",overflow:"hidden"},children:[Object(y.jsx)("div",{style:{background:"#CDCDCD",minWidth:"50%",width:"50%",height:"30px",fontSize:"20px",marginTop:"auto"},children:Object(y.jsx)("div",{children:t.title})}),Object(y.jsx)("div",{style:{marginTop:"auto",minWidth:"5vw"}}),Object(y.jsx)("div",{style:{marginLeft:"auto",marginTop:"auto",height:"25px"},children:(a=t.hashtags,a.map((function(e){return Object(y.jsxs)("div",{style:{display:"inline"},children:["#","".concat(e," ")]},e)})))})]}),Object(y.jsx)("div",{style:{background:"#BCBCBC",position:"relative",top:"55px",width:"65%",height:"120px",overflow:"hidden"},children:t.desc}),Object(y.jsxs)("div",{style:{background:"#CCCCCC",position:"relative",top:"85px",width:"65%",height:"70px",display:"flex",flexWrap:"noWrap"},children:[Object(y.jsx)("div",{style:{width:"160px"},children:pe(t.metaphor)}),Object(y.jsxs)("div",{style:{marginLeft:"auto",display:"flex",flexDirection:"column",flexWrap:"wrap"},children:[Object(y.jsx)("div",{style:{marginLeft:"auto"},children:ue(n)}),Object(y.jsxs)("div",{style:{marginTop:"auto"},children:[t.distance," km"]})]})]}),Object(y.jsx)("div",{style:{height:"85px"}})]})}var xe=i(279),ge=i(278),me=i(277),fe=i(276),Oe=i(91),ve=i.n(Oe),ye=i(273),ke=i(274),we=i(275),Ce=Object(v.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1),width:"80%"}},hashtagGroup:{display:"flex",flexDirection:"row"},picture:{},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function Ne(e){var t=e.pictures,i=e.removePicture,n=e.isEditing,a=Ce();return t?Object(y.jsx)(ye.a,{cellHeight:160,className:a.gridList,cols:3,children:t.map((function(e){return Object(y.jsxs)(ke.a,{className:a.picture,children:[Object(y.jsx)("img",{src:"/biky"+e,alt:"bike"}),n&&Object(y.jsx)(we.a,{classes:{root:a.titleBar,title:a.title},actionIcon:Object(y.jsx)(D.a,{"aria-label":"delete ".concat(e),onClick:function(){return i(e)},children:Object(y.jsx)(ve.a,{className:a.title})})})]},e)}))}):null}var Se=i(69),Fe=i.n(Se),Re=Object(v.a)({map:{position:"relative",width:"100%",height:"100%",textAlign:"center",display:"inline-block"}});function Be(e){var t=Re(),i=e.route?e.route:[],a=e.zoom?e.zoom:15,r=e.width?e.width:"100%",c=e.height?e.height:"300px",o=i.length,s=i[0],l=i[o-1];console.log(i);var d=Object(n.useRef)(null),j=Object(n.useRef)(null);return Object(n.useEffect)((function(){j.current||(j.current=new Fe.a.Map({container:d.current,style:"mapbox://styles/mapbox/streets-v11",center:l,zoom:a}),j.current.on("load",(function(){j.current.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:i}}}),j.current.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":4}}),j.current.addSource("start",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:s}}]}}),j.current.addLayer({id:"start",type:"circle",source:"start",paint:{"circle-radius":5,"circle-color":"#0000FF","circle-opacity":1}}),j.current.addSource("end",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:l}}]}}),j.current.addLayer({id:"end",type:"circle",source:"end",paint:{"circle-radius":5,"circle-color":"#FF0000","circle-opacity":1}})})))})),Object(y.jsx)("div",{style:{width:r,height:c},children:Object(y.jsx)("div",{ref:d,className:t.map})})}Fe.a.accessToken="pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg";var De=Object(v.a)((function(e){return{paper:{width:"80%",position:"absolute",maxHeight:"80%",padding:e.spacing(2,4,3)}}})),Ie={top:"50%",left:"50%",position:"absolute",overflow:"scroll",transform:"translate(-".concat(50,"%, -",50,"%)")};function Ae(e){return console.log("time: ",e),je()(e).format("YYYY\ub144 M\uc6d4 D\uc77c H\uc2dc m\ubd84")}function We(e){var t=e.journal,i=(e.friends,De());if(!t)return null;var n,a,r,c=K(t.emojis).map(se);return console.log(t.friends),Object(y.jsxs)(U.a,{style:Ie,className:i.paper,children:[Object(y.jsx)(fe.a,{title:t.title}),Object(y.jsx)(me.a,{children:t.desc}),Object(y.jsx)(me.a,{children:(r=t.hashtags,r?r.map((function(e){return Object(y.jsxs)("div",{style:{display:"inline"},children:[" ",e," "]},e)})):Object(y.jsx)("div",{children:" empty "}))}),Object(y.jsx)(me.a,{children:c}),Object(y.jsx)(me.a,{children:Object(y.jsx)(Ne,{pictures:t.photos,isEditing:!1})}),Object(y.jsxs)(me.a,{children:[t.distance," km"]}),Object(y.jsx)(me.a,{children:(n=t.startTime,a=t.endTime,Object(y.jsxs)("div",{children:[Ae(n)," \ubd80\ud130 ",Ae(a)," \uae4c\uc9c0"]}))}),Object(y.jsxs)(me.a,{children:[t.weather," "]}),Object(y.jsxs)(me.a,{children:[pe(t.metaphor)," "]}),Object(y.jsx)(me.a,{children:Object(y.jsx)(Be,{route:t.route,zoom:15,width:"100%",height:"300px"})}),Object(y.jsxs)(ge.a,{children:[Object(y.jsx)(xe.a,{disabled:!1,component:o.b,to:"/biky/edit/".concat(t.id),children:"\uc218\uc815"}),Object(y.jsx)(xe.a,{onClick:function(){return alert("\uc0ad\uc81c")},children:"\uc0ad\uc81c"})]})]})}function Le(e){var t=e.journals,i=e.openJournal,n=e.friendsByJournal,a=t?t.map((function(e){return Object(y.jsx)(he,{openJournal:i,journal:e,friends:n[e.id]},e.id)})):Object(y.jsx)("p",{children:" \uc544\uc9c1 \uac8c\uc2dc\uae00\uc774 \uc5c6\uc5b4\uc694!"});return Object(y.jsx)("div",{children:a})}var Te=i(135),ze=i.n(Te),Me=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(H.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(H.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(H.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Ee(){var e=Me();return Object(y.jsxs)("div",{className:e.search,children:[Object(y.jsx)("div",{className:e.searchIcon,children:Object(y.jsx)(ze.a,{})}),Object(y.jsx)(V.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})}var Pe=Object(v.a)((function(e){return{paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"18px"},mailIcon:{position:"absolute",display:"inline-block",marginLeft:"10px"}}}));function Ye(e){return Object(y.jsx)("div",{style:{margin:"5px",marginTop:"5px",width:"100%"},children:Object(y.jsx)(I.a,{expanded:!1,style:{boxShadow:"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)"},children:Object(y.jsx)(A.a,{children:Object(y.jsxs)(x.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",width:"100%",children:[Object(y.jsx)(x.a,{flex:1,mr:1,children:Object(y.jsx)(F.a,{alt:e.name,src:"/biky"+e.picture,style:{border:"2px solid lightgray",width:"30px",height:"30px"}})}),Object(y.jsx)(x.a,{flex:8,mr:2,style:{minWidth:"75px"},children:Object(y.jsx)(O.a,{variant:"body2",color:"textPrimary",children:e.name})}),Object(y.jsxs)(x.a,{children:[Object(y.jsx)("div",{style:{display:"inline-block",marginRight:"10px"},children:Object(y.jsx)(D.a,{style:{color:"green",width:"30px",height:"30px"},onClick:function(){e.onAcceptClick(e.oid)},children:Object(y.jsx)(M.a,{})})}),Object(y.jsx)("div",{style:{display:"inline-block"},children:Object(y.jsx)(D.a,{style:{color:"red",width:"30px",height:"30px"},onClick:function(){e.onRejectClick(e.oid)},children:Object(y.jsx)(T.a,{})})})]})]})})})})}function Je(e){var t=Pe(),i=a.a.useState({top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"80vh",overflow:"scroll"}),n=Object(u.a)(i,1)[0],r=a.a.useState(!1),c=Object(u.a)(r,2),o=c[0],s=c[1];var l=function(){s(!1)},d=Object(y.jsx)("div",{style:n,className:t.paper,children:Object(y.jsxs)(x.a,{display:"flex",flexDirection:"column",children:[Object(y.jsxs)(x.a,{flex:1,display:"flex",alignItems:"center",flexDirection:"row",children:[Object(y.jsx)(x.a,{flexGrow:1,children:Object(y.jsx)(O.a,{variant:"h4",color:"textPrimary",children:Object(y.jsx)("b",{children:"Frequest"})})}),Object(y.jsx)(x.a,{children:Object(y.jsx)(D.a,{onClick:l,style:{width:"30px",height:"30px"},children:Object(y.jsx)(P.a,{})})})]}),Object(y.jsxs)(x.a,{flex:4,children:[Object(y.jsx)(O.a,{variant:"subtitle1",color:"textPrimary",style:{padding:"7px 0"},children:Object(y.jsx)("b",{children:"Received Frequests"})}),Object(y.jsx)(x.a,{display:"flex",alignItems:"center",flexDirection:"column",style:{paddingBottom:"5px"},children:null==e.frequests||0===e.frequests.length?Object(y.jsx)(O.a,{variant:"body1",color:"textPrimary",children:"You have received no frequests"}):e.frequests.map((function(t){return Object(y.jsx)(Ye,{oid:t.id,name:t.name,picture:t.picture,onRejectClick:e.onRejectClick,onAcceptClick:e.onAcceptClick},t.id)}))})]}),Object(y.jsx)(Y.a,{style:{margin:"10px 0"}}),Object(y.jsxs)(x.a,{flex:4,children:[Object(y.jsx)(O.a,{variant:"subtitle1",color:"textPrimary",style:{padding:"7px 0"},children:Object(y.jsx)("b",{children:"Send a Frequest"})}),Object(y.jsx)(Ee,{})]})]})});return Object(y.jsxs)("div",{className:t.mailIcon,children:[Object(y.jsx)(D.a,{onClick:function(){s(!0)},children:null==e.frequests||0===e.frequests.length?Object(y.jsx)(q.a,{}):Object(y.jsx)(W.a,{badgeContent:e.frequests.length,color:"primary",children:Object(y.jsx)(q.a,{})})}),Object(y.jsx)(_.a,{open:o,onClose:l,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:d})]})}var qe=i(94),_e=i.n(qe),He=i(283),Ge=i(139),Ve=i.n(Ge),Ue=Object(v.a)((function(e){return{pro_bar:{backgroundColor:"hsl(0, 0%, 97%)",height:"4px",marginBottom:"12px",marginTop:"12px",position:"relative"},progress_bar_inner:{display:"block",width:0,height:"100%",position:"absolute",top:0,left:0,backgroundColor:"#ff85ac",transition:"width 1s linear 0s","&::after":{content:'""',width:"32px",height:"29px",backgroundImage:"url(".concat("/biky/images/bike.png",")"),backgroundSize:"contain",borderRadius:"50%",position:"absolute",right:"-4px",top:"-20px"}}}}));function Ze(e){var t=Ue();return Object(y.jsx)(x.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:Object(y.jsx)(x.a,{flex:5,style:{transform:"translateY(8px)"},children:Object(y.jsx)("div",{className:t.pro_bar,children:Object(y.jsx)("div",{className:t.progress_bar_inner,style:{width:e.value+"%"},"data-value":e.value,"data-percentage-value":e.value})})})})}function Ke(e){var t=e.journal;return Object(y.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"5px",padding:"7px",marginTop:"10px",fontSize:"11px"},children:[Object(y.jsx)("div",{style:{display:"inline-block",width:"20%"},children:t.startTime}),Object(y.jsx)("div",{style:{display:"inline-block",width:"35%"},children:t.title})]})}function Xe(e){var t=e.friend,i=e.journals;console.log(i);var n=0,a=0;return i&&i.map((function(e){a+=e.distance,n+=je()(e.endTime).diff(e.startTime,"minute",!0)})),t.total_intimacy=(n/60+a)/2,t.total_intimacy>=100&&(t.total_intimacy=100),Object(y.jsxs)(I.a,{style:{boxShadow:"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)"},children:[Object(y.jsx)(A.a,{expandIcon:Object(y.jsx)(Ve.a,{}),children:Object(y.jsx)($e,{friend:t},t.id)}),Object(y.jsx)(He.a,{style:{backgroundColor:"lightgray",padding:"10px"},children:Object(y.jsxs)("div",{style:{width:"100%"},children:[Object(y.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(y.jsx)("b",{children:"Time: "}),X(n)]}),Object(y.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(y.jsx)("b",{children:"Distance: "}),$(a)]}),Object(y.jsx)("div",{children:i&&i.map((function(e){return Object(y.jsx)(Ke,{journal:e},e.id)}))})]})})]})}function $e(e){var t=e.friend;return Object(y.jsxs)(x.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",width:"100%",children:[Object(y.jsx)(x.a,{flex:1,mr:1,children:Object(y.jsx)(F.a,{alt:t.name,src:"/biky"+t.picture,style:{border:"2px solid lightgray",width:"30px",height:"30px"}})}),Object(y.jsx)(x.a,{flex:2,mr:2,style:{minWidth:"75px"},children:Object(y.jsx)(O.a,{variant:"body1",color:"textPrimary",children:t.name})}),Object(y.jsx)(x.a,{flex:6,children:Object(y.jsx)(Ze,{value:t.total_intimacy})})]})}var Qe=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}}));function et(e){var t=Qe();return Object(y.jsx)("div",{className:t.root,children:Object(y.jsxs)(x.a,{display:"flex",flexDirection:"column",children:[Object(y.jsx)(x.a,{alignSelf:"flex-end",style:{marginRight:"10px"},children:Object(y.jsx)(D.a,{children:Object(y.jsx)(_e.a,{})})}),Object(y.jsx)("div",{children:e.flist.map((function(t){return function(e,t){return console.log(t),Object(y.jsx)("div",{style:{margin:"10px",marginTop:"5px"},children:Object(y.jsx)(Xe,{friend:e,journals:t})},e.id)}(t,e.journalsByFriend[t.id])}))})]})})}var tt=Object(v.a)({page:{position:"relative",margin:"0 auto"},verticalAlign:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",display:"inline-block"},header:{position:"relative",height:"49px",fontSize:"30px",fontWeight:"bold",borderBottom:"solid 1px black",textAlign:"center"},avatar:{position:"relative",height:"50px"},content:{position:"relative",height:"calc(100vh - 160px)",overflow:"scroll"}});function it(e){var t=e.friendRef,i=e.frequestRef,n=e.journalRef,r=tt(),c=a.a.useState([]),o=Object(u.a)(c,2),s=o[0],l=o[1],d=a.a.useState([]),j=Object(u.a)(d,2),b=j[0],p=j[1],h=a.a.useState(null),x=Object(u.a)(h,2),g=x[0],m=x[1];a.a.useEffect((function(){t.on("value",(function(e){var t=e.val();n.once("value",(function(e){console.log(t),p(Object.values(t));var i=e.val();m(function(e,t){for(var i={},n=function(n){var a=e[n];i[a.id]=t.filter((function(e){return e.friends&&e.friends.includes(a.id)}))},a=0;a<e.length;a++)n(a);return console.log(i),i}(Object.values(t),Object.values(i)))}))})),i.on("value",(function(e){var t=e.val();console.log(t),l(null===t?[]:Object.values(t))}))}),[]);return g?Object(y.jsxs)("div",{className:r.page,children:[Object(y.jsx)("div",{className:r.header,children:Object(y.jsx)("div",{className:r.verticalAlign,children:"Friends"})}),Object(y.jsx)("div",{className:r.avatar,children:Object(y.jsxs)("div",{className:r.verticalAlign,style:{right:"10px",transform:"translateY(-50%)"},children:["Nayeon Min"," ",Object(y.jsx)("div",{style:{display:"inline-block"},children:Object(y.jsx)(B,{})})]})}),Object(y.jsxs)("div",{className:r.content,children:[Object(y.jsx)(Je,{frequests:s,onRejectClick:function(e){i.child(e).remove()},onAcceptClick:function(e){for(var n={id:"f"+b.length,picture:"",name:"",total_intimacy:0},a=0;a<s.length;a++)s[a].id===e&&(n.name=s[a].name,n.picture=s[a].picture);t.child("f"+b.length).set(n),i.child(e).remove()}}),Object(y.jsx)(et,{flist:b,journalsByFriend:g})]})]}):Object(y.jsx)("div",{children:" \ub85c\ub529\uc911... "})}var nt=Object(v.a)((function(e){return{container:{position:"relative",width:"calc(50% - 15px)",height:"calc(100% - 40px)",padding:"10px",paddingRight:"5px",display:"inline-block",verticalAlign:"top"},background:{position:"relative",width:"calc(100% - 20px)",height:"100%",backgroundColor:"darkgray",borderRadius:"10px",padding:"10px",color:"white",fontWeight:"bold"},status:{display:"inline-block",color:"darkgray",fontSize:"12px",backgroundColor:"white",padding:"3px 10px",borderRadius:"10px",float:"right"}}}));function at(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function rt(){var e=nt(),t=Object(n.useState)(at(1,["sunny","cloudy","rainy"].length)),i=Object(u.a)(t,2),a=i[0];i[1];console.log("currentWeather: ".concat(a));var r=1===a?{backgroundColor:"yellow",color:"black"}:2===a?{backgroundColor:"lightblue"}:{backgroundColor:"darkblue"},c=1===a?"sunny":2===a?"cloudy":"rainy",o=Object(n.useState)(1===a?at(20,30):2===a?at(15,25):at(10,20)),s=Object(u.a)(o,2),l=s[0];s[1];return Object(y.jsx)("div",{className:e.container,children:Object(y.jsxs)("div",{className:e.background,style:r,children:[c," ",Object(y.jsx)("br",{}),l,"\u2103"]})})}var ct=Object(v.a)((function(e){return{bar:{position:"relative",width:"100%",height:"10px",backgroundColor:"white",borderRadius:"10px",marginTop:"10px"},slider:{position:"absolute",top:"5px",transform:"translateY(-50%)",width:"25px",height:"15px",backgroundColor:"darkgray",borderRadius:"10px",color:"white",textAlign:"center",fontSize:"11px",fontWeight:"bold",border:"solid 2px white"}}}));function ot(e){var t=ct(),i=e.amount,n=e.percentage;return Object(y.jsx)("div",{className:t.bar,children:Object(y.jsx)("div",{className:t.slider,style:{left:"calc(calc(100% - 29px) * ".concat(n)},children:i})})}var st=Object(v.a)((function(e){return{container:{position:"relative",width:"calc(50% - 15px)",height:"calc(100% - 40px)",padding:"10px",paddingLeft:"5px",display:"inline-block",verticalAlign:"top"},background:{position:"relative",width:"calc(100% - 20px)",height:"100%",backgroundColor:"darkgray",borderRadius:"10px",padding:"10px",color:"white",fontWeight:"bold"},status:{display:"inline-block",color:"darkgray",fontSize:"11px",backgroundColor:"white",padding:"3px 10px",borderRadius:"10px",float:"right"}}}));function lt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function dt(){var e=st(),t=Object(n.useState)(lt(0,200)),i=Object(u.a)(t,2),a=i[0],r=(i[1],a<=30?"GOOD":a<=80?"NORMAL":a<=150?"BAD":"VERY BAD"),c=Object(n.useState)(lt(0,100)),o=Object(u.a)(c,2),s=o[0],l=(o[1],s<=15?"GOOD":s<=35?"NORMAL":s<=75?"BAD":"VERY BAD");return Object(y.jsx)("div",{className:e.container,children:Object(y.jsxs)("div",{className:e.background,children:[Object(y.jsxs)("div",{children:["fine dust",Object(y.jsx)("div",{className:e.status,children:r}),Object(y.jsx)(ot,{amount:a,percentage:a/200})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{children:["ultra-fine dust",Object(y.jsx)("div",{className:e.status,children:l}),Object(y.jsx)(ot,{amount:s,percentage:s/100})]})]})})}function jt(e){var t=e.style,i=e.distance;return Object(y.jsx)("div",{className:t,style:{width:"100px"},children:i})}function bt(e){var t=e.style,i=e.time;return Object(y.jsx)("div",{className:t,style:{width:"120px"},children:i})}var ut=[[37.49468356316903,126.91462625155943],[37.49457548665683,126.91466456325881],[37.4945003236157,126.91467809668889],[37.494409948906565,126.91469501347642],[37.49436968291182,126.91470290797731],[37.49369203740101,126.91484578727844],[37.493628630563954,126.91634996665469],[37.494331551409644,126.91635767048872],[37.49434377606901,126.91753635713798],[37.49440489929814,126.9184608172214],[37.49367752962703,126.91876897058253],[37.49314415408823,126.91832564377637],[37.49274195991449,126.91792170245459],[37.49234604790941,126.91776329409315],[37.4920883897629,126.91788210036424],[37.49202554617772,126.91830980294021],[37.49193128070078,126.91894343638609]],pt=Object(v.a)({map:{position:"relative",width:"100%",height:"100%",textAlign:"center",display:"inline-block"}});function ht(e){for(var t=[],i=e.length,n=0;n<i;n++)t.push([e[n][1],e[n][0]]);return t}function xt(e){var t=pt(),i=e.index,a=e.isRiding,r=Object(n.useRef)(null),c=Object(n.useRef)(null),o=Object(n.useState)(ut[0][1]),s=Object(u.a)(o,2),l=s[0],d=s[1],j=Object(n.useState)(ut[0][0]),b=Object(u.a)(j,2),p=b[0],h=b[1],x=Object(n.useState)(15),g=Object(u.a)(x,2),m=g[0],f=(g[1],Object(n.useState)(ut.slice(0,1))),O=Object(u.a)(f,2),v=O[0],k=O[1];return Object(n.useEffect)((function(){c.current||(c.current=new Fe.a.Map({container:r.current,style:"mapbox://styles/mapbox/streets-v11",center:[l,p],zoom:m}),c.current.on("load",(function(){c.current.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:ht(v)}}}),c.current.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":4}}),c.current.addSource("pointer",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[l,p]}}]}}),c.current.addLayer({id:"pointer",type:"circle",source:"pointer",paint:{"circle-radius":5,"circle-color":"#FF0000","circle-opacity":.8}})})))})),Object(n.useEffect)((function(){i>=ut.length&&(i=ut.length-1),d(ut[i][1]),h(ut[i][0]),k(ut.slice(0,i+1)),c.current.setCenter([l,p]),c.current.getSource("route")&&c.current.getSource("route").setData({type:"Feature",geometry:{type:"LineString",coordinates:ht(v)}}),c.current.getSource("pointer")&&c.current.getSource("pointer").setData({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[l,p]}}]})}),[i]),Object(n.useEffect)((function(){a||(e.saveRoute(ht(v)),d(ut[0][1]),h(ut[0][0]),k(ut.slice(0,1)))}),[a]),Object(y.jsx)("div",{ref:r,className:t.map})}function gt(e){var t=e.style;return Object(y.jsx)("div",{className:t.button,style:{backgroundColor:"green",color:"white"},children:Object(y.jsx)("div",{className:t.text,children:"Start Ride"})})}function mt(e){var t=e.style;return Object(y.jsx)("div",{className:t.button,style:{backgroundColor:"red",color:"white"},children:Object(y.jsx)("div",{className:t.text,children:"Stop Ride"})})}function ft(e){var t=e.amount,i=Object(n.useState)(Math.floor(3*Math.random()+1)),a=Object(u.a)(i,2),r=a[0];a[1];return Object(y.jsxs)("div",{style:{position:"relative"},children:[1===r?Object(y.jsx)(vt,{amount:t}):null,2===r?Object(y.jsx)(kt,{amount:t}):null,3===r?Object(y.jsx)(Ct,{amount:t}):null]})}Fe.a.accessToken="pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg";var Ot=Object(v.a)((function(e){return{background:{position:"relative",backgroundColor:"pink",borderRadius:"10px",padding:"10px"},img:{display:"inline-block",width:"15%"},text:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",color:"white",fontSize:"18px",fontWeight:"bold",margin:"0 auto",width:"calc(85% - 20px)",paddingLeft:"10px"}}}));function vt(e){var t=Ot(),i=e.amount;return Object(y.jsxs)("div",{className:t.background,children:[Object(y.jsx)("img",{src:"/biky/images/home/metaphor_taxi.png",alt:"taxi",className:t.img}),Object(y.jsxs)("div",{className:t.text,children:["You saved ",3e3*i," won!"]})]})}var yt=Object(v.a)((function(e){return{background:{position:"relative",backgroundColor:"orange",borderRadius:"10px",padding:"10px"},img:{display:"inline-block",width:"15%"},text:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",color:"white",fontSize:"18px",fontWeight:"bold",width:"calc(85% - 20px)",paddingLeft:"10px"}}}));function kt(e){var t=yt(),i=e.amount;return Object(y.jsxs)("div",{className:t.background,children:[Object(y.jsx)("img",{src:"/biky/images/home/metaphor_burger.png",alt:"burger",className:t.img}),Object(y.jsxs)("div",{className:t.text,children:["You skipped ",2*i," burgers!"]})]})}var wt=Object(v.a)((function(e){return{background:{position:"relative",backgroundColor:"green",borderRadius:"10px",padding:"10px"},img:{display:"inline-block",width:"15%"},text:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",color:"white",fontSize:"18px",fontWeight:"bold",margin:"0 auto",width:"calc(85% - 20px)",paddingLeft:"10px"}}}));function Ct(e){var t=wt(),i=e.amount;return Object(y.jsxs)("div",{className:t.background,children:[Object(y.jsx)("img",{src:"/biky/images/home/metaphor_tree.png",alt:"",className:t.img}),Object(y.jsxs)("div",{className:t.text,children:["You planted ",1.5*i," trees!"]})]})}var Nt=Object(v.a)((function(e){return{modal:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:"75%",maxHeight:"75vh",overflowY:"scroll",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"},title:{fontSize:"20px",fontWeight:"bold",textAlign:"center",paddingBottom:"10px"},half:{display:"inline-block",width:"50%",paddingBottom:"10px"},label:{display:"inline-block",fontSize:"15px",fontWeight:"bold",padding:"5px",paddingLeft:"0"},button:{width:"calc(100% - 20px)",textAlign:"center",color:"white",fontWeight:"bold",backgroundColor:"#4BA9FF",borderRadius:"10px",padding:"10px",marginTop:"10px"}}}));function St(e){var t=Nt(),i=e.open,n=e.distance,a=e.time,r=e.amount,c=e.route,o=e.closeModal;return Object(y.jsx)("div",{children:Object(y.jsx)(_.a,{open:i,onClose:o,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(y.jsxs)("div",{className:t.modal,children:[Object(y.jsx)("div",{id:"modal-title",className:t.title,children:"Today's Ride"}),Object(y.jsx)(ft,{amount:r}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{id:"modal-description",children:[Object(y.jsxs)("div",{className:t.half,children:[Object(y.jsx)("div",{className:t.label,children:"\uc2dc\uac04"})," ",a]}),Object(y.jsxs)("div",{className:t.half,children:[Object(y.jsx)("div",{className:t.label,children:"\uac70\ub9ac"})," ",n]}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:t.label,children:"\uc774\ub3d9\uacbd\ub85c"}),Object(y.jsx)(Be,{route:c,zoom:15,width:"100%",height:"300px"})]}),Object(y.jsx)(xe.a,{className:t.button,onClick:e.handleJournal,children:"Journal Ride"})]})]})})})}var Ft=Object(v.a)({page:{position:"relative",margin:"0 auto"},verticalAlign:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",display:"inline-block"},header:{position:"relative",height:"49px",fontSize:"30px",fontWeight:"bold",borderBottom:"solid 1px black",textAlign:"center"},avatar:{position:"relative",height:"50px"},content:{position:"relative",height:"calc(100vh - 160px)",overflow:"scroll"},weatherContainer:{position:"relative",width:"100%",height:"25%"},measuresContainer:{position:"absolute",zIndex:"1",width:"calc(100% - 20px)",padding:"10px"},measures:{display:"inline-block",padding:"10px",margin:"0 5px",backgroundColor:"white",borderRadius:"10px",textAlign:"center",fontWeight:"bold",fontSize:"20px"},mapContainer:{position:"relative",width:"100%",height:"60%"},buttonContainer:{position:"relative",width:"100%",height:"15%"},button:{position:"relative",height:"calc(100% - 20px)",textAlign:"center",borderRadius:"10px",fontWeight:"bold",fontSize:"20px",margin:"10px"},buttonText:{position:"relative",textAlign:"center",fontWeight:"bold",fontSize:"20px"},startButton:{},stopButton:{}});function Rt(e){var t=e.journalRef,i=Ft(),a=Object(n.useState)(!1),r=Object(u.a)(a,2),c=r[0],o=r[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(n.useState)(0),h=Object(u.a)(p,2),x=h[0],g=h[1],m=Object(n.useState)(0),f=Object(u.a)(m,2),O=f[0],v=f[1],k=Object(n.useState)([]),w=Object(u.a)(k,2),C=w[0],N=w[1],S=Object(n.useRef)(null),F=Object(n.useState)(["happy"]),R=Object(u.a)(F,2),D=R[0],I=(R[1],Object(n.useState)(je()())),A=Object(u.a)(I,2),W=A[0],L=A[1],T=function(){var e=t.push().key,i=W.add(O,"minute"),n={id:e,route:C,hashtags:D,distance:x,startTime:W.toString(),endTime:i.toString(),title:"\uc81c\ubaa9 \uc5c6\uc74c",desc:"\ub0b4\uc6a9 \uc5c6\uc74c",photos:["/images/photo1.jpg"],emojis:["happy","exited"],metaphors:{tree:1,taxi:1,burger:1}};return console.log(n),t.child(e).set(n),e},z=Object(s.f)(),M=function(){var e=parseInt(O),t="0".concat(e%60).slice(-2),i="".concat(Math.floor(e/60)),n="0".concat(i%60).slice(-2),a="0".concat(Math.floor(e/3600)).slice(-2);return"".concat(a," : ").concat(n," : ").concat(t)},E=function(){return x<1e3?"".concat(x,"m"):"".concat(x/1e3,"km")};return Object(y.jsxs)("div",{className:i.page,children:[Object(y.jsx)("div",{className:i.header,children:Object(y.jsx)("div",{className:i.verticalAlign,children:"Home"})}),Object(y.jsx)("div",{className:i.avatar,children:Object(y.jsxs)("div",{className:i.verticalAlign,style:{right:"10px",transform:"translateY(-50%)"},children:["Nayeon Min"," ",Object(y.jsx)("div",{style:{display:"inline-block"},children:Object(y.jsx)(B,{})})]})}),Object(y.jsxs)("div",{className:i.content,children:[Object(y.jsxs)("div",{className:i.weatherContainer,children:[Object(y.jsx)(rt,{}),Object(y.jsx)(dt,{})]}),c?Object(y.jsxs)("div",{className:i.measuresContainer,children:[Object(y.jsx)(jt,{distance:E(),style:i.measures}),Object(y.jsx)(bt,{time:M(),style:i.measures})]}):null,Object(y.jsx)("div",{className:i.mapContainer,children:Object(y.jsx)(xt,{index:x,isRiding:c,saveRoute:N})}),Object(y.jsx)("div",{onClick:function(){return c?(o(!1),clearInterval(S.current),void b(!0)):(L(je()()),o(!0),void(S.current=setInterval((function(){g((function(e){return e+1})),v((function(e){return e+1/6}))}),1e3/6)))},className:i.buttonContainer,children:c?Object(y.jsx)(mt,{style:{button:i.button,text:i.verticalAlign}}):Object(y.jsx)(gt,{style:{button:i.button,text:i.verticalAlign}})})]}),Object(y.jsx)(St,{handleJournal:function(){var e=T();z.push("/biky/edit/".concat(e))},open:j,distance:E(),time:M(),amount:x,route:C,closeModal:function(){console.log("closing modal"),T(),b(!1),g(0),v(0)}})]})}var Bt=i(66),Dt=i(51);Object(v.a)((function(e){return{paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),"translate(-".concat(50,"%, -",50,"%)");function It(e){var t=e.friend,i=e.onClick;e.disabled;return Object(y.jsx)(g.a,{onClick:i,children:Object(y.jsx)(Z,{friend:t})})}function At(e){var t=e.allFriends,i=e.selectedFriends,n=e.addFriend;return Object(y.jsxs)("div",{children:[t.map((function(e){return Object(y.jsx)(It,{friend:e,onClick:function(){return n(e)},disabled:i.includes(e)},e.id)})),"\uce5c\uad6c\ub97c \ucd94\uac00\ud574\ubcf4\uc2dc\uc9c0"]})}var Wt=i(289),Lt=i(284),Tt=i(288),zt=i(285),Mt=i(287),Et=i(286);function Pt(e){var t=e.friend,i=e.removeFriend;return Object(y.jsxs)(Lt.a,{children:[Object(y.jsx)(zt.a,{children:Object(y.jsx)(F.a,{alt:t.name,src:"/biky"+t.picture})}),Object(y.jsx)(Et.a,{primary:t.name}),Object(y.jsx)(Mt.a,{children:Object(y.jsx)(D.a,{edge:"end","aria-label":"delete",onClick:function(){return i(t)},children:Object(y.jsx)(Tt.a,{})})})]},t.id)}i(206);var Yt=i(140),Jt=i.n(Yt);var qt=function(e){return e};function _t(e){var t=e.handleSubmit,i=e.hashtags,n=a.a.useState(""),r=Object(u.a)(n,2),c=r[0],o=r[1],s=a.a.useState([]),l=Object(u.a)(s,2),d=l[0],j=l[1],b=function(e){e.preventDefault(),t(c),j(i.filter((function(e){return e!==c}))),o("")},p={placeholder:"+ New Hashtag",value:c,onChange:function(e,t){var i=t.newValue;o(i)}};return Object(y.jsx)(Jt.a,{suggestions:d,onSuggestionsFetchRequested:function(e){var n=e.value;if("suggestion-selected"===e.reason)return t(n),o(""),void j(i.filter((function(e){return e!==n})));j(function(e){if(0===e.length)return i;var t=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp("^"+t,"i");return i.filter((function(e){return n.test(e)}))}(n))},onSuggestionsClearRequested:function(){j([])},getSuggestionValue:qt,renderSuggestion:function(e){return Object(y.jsx)("div",{children:e})},inputProps:p,renderInputComponent:function(e){return Object(y.jsx)("form",{className:"inputContainer",onSubmit:b,children:Object(y.jsx)("input",Object(Dt.a)({},e))})},highlightFirstSuggestion:!0,alwaysRenderSuggestions:!0})}var Ht=i(297),Gt=Object(v.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1),width:"80%"}},hashtagGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap"},picture:{},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),Vt=["happy","downside","hello","high","hat","huhuh","hike","bike","dike"];function Ut(e){var t=e.journal,i=e.onSubmit,n=e.openFriendAddPage,r=e.friends,c=e.removeFriend,s=(e.addFriend,e.pictures),l=e.removePicture,d=e.openPictureSelector,j=Gt(),b=a.a.useState(t.title),p=Object(u.a)(b,2),h=p[0],x=p[1],g=a.a.useState(t.desc),m=Object(u.a)(g,2),f=m[0],O=m[1],v=a.a.useState(t.hashtags),k=Object(u.a)(v,2),w=k[0],C=k[1];console.log(t.title);return Object(y.jsxs)("div",{className:j.root,noValidate:!0,autoComplete:"off",children:[Object(y.jsx)(Ht.a,{onChange:function(e){x(e.target.value)},id:"title",label:"\uc81c\ubaa9",variant:"outlined",defaultValue:t.title}),Object(y.jsx)("div",{children:" \uc624\ub298 \ubcf8 \uace0\uc591\uc774\ub294 \ub204\uad6c\uc600\ub098\uc694?? "}),Object(y.jsx)(Ht.a,{onChange:function(e){O(e.target.value)},id:"desc",label:"\ub0b4\uc6a9",variant:"outlined",multiline:!0,defaultValue:t.desc}),Object(y.jsx)(xe.a,{onClick:function(){i({title:h,desc:f,hashtags:w})},component:o.b,to:"/biky/journal",children:"\uc800\uc7a5"}),Object(y.jsx)(xe.a,{onClick:d,children:" \uc0ac\uc9c4 \ucd94\uac00 "}),Object(y.jsx)(Ne,{pictures:s,removePicture:l,isEditing:!0}),Object(y.jsxs)(Wt.a,{dense:!0,children:[r.map((function(e){return Object(y.jsx)(Pt,{friend:e,removeFriend:c},e.id)})),Object(y.jsx)(Lt.a,{children:Object(y.jsx)(xe.a,{onClick:n,children:"+"})})]}),Object(y.jsxs)("div",{className:j.hashtagGroup,children:[w.map((function(e){return Object(y.jsxs)("div",{children:["#",e,Object(y.jsx)(D.a,{"aria-label":"delete",onClick:function(){return function(e){C(w.filter((function(t){return t!==e})))}(e)},children:Object(y.jsx)(ve.a,{})})]},e)})),Object(y.jsx)(_t,{handleSubmit:function(e){w.includes(e)||C([].concat(Object(Bt.a)(w),[e]))},hashtags:Vt.filter((function(e){return!w.includes(e)}))})]})]})}var Zt=i(290),Kt=i(141),Xt=i.n(Kt),$t=i(291),Qt=Object(v.a)((function(e){return{paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},selected:{border:"2px solid orange"},unselected:{},gridList:{}}})),ei=("translate(-".concat(50,"%, -",50,"%)"),["/images/photo1.jpg","/images/photo2.jpg","/images/photo3.jpg"]);function ti(e){var t=e.onSubmit,i=Qt();return Object(y.jsx)("div",{className:i.root,children:Object(y.jsx)(Zt.a,{position:"static",children:Object(y.jsxs)($t.a,{variant:"dense",children:[Object(y.jsx)(O.a,{variant:"h6",color:"inherit",style:{flexGrow:1},children:"Photos"}),Object(y.jsx)(D.a,{edge:"end",className:i.menuButton,color:"inherit","aria-label":"menu",onClick:t,children:Object(y.jsx)(Xt.a,{})})]})})})}function ii(e){var t=e.pictures,i=e.onSubmit,n=Qt(),r=a.a.useState(t),c=Object(u.a)(r,2),o=c[0],s=c[1];console.log(t);return t?Object(y.jsxs)("div",{children:[Object(y.jsx)(ti,{onSubmit:function(){i(o)}}),Object(y.jsx)(ye.a,{cellHeight:200,className:n.gridList,cols:3,children:ei.map((function(e){return Object(y.jsx)(ke.a,{cols:1,onClick:function(){return function(e){o.includes(e)?s(o.filter((function(t){return t!==e}))):s([].concat(Object(Bt.a)(o),[e]))}(e)},className:o.includes(e)?n.selected:n.unselected,children:Object(y.jsx)("img",{src:"/biky"+e,alt:"bike"})},e)}))}),"\uc0ac\uc9c4\uc744 \ucd94\uac00\ud574\ubcf4\uc2dc\uc9c0"]}):Object(y.jsx)("div",{children:" \ub85c\ub529\uc911 "})}je()(),je()().add(2,"hour"),je()(),je()().add(1,"hour"),je()(),je()().add(2,"hour"),je()(),je()().add(2,"hour"),je()(),je()().add(2,"hour");var ni={title:"\uc81c\ubaa91",desc:"\ub0b4\uc6a91",friends:["1"],hashtags:["happy"],photos:["../"],emojis:["happy","exited"],distance:100,startTime:je()(),endTime:je()().add(2,"hour"),weather:"sunny",metaphor:{tree:1,taxi:2,hamburger:3},map:"../",route:[[126.91462625155943,37.49468356316903],[126.91466456325881,37.49457548665683],[126.91467809668889,37.4945003236157],[126.91469501347642,37.494409948906565],[126.91470290797731,37.49436968291182],[126.91484578727844,37.49369203740101],[126.91634996665469,37.493628630563954],[126.91635767048872,37.494331551409644],[126.91753635713798,37.49434377606901],[126.9184608172214,37.49440489929814],[126.91876897058253,37.49367752962703]]};function ai(e){var t=e.journalRef,i=e.friendRef,n=Object(s.g)().id,r=a.a.useState(ni),c=Object(u.a)(r,2),o=c[0],l=c[1],d=a.a.useState(!0),j=Object(u.a)(d,2),b=j[0],p=j[1],h=a.a.useState([]),x=Object(u.a)(h,2),g=x[0],m=x[1];a.a.useEffect((function(){t.once("value",(function(e){var t=e.val();console.log(t);var a=function(e,t){var i=t[String(e)];return i?(console.log(i),i):(console.log("No such journal: ".concat(e)),ni)}(n,t);i.once("value",(function(e){var t=e.val();console.log(t);var i,n=(i=t)?Object.values(i):[],r=K(a.friends);L(function(e,t){return console.log(e),console.log(t),t.filter((function(t){return e.includes(t.id)}))}(r,n)),m(n),l(a),D(K(a.photos)),p(!1)}))}))}),[t,n,i]);var f=a.a.useState(!1),O=Object(u.a)(f,2),v=O[0],k=O[1],w=a.a.useState(!1),C=Object(u.a)(w,2),N=C[0],S=C[1],F=a.a.useState([]),R=Object(u.a)(F,2),B=R[0],D=R[1],I=a.a.useState([]),A=Object(u.a)(I,2),W=A[0],L=A[1],T=function(e){W.includes(e)||L([].concat(Object(Bt.a)(W),[e]))},z=function(e){D(e),S(!1)};if(b)return Object(y.jsx)("div",{children:" loading... "});var M=a.a.forwardRef((function(e,t){return Object(y.jsx)(ii,{pictures:B,onSubmit:z,ref:t})}));return Object(y.jsxs)("div",{children:[Object(y.jsx)(Ut,{journal:o,onSubmit:function(e){var i=e.title,n=e.desc,a=e.hashtags,r=Object(Dt.a)(Object(Dt.a)({},o),{},{title:i,desc:n,friends:W.map((function(e){return e.id})),hashtags:a,photos:B});t.child(o.id).set(r)},openFriendAddPage:function(){return k(!0)},friends:W,removeFriend:function(e){L(W.filter((function(t){return t!==e})))},addFriend:T,openPictureSelector:function(){return S(!0)},pictures:B,removePicture:function(e){D(B.filter((function(t){return t!==e})))}}),Object(y.jsx)(_.a,{open:v,onClose:function(){return k(!1)},children:Object(y.jsx)(At,{allFriends:g,selectedFriends:W,addFriend:T})}),Object(y.jsx)(_.a,{open:N,onClose:function(){return S(!1)},children:Object(y.jsx)(M,{})})]})}i(217);function ri(e){var t=e.journalRef,i=e.friendRef,n=a.a.useState([]),r=Object(u.a)(n,2),c=r[0],o=r[1],s=a.a.useState([]),l=Object(u.a)(s,2),d=l[0],j=l[1];a.a.useEffect((function(){t.on("value",(function(e){var t=e.val();console.log(t);var n=t?Object.values(t):[];i.once("value",(function(e){var t=e.val(),i=t?Object.values(t):[];o(n),j(function(e,t){for(var i={},n=function(n){var a=e[n];i[a.id]=t.filter((function(e){return a.friends&&a.friends.includes(e.id)}))},a=0;a<e.length;a++)n(a);return i}(n,i))}))}))}),[]);var b=a.a.useState(null),p=Object(u.a)(b,2),h=p[0],x=p[1],g=a.a.useState(!1),m=Object(u.a)(g,2),f=m[0],O=m[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:{width:"100%",height:"50px",border:"1px black solid"},children:"Journal"}),Object(y.jsx)("div",{style:{width:"100%",height:"50px",border:"1px black solid"},children:"Nayoung Min"}),Object(y.jsxs)("div",{style:{height:"calc(100% - 160px)"},children:[Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",padding:"20px",border:"1px black solid"},children:[Object(y.jsx)(Ee,{}),Object(y.jsx)(xe.a,{variant:"contained",color:"secondary",size:"medium",startIcon:Object(y.jsx)(_e.a,{}),children:"Filter"})]}),Object(y.jsxs)("div",{style:{border:"1px black solid"},children:[Object(y.jsx)(Le,{journals:c,openJournal:function(e){O(!0),x(e)},friendsByJournal:d}),Object(y.jsx)(_.a,{open:f,onClose:function(){O(!1),x(null)},children:Object(y.jsx)(We,{journal:h,friends:h?d[h.id]:null})})]})]})]})}var ci=i(292),oi=i(146),si=Object(oi.a)(xe.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",width:"60vw",height:"40px",padding:"0 30px",marginBottom:"10px"}),li=Object(v.a)((function(e){return{background:{background:"linear-gradient(0deg, #FFEDE8, #FFFFF5)",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh",bottom:0},grid:{margin:"auto"},textField:{width:"60vw",background:"#FFFFFF"},submit:{marginTop:"3vh"},login:{marginBottom:"2vh"},logo:{paddingTop:e.spacing(12),paddingBottom:e.spacing(10)}}}));function di(){var e=li(),t=Object(n.useState)({id:"id123",password:"password123"}),i=Object(u.a)(t,2),a=i[0],r=i[1],c=function(e){var t=e.target,i=t.name,n=t.value;r(Object(Dt.a)(Object(Dt.a)({},a),{},Object(H.a)({},i,n)))};return Object(y.jsx)(ci.a,{className:e.background,children:Object(y.jsxs)(x.a,{className:e.root,children:[Object(y.jsx)(m.a,{container:!0,className:e.logo,justify:"center",children:Object(y.jsx)("img",{src:"/biky/images/logo.png",alt:"logo"})}),Object(y.jsxs)(m.a,{container:!0,alignItems:"center",direction:"column",spacing:1,children:[Object(y.jsx)(O.a,{variant:"h5",className:e.login,children:"Login"}),Object(y.jsx)(m.a,{item:!0,xs:8,children:Object(y.jsx)(Ht.a,{type:"id",name:"id",required:!0,fullWidth:!0,variant:"outlined",onChange:c,placeholder:"Enter ID",className:e.textField})}),Object(y.jsx)(m.a,{item:!0,xs:12,children:Object(y.jsx)(Ht.a,{type:"password",name:"password",required:!0,fullWidth:!0,variant:"outlined",onChange:c,placeholder:"Enter password",className:e.textField})}),Object(y.jsx)(si,{onClick:function(e){e.preventDefault(),alert("\uc544\uc774\ub514: ".concat(a.id," \ube44\ubc00\ubc88\ud638: ").concat(a.password)),window.location.href="/biky/journal"},className:e.submit,children:"Submit"})]})]})})}var ji=i(293),bi=Object(oi.a)(xe.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",width:"60%",height:"40px",padding:"0 30px",marginBottom:"10px"}),ui=Object(v.a)((function(e){return{background:{background:"linear-gradient(0deg, #FFEDE8, #FFFFF5)",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh",bottom:0},logo:{paddingTop:e.spacing(12),paddingBottom:e.spacing(26)},character:{width:"60%"}}}));function pi(){var e=ui();return Object(y.jsxs)(ci.a,{className:e.background,children:[Object(y.jsx)(ji.a,{}),Object(y.jsx)(m.a,{container:!0,className:e.logo,justify:"center",children:Object(y.jsx)("img",{src:"/biky/images/logo.png",alt:"logo"})}),Object(y.jsxs)(m.a,{container:!0,alignItems:"center",direction:"column",spacing:1,children:[Object(y.jsx)(bi,{item:!0,onClick:function(){window.location.href="/biky/login"},children:"Log in"}),Object(y.jsxs)(O.a,{item:!0,className:e.character,align:"center",variant:"body2",children:["Don't have an account? ",Object(y.jsx)("b",{children:"SIGN UP"})]})]})]})}i(218);var hi="/images/logo.png",xi="/images/home/metaphor_taxi.png",gi=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},badgeBox:{width:"100%",height:"100%"},badge:{display:"inline-block",width:"100%",top:"100%"},page:{position:"relative",margin:"0 auto"},verticalAlign:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",display:"inline-block"},header:{position:"relative",height:"49px",fontSize:"30px",fontWeight:"bold",borderBottom:"solid 1px black",textAlign:"center"},content:{position:"relative",height:"calc(100vh - 110px)",overflow:"scroll"},bold:{fontWeight:"bold",fontSize:"20px"},roundBox:{boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",borderRadius:"5px",padding:"15px"},avatar:{position:"relative",display:"inline-block",textAlign:"center",width:"30%",height:"100%"},personalInfo:{display:"inline-block",width:"calc(70% - 10px)",marginLeft:"10px",lineHeight:"200%"},recordsContainer:{position:"relative",width:"100%",margin:"15px 0"},metaphorContainer:{position:"relative",width:"100%"},metaphorItem:{position:"relative",display:"inline-block",width:"calc(100% / 3)"},badgeContainer:{position:"relative",width:"100%",margin:"15px 0"}}}));function mi(e,t){var i=gi();return Object(y.jsxs)("div",{className:i.metaphorItem,children:[Object(y.jsx)("img",{src:"/biky"+e,width:"70%",style:{maxWidth:"100px"}}),Object(y.jsx)("div",{style:{position:"absolute",display:"inline-block",textAlign:"center",width:"30%",top:"50%",transform:"translateY(-50%)"},children:t})]})}function fi(){var e=gi();return Object(y.jsxs)("div",{className:e.page,children:[Object(y.jsx)("div",{className:e.header,children:Object(y.jsx)("div",{className:e.verticalAlign,children:"My Page"})}),Object(y.jsx)("div",{className:e.content,children:Object(y.jsx)(x.a,{fontFamily:"roboto",p:"10px",children:Object(y.jsxs)("div",{children:[Object(y.jsx)(x.a,{className:e.roundBox,children:Object(y.jsxs)("div",{style:{position:"relative"},children:[Object(y.jsxs)("div",{className:e.avatar,children:[Object(y.jsx)("div",{children:Object(y.jsx)("div",{style:{display:"inline-block",marginBottom:"10px"},children:Object(y.jsx)("img",{src:"/biky"+hi,width:"100%",alt:""})})}),"Nayeon Min"]}),Object(y.jsxs)("div",{className:e.personalInfo,children:["Age: 28",Object(y.jsx)("br",{}),"Gender: Female",Object(y.jsx)("br",{}),"Job: Freelancer Designer",Object(y.jsx)("br",{}),"\uc0c1\uc544\uac00 \ubc30\uace0\ud504\ub300",Object(y.jsx)("br",{})]})]})}),Object(y.jsxs)(x.a,{className:e.recordsContainer,children:[Object(y.jsx)(O.a,{className:e.bold,children:"Records"}),Object(y.jsxs)(x.a,{className:e.roundBox,children:[Object(y.jsxs)(O.a,{style:{marginBottom:"10px",lineHeight:"200%"},children:["You rode a bike for",Object(y.jsx)("div",{style:{fontWeight:"bold",fontSize:"18px"},children:"1000km and 1000hrs!"})]}),Object(y.jsxs)("div",{className:e.metaphorContainer,children:[mi(xi,123),mi("/images/home/metaphor_burger.png",123),mi("/images/home/metaphor_tree.png",123),console.log(xi)]})]})]}),Object(y.jsxs)(x.a,{className:e.badgeContainer,children:[Object(y.jsx)(O.a,{className:e.bold,children:"Badge"}),Object(y.jsx)(g.a,{style:{width:"100%"},children:Object(y.jsx)(f.a,{className:e.roundBox,style:{width:"100%"},onClick:function(){window.location.href="/biky/badgeDetail"},children:Object(y.jsxs)(m.a,{container:!0,children:[Object(y.jsx)(m.a,{item:!0,style:{width:"100px"},children:Object(y.jsx)(x.a,{style:{position:"relative"},children:Object(y.jsx)("img",{className:e.badge,src:"/biky"+hi})})}),Object(y.jsxs)(m.a,{item:!0,xs:!0,container:!0,direction:"column",style:{width:"calc(100% - 100px)",marginLeft:"10px"},children:[Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(O.a,{variant:"h6",align:"left",children:"\ubc30\uc9c0 \uc774\ub984"})}),Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsxs)(O.a,{variant:"body2",align:"left",children:["\ubc30\uc9c0 \uc124\uba85\uc774\uc5d0\uc694",Object(y.jsx)("br",{}),"\uc815\ub9d0 \uadc0\uc5fd\uc8e0?",Object(y.jsx)("br",{}),"asdcxbj",Object(y.jsx)("br",{}),"aszcxs"]})})]})]})})})]})]})})})]})}var Oi=i(294),vi=i(295),yi=i(144),ki=i.n(yi),wi=i(143),Ci=i.n(wi),Ni=i(142),Si=i.n(Ni),Fi=Object(v.a)({root:{width:"100%",height:"60px",position:"fixed",bottom:0}});function Ri(){var e=Fi(),t=a.a.useState(window.location.pathname),i=Object(u.a)(t,2),n=i[0],r=i[1];return Object(y.jsxs)(Oi.a,{value:n,onChange:function(e,t){r(t)},className:e.root,children:[Object(y.jsx)(vi.a,{label:"\uce5c\uad6c",value:"/biky/friend",icon:Object(y.jsx)(Si.a,{}),component:o.b,to:"/biky/friend"}),Object(y.jsx)(vi.a,{label:"\ud648",value:"/biky/",icon:Object(y.jsx)(Ci.a,{}),component:o.b,to:"/biky/"}),Object(y.jsx)(vi.a,{label:"\uae30\ub85d",value:"/biky/journal",icon:Object(y.jsx)(ki.a,{}),component:o.b,to:"/biky/journal"})]})}var Bi=i(109),Di=Object(H.a)({apiKey:"AIzaSyB4rOoT-hraHHNLSC5luce5NK7CI2LNp6Q",authDomain:"asdf-biky.firebaseapp.com",databaseURL:"https://asdf-biky-default-rtdb.firebaseio.com",projectId:"asdf-biky",storageBucket:"asdf-biky.appspot.com",messagingSenderId:"502792709500",appId:"1:502792709500:web:a26bdfd4d5e8a2117c70f9"},"databaseURL","https://asdf-biky-default-rtdb.firebaseio.com");console.log(Di.databaseURL),Bi.a.initializeApp(Di);var Ii=Bi.a.database(),Ai=Object(l.a)({palette:{primary:{main:j.a[500]},secondary:{main:b.a[500]}}}),Wi="/nayeon/journals",Li="/nayeon/friends";var Ti=function(){return console.log(Ii),Object(y.jsxs)(d.a,{theme:Ai,children:[Object(y.jsxs)(o.a,{children:[Object(y.jsx)(Ri,{}),Object(y.jsxs)(s.c,{children:[Object(y.jsx)(s.a,{path:"/biky/",exact:!0,render:function(){return Object(y.jsx)(Rt,{journalRef:Ii.ref(Wi)})}}),Object(y.jsx)(s.a,{path:"/biky/journal",exact:!0,render:function(){return Object(y.jsx)(ri,{journalRef:Ii.ref(Wi),friendRef:Ii.ref(Li)})}}),Object(y.jsx)(s.a,{path:"/biky/edit/:id",exact:!0,render:function(){return Object(y.jsx)(ai,{journalRef:Ii.ref(Wi),friendRef:Ii.ref(Li)})}}),Object(y.jsx)(s.a,{path:"/biky/login",exact:!0,component:di}),Object(y.jsx)(s.a,{path:"/biky/loginInitial",exact:!0,component:pi}),Object(y.jsx)(s.a,{path:"/biky/myPage",exact:!0,component:fi}),Object(y.jsx)(s.a,{path:"/biky/badgeDetail",exact:!0,component:C}),Object(y.jsx)(s.a,{path:"/biky/friend",render:function(){return Object(y.jsx)(it,{friendRef:Ii.ref(Li),frequestRef:Ii.ref("/nayeon/frequests"),journalRef:Ii.ref(Wi)})}})]})]}),"    "]})},zi=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,305)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;i(e),n(e),a(e),r(e),c(e)}))};i(224);c.a.render(Object(y.jsx)(Ti,{}),document.getElementById("root")),zi()}},[[225,1,2]]]);
//# sourceMappingURL=main.d23d38d5.chunk.js.map