{"version":3,"sources":["data/badge.js","container/BadgeDetail.js","component/Avatar.js","util/format.js","component/journal/DateComponent.js","util/icon.js","component/journal/JournalItem.js","component/journal/PictureList.js","component/home/StaticMap.js","component/journal/JournalDetail.js","component/Loading.js","component/journal/JournalList.js","component/common/SearchBar.js","component/friend/Frequest.js","component/friend/LinearProgressBar.js","component/friend/FriendItem.js","component/friend/Friends.js","container/Profile.js","container/Friends.js","component/home/Weather.js","component/home/DustBar.js","component/home/Dust.js","component/home/Distance.js","component/home/Time.js","component/home/Map.js","component/home/StartButton.js","component/home/StopButton.js","component/home/MetaphorContainer.js","component/home/MetaphorTaxi.js","component/home/MetaphorBurger.js","component/home/MetaphorTree.js","component/home/JournalModal.js","data/photo.js","container/Home.js","component/journal/FriendSimpleView.js","component/journal/AppBar.js","component/journal/FriendAddPage.js","component/journal/FriendItem.js","component/journal/HashtagSelector.js","component/journal/JournalForm.js","component/journal/PictureSelector.js","data/journal.js","container/journal/JournalEditor.js","container/journal/JournalMain.js","container/Login.js","container/LoginInitial.js","container/MyPage.js","component/NavigationBar.js","NotFound.js","firebaseInit.js","App.js","reportWebVitals.js","index.js"],"names":["badges","oid","thumbnail","title","description","useStyles","makeStyles","theme","root","flexGrow","padding","spacing","paper","badgeBox","width","height","maxHeight","maxWidth","overflow","badge","margin","display","borderRadius","eachBadge","buttonBase","borderBottom","arrow","bold","fontWeight","fontSize","BadgeDetail","mainBadge","changeMainBadge","classes","history","useHistory","map","idx","ButtonBase","className","style","backgroundColor","onClick","console","log","Grid","container","item","Box","src","process","alt","xs","direction","Typography","variant","align","p","push","Paper","marginBottom","border","marginTop","nullToList","list","formatTime","time","hours","parseInt","minutes","formatDistance","distance","toFixed","DateComponent","startTime","endTime","formatted","dayjs","format","getIconComponent","key","icon","getIcon","cryingFace","faceWithSymbolsOnMouth","rollingOnTheFloorLaughing","sleepingFace","droolingFace","faceWithThermometer","sunIcon","cloudIcon","cloudWithRain","dogIcon","catIcon","hashtagsDB","getHashtags","hashtags","temp","hashtag","getFriends","friends","friend","mr","Avatar","name","picture","flexDirection","flexWrap","tree","taxi","burger","GetMetaphors","metaphor","icon_name","sent","cn","Math","floor","random","deciduousTree","oncomingTaxi","hamburgerIcon","Card","alignItems","position","top","left","emojiItem","emoji","boxShadow","justifyContent","JournalItem","journal","openJournal","emojis","id","flex","minHeight","component","textOverflow","wordWrap","whiteSpace","my","textAlign","hashtagGroup","color","palette","primary","light","titleBar","background","gridList","PictureList","pictures","removePicture","isEditing","useTheme","breakpoints","keys","reverse","reduce","output","matches","useMediaQuery","up","useWidth","cols","isWidthUp","getGridListCols","cellHeight","getGridListCellHeight","GridList","pic","GridListTile","GridListTileBar","actionIcon","IconButton","aria-label","StaticMap","props","route","zoom","length","startCoordinates","endCoordinates","mapContainer","useRef","current","useEffect","mapboxgl","Map","center","on","addSource","type","data","properties","geometry","coordinates","addLayer","source","layout","paint","features","ref","accessToken","row","centeredRow","actions","JournalDetail","handleClose","paddingBottom","Button","alert","disabled","Link","to","date","desc","metaphors","photos","Loading","CircularProgress","JournalList","journals","friendsByJournal","journalList","_","sortBy","menuButton","marginRight","search","shape","fade","common","white","marginLeft","searchIcon","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","SearchBar","InputBase","placeholder","input","inputProps","shadows","mailIcon","ReceivedElement","Accordion","expanded","AccordionSummary","minWidth","onAcceptClick","onRejectClick","Frequest","React","useState","transform","modalStyle","open","setOpen","body","frequests","el","Divider","Badge","badgeContent","Modal","onClose","aria-labelledby","aria-describedby","ProgressStyles","pro_bar","progress_bar_inner","content","backgroundImage","backgroundSize","right","LinearProgressBar","value","data-value","data-percentage-value","JournalEntry","FriendItem","diff","total_intimacy","expandIcon","FriendListItemInner","AccordionDetails","FriendList","alignSelf","flist","fillTable","journalsByFriend","textDecorationLine","textDecorationColor","Profile","page","verticalAlign","header","avatar","Friends","journalRef","friendRef","frequestRef","setFrequests","friendlist","setFriendlist","setJournalsByFriend","snapshot","friendData","val","once","Object","values","i","f","filter","j","includes","getJournalsByFriend","frequestData","fid","child","remove","newFriend","set","paddingRight","status","float","randomInt","min","max","Weather","currentWeather","weather","temperature","bar","slider","paddingTop","DustBar","amount","percentage","text","Dust","fineDustAmount","fineDustStatus","ultraFineDustAmount","ultraFineDustStatus","Distance","Time","fullRoute","swapColumns","array","newArray","index","isRiding","lng","setLng","lat","setLat","slice","setRoute","setCenter","getSource","setData","saveRoute","StartButton","button","StopButton","MetaphorContainer","MetaphorTaxi","MetaphorBurger","MetaphorTree","img","modal","overflowY","outline","half","label","JournalModal","closeModal","size","handleJournal","allPhotos","getRandomPhoto","num","arr","n","result","Array","len","taken","RangeError","x","getRandom","weatherContainer","measuresContainer","zIndex","measures","buttonContainer","buttonText","startButton","main","stopButton","Home","setIsRiding","setDistance","setTime","weatherTypes","increment","setStartTime","createJournal","add","randomPhotos","randomTitle","randomTitles","getRandomTitle","newJournal","createdAt","Date","toString","clearInterval","setInterval","opacity","abled","FriendSimpleView","m","mt","mb","ml","MyAppBar","onSubmit","string","AppBar","Toolbar","edge","FriendSelector","FriendAddPage","allFriends","selectedFriends","addFriend","removeFriend","close","getSuggestionValue","suggestion","HashtagSelector","handleSubmit","setValue","suggestions","setSuggestions","handleSubmitEnter","e","preventDefault","h","onChange","event","newValue","onSuggestionsFetchRequested","reason","escapedValue","trim","replace","regex","RegExp","test","getSuggestions","onSuggestionsClearRequested","renderSuggestion","renderInputComponent","highlightFirstSuggestion","alwaysRenderSuggestions","textField","addButton","submitButton","contentSuggestion","JournalForm","openFriendAddPage","openPictureSelector","setTitle","setDesc","setHashtags","noValidate","autoComplete","TextField","target","defaultValue","multiline","rows","removeHashtag","overflowX","selected","borderColor","unselected","PictureSelector","setSelected","togglePic","mockJournal","hamburger","JournalEditor","useParams","setJournal","loading","setLoading","setAllFriends","journalData","jid","initJournals","String","getJournal","objects","setFriends","ids","setPictures","friendPageOpen","setFriendAddPageOpen","pictureSelectorOpen","setPictureSelectorOpen","onSubmitPictures","MyPictureSelector","forwardRef","JournalMain","setJournals","setFriendsByJournal","friendList","getFriendsByJournal","frequest","spent_time","MyButton","styled","backgroundRepeat","grid","submit","login","logo","form","Login","db","setJournalRef","setFriendRef","setFrequestsRef","password","setVal","user","then","hasChild","setDB","justify","required","fullWidth","character","LoginInitial","CssBaseline","roundBox","personalInfo","lineHeight","recordsContainer","metaphorContainer","metaphorItem","ShowMetaphors","image","MyPage","bottom","withRouter","pathname","window","location","listen","action","BottomNavigation","BottomNavigationAction","NotFound","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","createMuiTheme","typography","fontFamily","secondary","App","setMainBadge","ThemeProvider","NavigationBar","path","exact","render","href","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a40e47f3.chunk.js","sourcesContent":["\r\nconst badge0 = \"/images/sick.jpg\";\r\nconst badge1 = \"/images/cat.png\";\r\nconst badge2 = \"/images/fry.png\";\r\nconst badge3 = \"/images/squirrel.png\";\r\n\r\nexport const badges = [\r\n  {\r\n    oid: 0,\r\n    thumbnail: badge0,\r\n    title: \"Ride a Bike Too Much\",\r\n    description:\r\n      \"You rode a bike too much and even did lots of assignments. You should take care of your body.\",\r\n  },\r\n  {\r\n    oid: 1,\r\n    thumbnail: badge1,\r\n    title: \"Meet lots of cute cats\",\r\n    description: \"You met lots of cute cats. Cats are perfect.\",\r\n  },\r\n  {\r\n    oid: 2,\r\n    thumbnail: badge2,\r\n    title: \"Become fried egg\",\r\n    description:\r\n      \"You rode a bike in sunny day very often. You may become fried egg.\",\r\n  },\r\n  {\r\n    oid: 3,\r\n    thumbnail: badge3,\r\n    title: \"Wow a squirrel\",\r\n    description:\r\n      \"You met a squirrel while riding a bike. It is very unique experience\",\r\n  },\r\n];\r\n","import React, { useState } from \"react\";\r\n\r\nimport ArrowBackIosOutlinedIcon from \"@material-ui/icons/ArrowBackIosOutlined\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { badges } from '../data/badge'\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(2),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  badgeBox: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    maxHeight: \"50px\",\r\n    maxWidth: \"50px\",\r\n    overflow: \"hidden\",\r\n  },\r\n  badge: {\r\n    margin: \"auto\",\r\n    display: \"block\",\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    borderRadius: \"50%\",\r\n  },\r\n  eachBadge: {\r\n    margin: theme.spacing(2, 0),\r\n  },\r\n  buttonBase: {\r\n    width: \"98%\",\r\n    borderBottom: \"dotted 1px lightgray\",\r\n  },\r\n  arrow: {\r\n    margin: theme.spacing(1, 1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"20px\",\r\n  },\r\n}));\r\n\r\n\r\nexport default function BadgeDetail({mainBadge, changeMainBadge}) {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n\r\n  function backward() {\r\n    history.push(\"/biky/myPage\");\r\n  }\r\n\r\n  const eachBadge = badges.map((badge, idx) => (\r\n    <ButtonBase\r\n      className={classes.buttonBase}\r\n      style={\r\n        idx === mainBadge ? { backgroundColor: \"lightgray\" } : {}\r\n      }\r\n      onClick={() => {\r\n        changeMainBadge(badge.oid);\r\n        console.log(mainBadge);\r\n      }}\r\n      key={idx}\r\n    >\r\n      <Grid container spacing={2} className={classes.eachBadge}>\r\n        <Grid item>\r\n          <Box className={classes.badgeBox}>\r\n            <img\r\n              className={classes.badge}\r\n              src={process.env.PUBLIC_URL + badge.thumbnail}\r\n              alt={badge.title}\r\n            />\r\n          </Box>\r\n        </Grid>\r\n\r\n        <Grid item xs container direction=\"column\" spacing={2}>\r\n          <Grid item xs>\r\n            <Typography variant=\"h6\" align=\"left\">\r\n              {badge.title}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs>\r\n            <Typography variant=\"body2\" align=\"left\">\r\n              {badge.description}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </ButtonBase>\r\n  ));\r\n\r\n  return (\r\n    <Box p={3}>\r\n    <ButtonBase onClick={backward}>\r\n        <ArrowBackIosOutlinedIcon\r\n          className={classes.arrow}\r\n        ></ArrowBackIosOutlinedIcon>\r\n      </ButtonBase>\r\n\r\n        <Paper className={classes.root}>\r\n          <Typography className={classes.bold} style={{ marginBottom: \"10px\" }}>\r\n          Representative Badge\r\n        </Typography>\r\n\r\n          <Grid container spacing={2}>\r\n            <Grid item>\r\n              <Box className={classes.badgeBox}>\r\n                <img\r\n                  className={classes.badge}\r\n                  src={\r\n                    process.env.PUBLIC_URL +\r\n                    badges[mainBadge].thumbnail\r\n                  }\r\n                  alt=\"Representative Badge\"\r\n                />\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs container direction=\"column\" spacing={2}>\r\n              <Grid item xs>\r\n                <Typography variant=\"h6\">\r\n                  {badges[mainBadge].title}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs>\r\n                <Typography variant=\"body2\">\r\n                  {badges[mainBadge].description}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n\r\n        <Paper className={classes.root} style={{border: \"solid 1px lightgray\", marginTop: 10}}>\r\n        <Typography className={classes.bold} style={{ marginBottom: \"10px\" }}>\r\n        Other Badges\r\n        </Typography>\r\n\r\n        <div\r\n          style={{\r\n            overflow: \"scroll\",\r\n            maxHeight: \"calc(100vh - 390px)\",\r\n          }}>\r\n                    {eachBadge}\r\n\r\n        </div>\r\n        </Paper>\r\n    </Box>\r\n  );\r\n}\r\n","import { deepOrange, deepPurple } from '@material-ui/core/colors'\r\n\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { Link } from 'react-router-dom'\r\nimport React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      // margin: theme.spacing(1),\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function LetterAvatars() {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Avatar\r\n        src={process.env.PUBLIC_URL + '/images/nayeon.png'}\r\n        component={Link}\r\n        to=\"/biky/myPage\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","export function toList(objects) {\r\n  if (!objects) return [];\r\n  return Object.values(objects);\r\n}\r\n\r\nexport function nullToList(list) {\r\n  if (!list) return [];\r\n  return list;\r\n}\r\n\r\nexport function formatTime(time) {\r\n  const hours = parseInt(time / 60);\r\n  const minutes = parseInt(time % 60);\r\n  return `${hours > 0 ? `${hours} hr${hours > 1 ? \"s\" : \"\"} ` : \" \"}${\r\n    minutes >= 0 ? `${minutes} min${minutes > 1 ? \"s\" : \"\"}` : \"\"\r\n  }`;\r\n}\r\n\r\nexport function formatDistance(distance) {\r\n  if (distance < 1) {\r\n    return `${(distance * 1000).toFixed(0)}m`;\r\n  } else {\r\n    return `${distance.toFixed(2)}km`;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default function DateComponent({ startTime, endTime }) {\r\n  const formatted = dayjs(startTime).format(\"YYYY. M. D.\");\r\n  const start = dayjs(startTime).format(\"H시 M분\");\r\n  const end = dayjs(endTime).format(\"H시 M분\");\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h6\">{formatted}</Typography>\r\n    </div>\r\n  );\r\n}\r\n","// npm install --save-dev @iconify/react @iconify-icons/twemoji\r\n\r\nimport { Icon, InlineIcon } from \"@iconify/react\";\r\n\r\nimport catIcon from \"@iconify-icons/twemoji/cat\"; // 고양이\r\nimport cloudIcon from \"@iconify-icons/twemoji/cloud\"; // 구름\r\nimport cloudWithRain from \"@iconify-icons/twemoji/cloud-with-rain\"; // 비\r\nimport cloudWithSnow from \"@iconify-icons/twemoji/cloud-with-snow\"; // 눈\r\nimport cryingFace from \"@iconify-icons/twemoji/crying-face\"; // 눈물\r\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\r\nimport dogIcon from \"@iconify-icons/twemoji/dog\"; // 강아지\r\nimport dollarBanknote from \"@iconify-icons/twemoji/dollar-banknote\"; // 돈\r\nimport droolingFace from \"@iconify-icons/twemoji/drooling-face\"; // 아마도 맛있는게 있어서 침흘림\r\nimport faceWithSymbolsOnMouth from \"@iconify-icons/twemoji/face-with-symbols-on-mouth\"; // 욕나옴\r\nimport faceWithThermometer from \"@iconify-icons/twemoji/face-with-thermometer\"; // 이시국에 열남\r\nimport firstQuarterMoonFace from \"@iconify-icons/twemoji/first-quarter-moon-face\"; // 달\r\nimport grinningFace from \"@iconify-icons/twemoji/grinning-face\"; // 웃음\r\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\r\nimport hotBeverage from \"@iconify-icons/twemoji/hot-beverage\"; // 커피 (핫)\r\nimport redHeart from \"@iconify-icons/twemoji/red-heart\"; // 하트\r\nimport rollingOnTheFloorLaughing from \"@iconify-icons/twemoji/rolling-on-the-floor-laughing\"; // 데굴데굴 웃음\r\nimport shortcakeIcon from \"@iconify-icons/twemoji/shortcake\"; // 케이크\r\nimport sleepingFace from \"@iconify-icons/twemoji/sleeping-face\"; // 졸림\r\nimport sunIcon from \"@iconify-icons/twemoji/sun\"; // 해\r\nimport taxiIcon from \"@iconify-icons/twemoji/taxi\"; // 택시\r\n\r\n// 날씨\r\n\r\n\r\n\r\n\r\n\r\n// 감정\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 무언가 해시태그와 연결지어서 쓸 만한 것들\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 메타포\r\n\r\n\r\n\r\n\r\n\r\n<Icon icon={cloudIcon} />; // 이런식으로 불러다가 넣으면 됩니다\r\n\r\nexport function getIconComponent(key)\r\n{\r\n  return <Icon icon={getIcon(key)} width=\"2em\"/> \r\n}\r\n\r\n\r\nexport function getIcon(key)\r\n{\r\n  switch (key)\r\n  {\r\n    case \"sad\":\r\n    case \"힝\":\r\n    case \"슬프다\":\r\n      return cryingFace\r\n\r\n    case \"angry\":\r\n    case \"화나네\":\r\n      return faceWithSymbolsOnMouth\r\n    \r\n    case \"excited\":\r\n    case \"happy\":\r\n    case \"행복해\":\r\n    case \"기부니가 좋아요\":\r\n      return rollingOnTheFloorLaughing\r\n\r\n    case \"tired\":\r\n    case \"exhausted\":\r\n    case \"졸림\":\r\n    case \"sleepy\":\r\n      return sleepingFace\r\n\r\n    case \"존맛\":\r\n    case \"delicious\":\r\n    case \"yummy\":\r\n      return droolingFace\r\n\r\n    case \"이시국\":\r\n    case \"fever\":\r\n    case \"sick\":\r\n    case \"아파요\":\r\n      return faceWithThermometer\r\n\r\n    case \"sunny\":\r\n      return sunIcon\r\n    case \"cloudy\":\r\n      return cloudIcon\r\n    case \"rainy\":\r\n      return cloudWithRain\r\n\r\n    case \"dog\":\r\n      return dogIcon\r\n\r\n    default:\r\n    return catIcon\r\n  }\r\n}\r\n\r\nexport const hashtagsDB = [\r\n    \"happy\", \"sick\", \"dog\", \"cat\", \"angry\", \r\n    \"excited\", \"tired\", \"exhausted\", \"sleepy\", \r\n    \"delicious\", \"yummy\", \"sunny\", \"cloudy\", \"rainy\"\r\n]","import { formatDistance, formatTime } from \"../../util/format\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport DateComponent from \"./DateComponent\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\r\nimport { getIconComponent } from \"../../util/icon\";\r\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { nullToList } from \"../../util/format\";\r\nimport oncomingTaxi from \"@iconify-icons/twemoji/oncoming-taxi\";\r\nimport polyline from \"@mapbox/polyline\";\r\n\r\nexport function getDivs(items) {\r\n  if (!items) return <div> empty </div>;\r\n  return items.map((item) => (\r\n    <div style={{ display: \"inline\" }} key={item}>\r\n      {\" \"}\r\n      {item}{\" \"}\r\n    </div>\r\n  ));\r\n}\r\n\r\nexport function getHashtags(hashtags) {\r\n  if (!hashtags) return \"no hashtags yet\";\r\n  var temp = \"\";\r\n  hashtags.map((hashtag) => (temp += \"#\" + hashtag + \" \"));\r\n  return temp;\r\n}\r\n\r\nexport function getFriends(friends) {\r\n  // console.log(friends);\r\n  if (!friends) return <div> no friends... </div>;\r\n  var temp = friends.map((friend) => (\r\n    <Box mr={1}>\r\n      <Avatar\r\n        alt={friend.name}\r\n        src={process.env.PUBLIC_URL + friend.picture}\r\n        style={{\r\n          border: \"1.5px solid lightgray\",\r\n          width: \"30px\",\r\n          height: \"30px\",\r\n        }}\r\n      />\r\n    </Box>\r\n  ));\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\r\n      {temp}\r\n    </Box>\r\n  );\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n  tree: {\r\n    // background: \"linear-gradient(45deg, #73A15D, #94C25A)\",\r\n    height: \"40px\",\r\n    width: \"100%\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  taxi: {\r\n    // background: \"linear-gradient(45deg, #A0BFE3, #F0A2B0)\",\r\n    height: \"40px\",\r\n    width: \"100%\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  burger: {\r\n    // background: \"linear-gradient(45deg, #EED28B, #DB7E61)\",\r\n    height: \"40px\",\r\n    width: \"100%\",\r\n    borderRadius: \"5px\",\r\n  },\r\n}));\r\n\r\nexport function GetMetaphors(metaphor) {\r\n  const classes = useStyles();\r\n  if (!metaphor) return <div> empty metaphor </div>;\r\n  var randomIndex = Math.floor(Math.random() * 3);\r\n  var sent = \"\";\r\n  var icon_name;\r\n  var cn = \"\";\r\n  switch (randomIndex) {\r\n    case 0: {\r\n      console.log(\"tree\");\r\n      sent = metaphor.tree.toFixed(2) + \" trees\";\r\n      icon_name = deciduousTree;\r\n      cn = classes.tree;\r\n      break;\r\n    }\r\n\r\n    case 1: {\r\n      console.log(\"taxi\");\r\n      sent = metaphor.taxi.toFixed(0) + \" won\";\r\n      icon_name = oncomingTaxi;\r\n      cn = classes.taxi;\r\n      break;\r\n    }\r\n\r\n    case 2: {\r\n      console.log(\"burger\");\r\n      sent = metaphor.burger.toFixed(2) + \" burgers\";\r\n      icon_name = hamburgerIcon;\r\n      cn = classes.burger;\r\n      break;\r\n    }\r\n  }\r\n  return (\r\n    <Card className={cn} style={{ width: \"170px\", height: \"40px\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Icon\r\n          style={{\r\n            position: \"relative\",\r\n            top: \"2px\",\r\n            left: \"15px\",\r\n            height: \"35px\",\r\n            fontSize: 40,\r\n          }}\r\n          icon={icon_name}\r\n        />\r\n        <Typography\r\n          variant=\"body1\"\r\n          style={{\r\n            fontSize: \"1em\",\r\n            // color: \"white\",\r\n            position: \"relative\",\r\n            top: \"2px\",\r\n            left: \"25px\",\r\n          }}\r\n        >\r\n          {sent}\r\n        </Typography>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport function emojiItem(emoji) {\r\n  return (\r\n    <Box\r\n      borderRadius=\"50%\"\r\n      style={{\r\n        backgroundColor: \"white\",\r\n        boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\",\r\n      }}\r\n      width=\"40px\"\r\n      height=\"40px\"\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"center\"\r\n      mr={1}\r\n    >\r\n      <Box>{emoji}</Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction generateurl(route) {\r\n  var url = \"https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/\";\r\n  var urlb =\r\n    \")/auto/100x100?access_token=pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg\";\r\n  var corRoute = [];\r\n  route.map((el) => corRoute.push([el[1], el[0]]));\r\n  const out = encodeURIComponent(polyline.encode(corRoute));\r\n  url +=\r\n    \"pin-s+0000ff(\" +\r\n    corRoute[0][1] +\r\n    \",\" +\r\n    corRoute[0][0] +\r\n    \"),pin-s+ff0000(\" +\r\n    corRoute[corRoute.length - 1][1] +\r\n    \",\" +\r\n    corRoute[corRoute.length - 1][0] +\r\n    \"),path(\";\r\n  url = url.concat(out, urlb);\r\n  // console.log(url);\r\n  return url;\r\n}\r\n\r\nexport default function JournalItem({ journal, openJournal, friends }) {\r\n  if (!journal) return null;\r\n  const emojis = nullToList(journal.hashtags).map(getIconComponent);\r\n  return (\r\n    <Card\r\n      onClick={() => openJournal(journal)}\r\n      style={{\r\n        margin: \"35px\",\r\n        padding: \"15px\",\r\n        flexDirection: \"column\",\r\n      }}\r\n      display=\"flex\"\r\n      id={journal.id + \"main\"}\r\n    >\r\n      <Box flex={1} minHeight=\"40px\" display=\"flex\" flexDirection=\"row\">\r\n        <Box flex={4}>\r\n          <DateComponent\r\n            startTime={journal.startTime}\r\n            endTime={journal.endTime}\r\n          />\r\n        </Box>\r\n        <Box flex={4} display=\"flex\" flexDirection=\"row-reverse\">\r\n          {emojis.map((emoji) => emojiItem(emoji))}\r\n        </Box>\r\n      </Box>\r\n      <Box flex={1} display=\"flex\" flexDirection=\"row\">\r\n        <Box\r\n          component=\"div\"\r\n          textOverflow=\"ellipsis\"\r\n          overflow=\"hidden\"\r\n          style={{\r\n            wordWrap: \"breakWord\",\r\n            whiteSpace: \"nowrap\",\r\n            fontSize: \"x-large\",\r\n          }}\r\n        >\r\n          {journal.title}\r\n        </Box>\r\n      </Box>\r\n      {/* <Divider /> */}\r\n      <Box flex={2} my={2}>\r\n        <Box\r\n          component=\"div\"\r\n          textOverflow=\"ellipsis\"\r\n          overflow=\"hidden\"\r\n          style={{\r\n            wordWrap: \"breakWord\",\r\n            whiteSpace: \"nowrap\",\r\n            fontSize: \"small\",\r\n          }}\r\n        >\r\n          {getHashtags(journal.hashtags)}\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box flex={1} my={1} display=\"flex\" flexDirection=\"row\">\r\n        <Box flex={1}>{getFriends(friends)}</Box>\r\n        <Box\r\n          flex={1}\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n          style={{ textAlign: \"right\" }}\r\n        >\r\n          <Box style={{ fontSize: \"x-small\" }}>{formatTime(journal.time)}</Box>\r\n          <Box style={{ fontSize: \"x-large\" }}>\r\n            {formatDistance(journal.distance)}\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// https://stackoverflow.com/questions/42483449/mapbox-gl-js-export-map-to-png-or-pdf\r\n","import withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '80%'\r\n    },\r\n  },\r\n\r\n  hashtagGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'row'\r\n  },\r\n\r\n  title: {\r\n    color: theme.palette.primary.light,\r\n  },\r\n  titleBar: {\r\n    background:\r\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\r\n  },\r\n\r\n  gridList: {\r\n\r\n  },\r\n\r\n  picture: {\r\n\r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\nfunction useWidth() {\r\n  const theme = useTheme();\r\n  const keys = [...theme.breakpoints.keys].reverse();\r\n  return (\r\n    keys.reduce((output, key) => {\r\n      // eslint-disable-next-line react-hooks/rules-of-hooks\r\n      const matches = useMediaQuery(theme.breakpoints.up(key));\r\n      return !output && matches ? key : output;\r\n    }, null) || 'xs'\r\n  );\r\n}\r\n\r\nconst getGridListCols = (width) => {\r\n  if (isWidthUp('xl', width)) {\r\n    return 5;\r\n  }\r\n\r\n  if (isWidthUp('lg', width)) {\r\n    return 4;\r\n  }\r\n\r\n  if (isWidthUp('md', width)) {\r\n    return 3;\r\n  }\r\n\r\n  return 2;\r\n}\r\n\r\nconst getGridListCellHeight = (width) => {\r\n    if (isWidthUp('xl', width)) {\r\n      return 400;\r\n    }\r\n\r\n    if (isWidthUp('lg', width)) {\r\n      return 300;\r\n    }\r\n\r\n    return 200;\r\n}\r\n\r\nexport default function PictureList({ pictures, removePicture, isEditing }) {\r\n  const classes = useStyles();\r\n  const width = useWidth();\r\n\r\n  if (!pictures)\r\n    return null\r\n\r\n  const cols = getGridListCols(width)\r\n  const cellHeight = getGridListCellHeight(width)\r\n  \r\n  return (\r\n    <GridList cellHeight={cellHeight} className={classes.gridList} cols={cols} spacing={12}>\r\n      {pictures.map(pic => <GridListTile key={pic} className={classes.picture}>\r\n        <img src={process.env.PUBLIC_URL + pic} alt=\"bike\" />\r\n\r\n        {isEditing &&\r\n          <GridListTileBar\r\n            classes={{\r\n              root: classes.titleBar,\r\n              title: classes.title,\r\n            }}\r\n            actionIcon={\r\n              <IconButton aria-label={`delete ${pic}`} onClick={() => removePicture(pic)}>\r\n                <DeleteIcon className={classes.title} />\r\n              </IconButton>\r\n            }\r\n          />\r\n        }\r\n      </GridListTile>)}\r\n    </GridList>\r\n  );\r\n}","import React, { useEffect, useRef } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nconst useStyles = makeStyles({\r\n  map: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    textAlign: \"center\",\r\n    display: \"inline-block\",\r\n    // border: \"solid 1px black\"\r\n  },\r\n});\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API\r\n\r\nexport default function StaticMap(props) {\r\n  const classes = useStyles();\r\n  var route = props.route ? props.route : [];\r\n  var zoom = props.zoom ? props.zoom : 14;\r\n  var width = props.width ? props.width : \"100%\";\r\n  var height = props.height ? props.height : \"300px\";\r\n  var length = route.length;\r\n  var startCoordinates = route[0];\r\n  var endCoordinates = route[length - 1];\r\n\r\n  // console.log(route)\r\n\r\n  const mapContainer = useRef(null);\r\n  const map = useRef(null);\r\n  console.log(mapContainer.current);\r\n  useEffect(() => {\r\n    if (map.current) return; // initialize map only once\r\n    map.current = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: endCoordinates,\r\n      zoom: zoom,\r\n    });\r\n    map.current.on(\"load\", function () {\r\n      // if (props.resize) \r\n      // map.resize();\r\n\r\n      map.current.addSource(\"route\", {\r\n        type: \"geojson\",\r\n        data: {\r\n          type: \"Feature\",\r\n          properties: {},\r\n          geometry: {\r\n            type: \"LineString\",\r\n            coordinates: route,\r\n          },\r\n        },\r\n      });\r\n      map.current.addLayer({\r\n        id: \"route\",\r\n        type: \"line\",\r\n        source: \"route\",\r\n        layout: {\r\n          \"line-join\": \"round\",\r\n          \"line-cap\": \"round\",\r\n        },\r\n        paint: {\r\n          \"line-color\": \"#888\",\r\n          \"line-width\": 4,\r\n        },\r\n      });\r\n\r\n      map.current.addSource(\"start\", {\r\n        type: \"geojson\",\r\n        data: {\r\n          type: \"FeatureCollection\",\r\n          features: [\r\n            {\r\n              type: \"Feature\",\r\n              properties: {},\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: startCoordinates,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      });\r\n      map.current.addLayer({\r\n        id: \"start\",\r\n        type: \"circle\",\r\n        source: \"start\",\r\n        paint: {\r\n          \"circle-radius\": 5,\r\n          \"circle-color\": \"#0000FF\",\r\n          \"circle-opacity\": 1,\r\n        },\r\n      });\r\n\r\n      map.current.addSource(\"end\", {\r\n        type: \"geojson\",\r\n        data: {\r\n          type: \"FeatureCollection\",\r\n          features: [\r\n            {\r\n              type: \"Feature\",\r\n              properties: {},\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: endCoordinates,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      });\r\n      map.current.addLayer({\r\n        id: \"end\",\r\n        type: \"circle\",\r\n        source: \"end\",\r\n        paint: {\r\n          \"circle-radius\": 5,\r\n          \"circle-color\": \"#FF0000\",\r\n          \"circle-opacity\": 1,\r\n        },\r\n      });\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div style={{ width: width, height: height }}>\r\n      <div ref={mapContainer} className={classes.map} />\r\n    </div>\r\n  );\r\n}\r\n","import { GetMetaphors, emojiItem, getFriends, getHashtags } from \"./JournalItem\";\r\nimport { formatDistance, formatTime, nullToList } from \"../../util/format\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PictureList from \"./PictureList\";\r\nimport React from \"react\";\r\nimport StaticMap from \"../home/StaticMap\";\r\nimport dayjs from \"dayjs\";\r\nimport { getIconComponent } from \"../../util/icon\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  row: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"flex-end\",\r\n    marginBottom: \"20px\",\r\n  },\r\n\r\n  centeredRow: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginBottom: \"20px\",\r\n  },\r\n\r\n  actions: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    marginBottom: \"20px\",\r\n  },\r\n}));\r\n\r\n// function formatTime(time) {\r\n//   console.log('time: ', time)\r\n//   return dayjs(time).format('YYYY년 M월 D일 H시 m분') // '25/01/2019'\r\n// }\r\n\r\n// function getTime(start, end) {\r\n//   return (\r\n//     <div>\r\n//       {formatTime(start)} 부터 {formatTime(end)} 까지\r\n//     </div>\r\n//   )\r\n// }\r\n\r\nexport default function JournalDetail({ journal, friends, handleClose }) {\r\n  const classes = useStyles();\r\n\r\n  if (!journal) return null;\r\n\r\n  const emojis = nullToList(journal.hashtags).map(getIconComponent);\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        margin: \"20px\",\r\n        padding: \"20px\",\r\n        maxHeight: \"90%\",\r\n        overflow: \"scroll\",\r\n        flexDirection: \"column\",\r\n      }}\r\n      display=\"flex\"\r\n    >\r\n      <div\r\n        className={classes.actions}\r\n        style={{\r\n          paddingBottom: \"10px\",\r\n          borderBottom: \"1px solid #BBBBBB\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"inline-block\",\r\n            justifyContent: \"flex-start\",\r\n            flex: 1,\r\n          }}\r\n        >\r\n          <Button\r\n            onClick={() =>\r\n              alert(\r\n                \"You should not delete your precious memory. If you want to really delete, please look for the next update!\"\r\n              )\r\n            }\r\n            style={{\r\n              position: \"relative\",\r\n              left: \"-15px\",\r\n            }}\r\n          >\r\n            <img\r\n              alt=\"delete button\"\r\n              src={process.env.PUBLIC_URL + \"/images/delete.png\"}\r\n            />\r\n          </Button>\r\n        </div>\r\n\r\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n          <Button\r\n            disabled={false}\r\n            component={Link}\r\n            to={`/biky/edit/${journal.id}`}\r\n            style={{\r\n              position: \"relative\",\r\n              left: \"35px\",\r\n            }}\r\n          >\r\n            <img\r\n              alt=\"edit button\"\r\n              src={process.env.PUBLIC_URL + \"/images/edit.png\"}\r\n            />\r\n          </Button>\r\n\r\n          <Button\r\n            onClick={handleClose}\r\n            style={{\r\n              position: \"relative\",\r\n              left: \"20px\",\r\n            }}\r\n          >\r\n            <img\r\n              alt=\"close button\"\r\n              src={process.env.PUBLIC_URL + \"/images/close.png\"}\r\n            />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.row}>\r\n        <div style={{ display: \"inline-block\", fontSize: 30, maxWidth: \"70%\" }}>\r\n          {journal.title}\r\n        </div>\r\n        <div style={{ display: \"inline-block\" }}>{journal.date}</div>\r\n      </div>\r\n\r\n      <div className={classes.row}>\r\n        <div style={{ display: \"inline-block\", maxWidth: \"50%\" }}>\r\n          <div style={{ display: \"flex\" }}>\r\n            {emojis.map((emoji) => emojiItem(emoji))}\r\n          </div>\r\n        </div>\r\n        <div style={{ display: \"inline-block\" }}>\r\n          <div style={{ display: \"flex\" }}>{getHashtags(journal.hashtags)}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.row}>\r\n        <div style={{ flexWrap: \"wrap\" }}>{getFriends(friends)}</div>\r\n      </div>\r\n\r\n      <div className={classes.row}>{journal.desc}</div>\r\n\r\n      <div className={classes.centeredRow}>\r\n        <div style={{ display: \"inline-block\", maxWidth: \"50%\" }}>\r\n          {GetMetaphors(journal.metaphors)}\r\n        </div>\r\n        <div style={{ display: \"inline-block\" }}>\r\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            <div style={{ fontSize: 24 }}>\r\n              {formatDistance(journal.distance)}\r\n            </div>\r\n            <div style={{ fontSize: 15 }}> {formatTime(journal.time)} </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.centeredRow}>\r\n        <PictureList pictures={journal.photos} isEditing={false} />\r\n      </div>\r\n\r\n      <div>\r\n        <StaticMap route={journal.route} zoom={15} width={\"100%\"} />\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","import CircularProgress from '@material-ui/core/CircularProgress';\r\nimport React from 'react'\r\n\r\nexport default function Loading()\r\n{\r\n  return <div style={{\r\n    // position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    marginTop: '50%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    display: 'flex'\r\n  }}>\r\n    <CircularProgress color=\"secondary\" /> \r\n    </div>\r\n} ","import JournalItem from './JournalItem'\r\nimport Loading from '../Loading';\r\nimport React from 'react';\r\nimport _ from 'lodash'\r\n\r\nexport default function JournalList({ journals, openJournal, friendsByJournal }) {\r\n  if (!journals || !journals.length)\r\n  return <Loading/>\r\n\r\n  \r\n  var journalList =  _.sortBy(journals, 'createdAt').reverse().map(journal => <JournalItem\r\n    key={journal.id}\r\n    openJournal={openJournal}\r\n    journal={journal}\r\n    friends={friendsByJournal[journal.id]}\r\n  />)\r\n\r\n  return (\r\n    <div>\r\n      {journalList}\r\n    </div>\r\n  );\r\n};","import { fade, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport JournalDetail from '../../component/journal/JournalDetail'\r\nimport JournalList from '../../component/journal/JournalList'\r\nimport React from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function SearchBar() {\r\n  const classes = useStyles();\r\n\r\n\r\n  return (\r\n    <div className={classes.search}>\r\n      <div className={classes.searchIcon}>\r\n        <SearchIcon />\r\n      </div>\r\n      <InputBase\r\n        placeholder=\"Search…\"\r\n        classes={{\r\n          root: classes.inputRoot,\r\n          input: classes.inputInput,\r\n        }}\r\n        inputProps={{ 'aria-label': 'search' }}\r\n      />\r\n    </div>\r\n\r\n  );\r\n};","import { IconButton, Typography } from \"@material-ui/core\";\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport React from \"react\";\r\nimport SearchBar from \"../common/SearchBar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n// https://material-ui.com/components/modal/\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"18px\",\r\n  },\r\n  mailIcon: {\r\n    position: \"absolute\",\r\n    display: \"inline-block\",\r\n    marginLeft: \"10px\"\r\n  }\r\n}));\r\n\r\nfunction ReceivedElement(props) {\r\n  return (\r\n    <div style={{ margin: \"5px\", marginTop: \"5px\", width: \"100%\" }}>\r\n      <Accordion expanded={false} style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}>\r\n        <AccordionSummary>\r\n          <Box\r\n            display=\"flex\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"flex-start\"\r\n            flexDirection=\"row\"\r\n            width=\"100%\"\r\n          >\r\n            <Box flex={1} mr={1}>\r\n              <Avatar\r\n                alt={props.name}\r\n                src={process.env.PUBLIC_URL + props.picture}\r\n                style={{\r\n                  border: \"2px solid lightgray\",\r\n                  width: \"30px\",\r\n                  height: \"30px\"\r\n                }}\r\n              />\r\n            </Box>\r\n            <Box flex={8} mr={2} style={{ minWidth: \"75px\" }}>\r\n              <Typography variant=\"body2\" color=\"textPrimary\">\r\n                {props.name}\r\n              </Typography>\r\n            </Box>\r\n\r\n            <Box>\r\n              <div style={{ display: \"inline-block\", marginRight: \"10px\" }}>\r\n                <IconButton\r\n                  style={{ color: \"green\", width: \"30px\", height: \"30px\" }}\r\n                  onClick={() => {\r\n                    props.onAcceptClick(props.oid);\r\n                  }}\r\n                >\r\n                  <CheckCircleIcon />\r\n                </IconButton>\r\n              </div>\r\n              <div style={{ display: \"inline-block\" }}>\r\n                <IconButton\r\n                  style={{ color: \"red\", width: \"30px\", height: \"30px\" }}\r\n                  onClick={() => {\r\n                    props.onRejectClick(props.oid);\r\n                  }}\r\n                >\r\n                  <CancelIcon />\r\n                </IconButton>\r\n              </div>\r\n            </Box>\r\n          </Box>\r\n        </AccordionSummary>\r\n      </Accordion>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Frequest(props) {\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState({\r\n    top: `50%`,\r\n    left: `50%`,\r\n    transform: `translate(-50%, -50%)`,\r\n    maxHeight: \"80vh\",\r\n    overflow: \"scroll\"\r\n  });\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  function fillTable(el) {\r\n    // https://javascript.plainenglish.io/material-ui-icons-and-lists-a98c8ccbdac0\r\n    return (\r\n      <ReceivedElement\r\n        key={el.id}\r\n        oid={el.id}\r\n        name={el.name}\r\n        picture={el.picture}\r\n        onRejectClick={props.onRejectClick}\r\n        onAcceptClick={props.onAcceptClick}\r\n      />\r\n    );\r\n  }\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  // https://stackoverflow.com/questions/42363198/how-to-add-close-icon-in-material-ui-dialog-header-top-right-corner\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <Box display=\"flex\" flexDirection=\"column\">\r\n        <Box flex={1} display=\"flex\" alignItems=\"center\" flexDirection=\"row\">\r\n          <Box flexGrow={1}>\r\n            <Typography variant=\"h4\" color=\"textPrimary\">\r\n              <b>Frequest</b>\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <IconButton onClick={handleClose} style={{ width: \"30px\", height: \"30px\" }}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </Box>\r\n\r\n        <Box flex={4}>\r\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" style={{ padding: \"7px 0\" }}>\r\n            <b>Received Frequests</b>\r\n          </Typography>\r\n          <Box display=\"flex\" alignItems=\"center\" flexDirection=\"column\" style={{ paddingBottom: \"5px\" }}>\r\n            {props.frequests == null || props.frequests.length === 0 ? (\r\n              <Typography variant=\"body1\" color=\"textPrimary\">\r\n                You have received no frequests\r\n              </Typography>\r\n            ) : (\r\n              props.frequests.map(fillTable)\r\n            )}\r\n          </Box>\r\n        </Box>\r\n\r\n        <Divider style={{ margin: \"10px 0\" }} />\r\n\r\n        <Box flex={4}>\r\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" style={{ padding: \"7px 0\" }}>\r\n            <b>Send a Frequest</b>\r\n          </Typography>\r\n          <SearchBar />\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.mailIcon}>\r\n      <IconButton onClick={handleOpen}>\r\n        {props.frequests == null || props.frequests.length === 0 ? (\r\n          <MailIcon />\r\n        ) : (\r\n          <Badge badgeContent={props.frequests.length} color=\"primary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        )}\r\n      </IconButton>\r\n\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import Box from \"@material-ui/core/Box\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst ProgressStyles = makeStyles((theme) => ({\r\n  pro_bar: {\r\n    backgroundColor: \"hsl(0, 0%, 97%)\",\r\n    height: \"4px\",\r\n    marginBottom: \"12px\",\r\n    marginTop: \"12px\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  progress_bar_inner: {\r\n    display: \"block\",\r\n    width: 0,\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    backgroundColor: \"#ff85ac\",\r\n    transition: \"width 1s linear 0s\",\r\n    \"&::after\": {\r\n      content: `\"\"`,\r\n      width: \"32px\",\r\n      height: \"29px\",\r\n      backgroundImage: `url(${process.env.PUBLIC_URL + \"/images/bike.png\"})`,\r\n      backgroundSize: \"contain\",\r\n      borderRadius: \"50%\",\r\n      position: \"absolute\",\r\n      right: \"-4px\",\r\n      top: \"-20px\",\r\n    },\r\n  },\r\n}));\r\n// https://bestjquery.com/tutorial/progress-bar/demo17/\r\n\r\nexport default function LinearProgressBar(props) {\r\n  const classes = ProgressStyles();\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      flexDirection=\"row\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"flex-start\"\r\n    >\r\n      <Box flex={5} style={{ transform: \"translateY(8px)\" }}>\r\n        <div className={classes.pro_bar}>\r\n          <div\r\n            className={classes.progress_bar_inner}\r\n            style={{\r\n              width: props.value + \"%\",\r\n            }}\r\n            data-value={props.value}\r\n            data-percentage-value={props.value}\r\n          ></div>\r\n        </div>\r\n      </Box>\r\n      {/* <Box flex={1}>\r\n        <Typography variant=\"body2\" color=\"textPrimary\" align=\"right\">\r\n          {props.value}%\r\n        </Typography>\r\n      </Box> */}\r\n    </Box>\r\n  );\r\n}","import { formatDistance, formatTime } from \"../../util/format\";\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport LinearProgressBar from \"./LinearProgressBar\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport function JournalEntry({ journal }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"white\",\r\n        borderRadius: \"5px\",\r\n        padding: \"7px\",\r\n        marginTop: \"10px\",\r\n        fontSize: \"11px\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"inline-block\",\r\n          width: \"30%\",\r\n        }}\r\n      >\r\n        {dayjs(journal.startTime).format(\"YYYY. M. D.\")}\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"inline-block\",\r\n          width: \"70%\",\r\n        }}\r\n      >\r\n        {journal.title}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function FriendItem({ friend, journals }) {\r\n  console.log(journals);\r\n  var time = 0.0;\r\n  var distance = 0.0;\r\n  journals &&\r\n    journals.map((journal) => {\r\n      distance += journal.distance;\r\n      time += dayjs(journal.endTime).diff(journal.startTime, \"minute\", true);\r\n    });\r\n  friend.total_intimacy = (time / 60 + distance) / 2;\r\n  if (friend.total_intimacy >= 100.0) {\r\n    friend.total_intimacy = 100.0;\r\n  }\r\n  return (\r\n    <Accordion\r\n      style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}\r\n    >\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n        <FriendListItemInner key={friend.id} friend={friend} />\r\n      </AccordionSummary>\r\n      <AccordionDetails style={{ backgroundColor: \"#f0f0f0\", padding: \"10px\" }}>\r\n        <div style={{ width: \"100%\" }}>\r\n          <div style={{ display: \"inline-block\", width: \"50%\" }}>\r\n            <b>Time: </b>\r\n            {formatTime(time)}\r\n          </div>\r\n\r\n          <div style={{ display: \"inline-block\", width: \"50%\" }}>\r\n            <b>Distance: </b>\r\n            {formatDistance(distance)}\r\n          </div>\r\n\r\n          <div>\r\n            {journals &&\r\n              journals.map((journal) => (\r\n                <JournalEntry journal={journal} key={journal.id} />\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  );\r\n}\r\n\r\nfunction FriendListItemInner({ friend }) {\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"flex-start\"\r\n      flexDirection=\"row\"\r\n      width=\"100%\"\r\n    >\r\n      <Box flex={1} mr={1}>\r\n        <Avatar\r\n          alt={friend.name}\r\n          src={process.env.PUBLIC_URL + friend.picture}\r\n          style={{\r\n            border: \"2px solid lightgray\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n          }}\r\n        />\r\n      </Box>\r\n      <Box flex={2} mr={2} style={{ minWidth: \"75px\" }}>\r\n        <Typography variant=\"body1\" color=\"textPrimary\">\r\n          {friend.name}\r\n        </Typography>\r\n      </Box>\r\n      <Box flex={6}>\r\n        <LinearProgressBar value={friend.total_intimacy} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import Box from \"@material-ui/core/Box\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport FriendListItem from \"./FriendItem\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n// https://material-ui.com/components/lists/\r\n// https://material-ui.com/components/cards/\r\n// https://material-ui.com/components/progress/\r\n// https://material-ui.com/components/accordion/\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nfunction fillTable(friend, journals) {\r\n  console.log(journals);\r\n  // https://javascript.plainenglish.io/material-ui-icons-and-lists-a98c8ccbdac0\r\n  return <div key={friend.id} style={{ margin: \"10px\", marginTop: \"5px\" }}>\r\n    <FriendListItem friend={friend} journals={journals} />\r\n  </div>\r\n}\r\n\r\nexport default function FriendList(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <Box display=\"flex\" flexDirection=\"column\">\r\n        <Box alignSelf=\"flex-end\" style={{ marginRight: \"10px\" }}>\r\n          <IconButton>\r\n            <FilterListIcon />\r\n          </IconButton>\r\n        </Box>\r\n\r\n        <div>\r\n          {props.flist.map((friend) =>\r\n            fillTable(friend, props.journalsByFriend[friend.id])\r\n          )}\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","// import '../index.css'\r\n\r\nimport { deepOrange, deepPurple } from '@material-ui/core/colors'\r\n\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { Link } from 'react-router-dom'\r\nimport React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n    position: 'relative',\r\n  },\r\n  container: {display: 'flex', \r\n  textDecorationLine: 'none',\r\n  textDecorationColor: 'black',\r\n  alignItems: 'center', justifyContent: 'flex-end', margin: '5px'}\r\n\r\n}))\r\n\r\nexport default function Profile() {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n      <div className={classes.root}>\r\n        <Link className={classes.container} to=\"/biky/myPage\">\r\n          <div style={{marginRight: '10px'}}> Nayeon Min </div>\r\n          <div>       \r\n            <Avatar\r\n              src={process.env.PUBLIC_URL + '/images/nayeon.png'}\r\n              // component={Link}\r\n              // to=\"/biky/myPage\"\r\n              />\r\n          </div>\r\n        </Link>\r\n      </div>\r\n  )\r\n}\r\n","import Avatar from '../component/Avatar'\r\nimport FrequestComponent from '../component/friend/Frequest'\r\nimport FriendList from '../component/friend/Friends'\r\nimport Loading from '../component/Loading'\r\nimport Profile from './Profile'\r\nimport React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nfunction getJournalsByFriend(flist, journals) {\r\n  let journalsByFriend = {};\r\n  for (let i = 0; i < flist.length; i++) {\r\n    let f = flist[i];\r\n    journalsByFriend[f.id] = journals.filter(\r\n      (j) => j.friends && j.friends.includes(f.id)\r\n    );\r\n  }\r\n  console.log(journalsByFriend);\r\n\r\n  return journalsByFriend;\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  page: {\r\n    position: \"relative\",\r\n    // maxWidth: \"550px\",\r\n    margin: \"0 auto\",\r\n    // border: \"solid 1px blue\",\r\n  },\r\n  verticalAlign: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    display: \"inline-block\",\r\n  },\r\n  header: {\r\n    position: \"relative\",\r\n    height: \"49px\",\r\n    fontSize: \"30px\",\r\n    fontWeight: \"bold\",\r\n    borderBottom: \"solid 1px black\",\r\n    textAlign: \"center\",\r\n  },\r\n  avatar: {\r\n    position: \"relative\",\r\n    height: \"50px\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  content: {\r\n    position: \"relative\",\r\n    height: \"calc(100vh - 160px)\",\r\n    overflow: \"scroll\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n});\r\n\r\nexport default function Friends({ journalRef, friendRef, frequestRef }) {\r\n  // var journalRef = db.ref(\"/\" + user + \"/journals\");\r\n  // var friendRef = db.ref(\"/\" + user + \"/friends\");\r\n  // var frequestRef = db.ref(\"/\" + user + \"/frequests\");\r\n  const classes = useStyles();\r\n\r\n  const [frequests, setFrequests] = React.useState([]);\r\n  const [friendlist, setFriendlist] = React.useState([]);\r\n  const [journalsByFriend, setJournalsByFriend] = React.useState(null);\r\n\r\n  const acceptFrequest = (fid) => {\r\n    var newFriend = {\r\n      id: \"f\" + friendlist.length,\r\n      picture: \"\",\r\n      name: \"\",\r\n      total_intimacy: 0,\r\n    };\r\n    for (var i = 0; i < frequests.length; i++) {\r\n      if (frequests[i].id === fid) {\r\n        newFriend.name = frequests[i].name;\r\n        newFriend.picture = frequests[i].picture;\r\n      }\r\n    }\r\n    friendRef.child(\"f\" + friendlist.length).set(newFriend);\r\n    frequestRef.child(fid).remove();\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    friendRef.on(\"value\", (snapshot) => {\r\n      const friendData = snapshot.val();\r\n      journalRef.once(\"value\", (snapshot) => {\r\n        console.log(friendData);\r\n        setFriendlist(Object.values(friendData));\r\n        const journals = snapshot.val();\r\n        setJournalsByFriend(\r\n          getJournalsByFriend(\r\n            Object.values(friendData),\r\n            Object.values(journals)\r\n          )\r\n        );\r\n      });\r\n    });\r\n\r\n    frequestRef.on(\"value\", (snapshot) => {\r\n      const frequestData = snapshot.val();\r\n      console.log(frequestData);\r\n      setFrequests(frequestData === null ? [] : Object.values(frequestData));\r\n    });\r\n  }, []);\r\n\r\n  const rejectFrequest = (fid) => {\r\n    frequestRef.child(fid).remove();\r\n  };\r\n\r\n  if (!journalsByFriend) return <Loading/>;\r\n  \r\n  return (\r\n    <div className={classes.page}>\r\n      <div className={classes.header}>\r\n        <div className={classes.verticalAlign}>Friends</div>\r\n      </div>\r\n\r\n      <Profile/>\r\n\r\n      <div className={classes.content}>\r\n        <FrequestComponent\r\n          frequests={frequests}\r\n          onRejectClick={rejectFrequest}\r\n          onAcceptClick={acceptFrequest}\r\n        />\r\n        <FriendList flist={friendlist} journalsByFriend={journalsByFriend} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst sunny = '/images/home/weather_sunny.png'\r\nconst cloudy = '/images/home/weather_cloudy.png'\r\nconst rainy = '/images/home/weather_rainy.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    position: \"relative\",\r\n    width: \"calc(50% - 15px)\",\r\n    height: \"calc(100% - 40px)\",\r\n    padding: \"10px\",\r\n    paddingRight: \"5px\",\r\n    display: \"inline-block\",\r\n    // border: \"solid 1px black\",\r\n    verticalAlign: \"top\",\r\n  },\r\n  background: {\r\n    position: \"relative\",\r\n    width: \"calc(100% - 20px)\",\r\n    height: \"100%\",\r\n    backgroundColor: \"darkgray\",\r\n    borderRadius: \"10px\",\r\n    padding: \"10px\",\r\n    color: \"black\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"15px\",\r\n    // border: \"solid 1px black\"\r\n  },\r\n  status: {\r\n    display: \"inline-block\",\r\n    color: \"darkgray\",\r\n    fontSize: \"12px\",\r\n    backgroundColor: \"white\",\r\n    padding: \"3px 10px\",\r\n    borderRadius: \"10px\",\r\n    float: \"right\",\r\n  }\r\n}));\r\n\r\nfunction randomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nexport default function Weather(props) {\r\n  const classes = useStyles();\r\n  // const weatherTypes = [\"sunny\", \"cloudy\", \"rainy\"];\r\n  // var [currentWeather, setCurrentWeather] = useState(weatherTypes[0]);\r\n  // var [currentWeather, setCurrentWeather] = useState(randomInt(1, weatherTypes.length));\r\n  // console.log(`currentWeather: ${currentWeather}`)\r\n\r\n  const currentWeather = props.weather;\r\n\r\n  var style = (currentWeather === 1 ? { color: \"black\", backgroundSize: \"100% 100%\", backgroundImage: `url(${process.env.PUBLIC_URL + sunny})` } : currentWeather === 2 ? { color: \"black\", backgroundSize: \"100% 100%\", backgroundImage: `url(${process.env.PUBLIC_URL + cloudy})` } : { color: \"black\", backgroundSize: \"100% 100%\", backgroundImage: `url(${process.env.PUBLIC_URL + rainy})` });\r\n  var weather = (currentWeather === 1 ? \"sunny\" : currentWeather === 2 ? \"cloudy\" : \"rainy\");\r\n  var [temperature, setTemperature] = useState(currentWeather === 1 ? randomInt(20, 30) : currentWeather === 2 ? randomInt(15, 25) : randomInt(10, 20));\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {/* <img src={process.env.PUBLIC_URL +currentWeather} width=\"100%\" alt=\"\" /> */}\r\n      <div className={classes.background} style={style}>\r\n        {weather} <br />\r\n        {temperature}&#8451;\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    bar: {\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"10px\",\r\n        backgroundColor: \"white\",\r\n        borderRadius: \"10px\",\r\n        marginTop: \"10px\",\r\n        // border: \"solid 1px black\"\r\n    },\r\n    slider: {\r\n      position: \"absolute\",\r\n      top: \"5px\",\r\n      transform: \"translateY(-50%)\",\r\n      width: \"25px\",\r\n      height: \"15px\",\r\n      backgroundColor: \"darkgray\",\r\n      borderRadius: \"10px\",\r\n      color: \"white\",\r\n      textAlign: \"center\",\r\n      fontSize: \"10px\",\r\n      fontWeight: \"bold\",\r\n      border: \"solid 2px white\",\r\n      paddingTop: \"2px\"\r\n    },\r\n}));\r\n\r\nexport default function DustBar(props) {\r\n  const classes = useStyles();\r\n  var amount = props.amount;\r\n  var percentage = props.percentage;\r\n\r\n  return (\r\n    <div className={classes.bar}>\r\n        <div className={classes.slider} style={{ left: `calc(calc(100% - 29px) * ${percentage}` }}>{amount}</div>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react';\r\n\r\nimport { DustBar } from './';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst dust = '/images/home/dust.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n      position: \"relative\",\r\n      width: \"calc(50% - 15px)\",\r\n      height: \"calc(100% - 40px)\",\r\n      padding: \"10px\",\r\n      paddingLeft: \"5px\",\r\n      display: \"inline-block\",\r\n      // border: \"solid 1px black\",\r\n      verticalAlign: \"top\",\r\n    },\r\n    background: {\r\n      position: \"relative\",\r\n      width: \"calc(100% - 20px)\",\r\n      height: \"100%\",\r\n      backgroundColor: \"darkgray\",\r\n      borderRadius: \"10px\",\r\n      padding: \"10px\",\r\n      color: \"white\",\r\n      fontWeight: \"bold\",\r\n      fontSize: \"12px\",\r\n      // border: \"solid 1px black\"\r\n    },\r\n    text: {\r\n      position: \"relative\",\r\n      display: \"inline-block\",\r\n      margin: \"2px\"\r\n    },\r\n    status: {\r\n      position: \"absolute\",\r\n      right: \"10px\",\r\n      display: \"inline-block\",\r\n      color: \"darkgray\",\r\n      fontSize: \"10px\",\r\n      backgroundColor: \"white\",\r\n      padding: \"3px 10px\", \r\n      borderRadius: \"10px\",\r\n    }\r\n}));\r\n\r\nfunction randomInt(min, max) {\r\n  return Math.floor(Math.random()*(max-min+1)+min);\r\n}\r\n\r\nexport default function Dust() {\r\n  const classes = useStyles();\r\n  var [fineDustAmount, setFineDustAmount] = useState(randomInt(0, 200));\r\n  var fineDustStatus = (fineDustAmount <= 30 ? \"GOOD\" : fineDustAmount <= 80 ? \"NORMAL\" : fineDustAmount <= 150 ? \"BAD\" : \"VERY BAD\");\r\n  var [ultraFineDustAmount, setUltraFineDustAmount] = useState(randomInt(0, 100));\r\n  var ultraFineDustStatus = (ultraFineDustAmount <= 15 ? \"GOOD\" : ultraFineDustAmount <= 35 ? \"NORMAL\" : ultraFineDustAmount <= 75 ? \"BAD\" : \"VERY BAD\");\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {/* <img src={dust} width=\"100%\" alt=\"fine dust\" /> */}\r\n      <div className={classes.background}>\r\n        <div>\r\n          <div className={classes.text}>fine dust</div>\r\n          <div className={classes.status}>{fineDustStatus}</div>\r\n          <DustBar amount={fineDustAmount} percentage={fineDustAmount/200} />\r\n        </div>\r\n        <br/>\r\n        <div>\r\n          <div className={classes.text}>ultra-fine dust</div>\r\n          <div className={classes.status}>{ultraFineDustStatus}</div>\r\n          <DustBar amount={ultraFineDustAmount} percentage={ultraFineDustAmount/100}  />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Distance(props) {\r\n  const style = props.style;\r\n  var distance = props.distance;\r\n\r\n  return (\r\n    <div className={style} style={{ width: \"100px\" }}>\r\n        { distance }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Time(props) {\r\n  const style = props.style;\r\n  var time = props.time;\r\n\r\n  return (\r\n    <div className={style} style={{ width: \"120px\" }}>\r\n        { time }\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport mapboxgl from 'mapbox-gl';\r\n\r\nvar fullRoute = [ \r\n  [37.49470666236267, 126.91468074800363], // 0\r\n  [37.49415293252939, 126.91474014452083],\r\n  [37.493646325043095, 126.91481439016731],\r\n  [37.493646325043095, 126.91561624314943],\r\n  [37.493669888258175, 126.91635869961434],\r\n  [37.4943178737601, 126.91641809613154],\r\n  [37.494341436763335, 126.91747238431171],\r\n  \r\n  [37.49436499975911, 126.91845242684539], // 7\r\n\r\n  [37.49369345146585, 126.91874940943136], // 8\r\n  [37.493057242249606, 126.91824453903524],\r\n  [37.49250350018724, 126.91779906515627],\r\n  [37.492161827504944, 126.91696751391557],\r\n  [37.49161986073405, 126.91631415222646],\r\n  [37.49088937755974, 126.91609141528697],\r\n  [37.490630172135496, 126.91692296652768],\r\n  [37.49068908253818, 126.91797725470786],\r\n  [37.490594825871604, 126.91943246937909],\r\n  [37.490747992894406, 126.92084313666243],\r\n  [37.49061839003611, 126.92174893382835],\r\n  [37.490465222747545, 126.92268442897412],\r\n  [37.491231056049536, 126.92283292026711],\r\n  [37.49218539117512, 126.9230408080773],\r\n  [37.49303367882794, 126.92327839414607],\r\n  [37.49317505916671, 126.9220459164143],\r\n  [37.4933046575755, 126.92078374042396],\r\n  [37.49359882211928, 126.91981753934691], // 25\r\n]\r\n\r\n// var fullRoute = [ \r\n//   [37.494670391439165, 126.91464380466944],\r\n//   [37.49461632321203, 126.91465594036819],\r\n//   [37.49456003296136, 126.91466527552109], \r\n//   [37.49451929656926, 126.91467181012814],\r\n//   [37.494469672207074, 126.91468207879632], \r\n//   [37.494426713777365, 126.91469141394921], \r\n//   [37.49439116195478, 126.91469701504094],\r\n//   [37.49434894414346, 126.91470635019387],\r\n//   [37.494312592802274, 126.91471474172195],\r\n//   [37.494275203988074, 126.91472033270082],\r\n//   [37.4942308443537, 126.91472672239101],\r\n//   [37.49418585098338, 126.91473710563757],\r\n//   [37.49414212500595, 126.91474828759539],\r\n//   [37.494095230451, 126.91475547599684],\r\n//   [37.49406227749845, 126.91476346311404],\r\n//   [37.49401474918228, 126.91477065151551],\r\n//   [37.49395581402821, 126.91478023605076],\r\n//   [37.493894977691355, 126.91479141800859],\r\n//   [37.49384111213756, 126.91480898966068],\r\n//   [37.49378281055953, 126.91482256775232],\r\n//   [37.493727043790116, 126.91482895744248],\r\n//   [37.49366557355288, 126.91483295099884],\r\n//   [37.49366557355288, 126.91492400408393],\r\n//   [37.49366430612423, 126.91497911518655],\r\n//   [37.49365987012572, 126.91505659018],\r\n//   [37.49365733526928, 126.9151500393989],\r\n//   [37.49365480041277, 126.91524029377271],\r\n//   [37.493652265556186, 126.91531297649854],\r\n//   [37.49365099812784, 126.91537367858254],\r\n//   [37.49364846327113, 126.91544556259707],\r\n//   [37.49364846327113, 126.9155206414567],\r\n//   [37.49364402727167, 126.91560530485161],\r\n//   [37.49364339355742, 126.91568357855633],\r\n//   [37.49364402727167, 126.91576025483852],\r\n//   [37.493642759843375, 126.9158153659569],\r\n//   [37.49364149241491, 126.91589523708416],\r\n//   [37.493639591272135, 126.91597830305653],\r\n//   [37.49363705641501, 126.91606216774017],\r\n//   [37.49363262041484, 126.91614443500124],\r\n//   [37.49363262041474, 126.91621392290502],\r\n//   [37.49363071927174, 126.91630337856756],\r\n//   [37.49364719584283, 126.91636248320174],\r\n//   [37.49370423009929, 126.91635369737773],\r\n//   [37.49375682831944, 126.916354496089],\r\n//   [37.49381703105605, 126.91635529480028],\r\n//   [37.4938683617721, 126.91636328191301],\r\n//   [37.49392476215607, 126.91636647676283],\r\n//   [37.493979895066445, 126.91636967160792],\r\n//   [37.49404389988837, 126.91637286645302],\r\n//   [37.49410853836574, 126.91637366516429],\r\n//   [37.4941738104969, 126.91637765872065],\r\n//   [37.49424161740768, 126.91637845743193],\r\n//   [37.49431322537524, 126.91638864486173],\r\n//   [37.49432845700756, 126.91646019951277],\r\n//   [37.494329841700974, 126.91655269697881],\r\n//   [37.49433122639439, 126.91665043015048],\r\n//   [37.49433122639505, 126.9167411824009],\r\n//   [37.49433122639505, 126.91683804295496],\r\n//   [37.494332611088865, 126.91693228568258],\r\n//   [37.49433191874221, 126.91702914623667],\r\n//   [37.49433330343809, 126.91711640802218],\r\n//   [37.49433676517136, 126.91721675904665],\r\n//   [37.49433261109141, 126.91729878510145],\r\n//   [37.494330534051365, 126.91739128256748],\r\n//   [37.49432568762433, 126.91748290741593],\r\n//   [37.49433330343809, 126.9175588251475],\r\n//   [37.49432914935773, 126.91762514412373],\r\n//   [37.49432845701102, 126.91770018923768],\r\n//   [37.49432707231756, 126.9177900688509],\r\n//   [37.494323610583855, 126.91787558537611],\r\n//   [37.4943229182371, 126.91796110190134],\r\n//   [37.49432084119678, 126.91804661842654],\r\n//   [37.49432153354372, 126.91810333860887],\r\n//   [37.49432914935789, 126.91818274681086],\r\n//   [37.49433884221117, 126.91826040977764],\r\n//   [37.49436099729966, 126.91836337865494],\r\n//   [37.49439561461225, 126.91848379988431],\r\n//   [37.494335380478, 126.91851434150045],\r\n//   [37.494291070277896, 126.91853092125379],\r\n//   [37.49423222075454, 126.91855099145867],\r\n//   [37.494175448229264, 126.9185736795164],\r\n//   [37.494120060358135, 126.9185954949565],\r\n//   [37.494076442375025, 126.91860945685032],\r\n//   [37.49402520852772, 126.91862429134957],\r\n//   [37.49397535934528, 126.9186469794073],\r\n//   [37.49392758718089, 126.91866617699456],\r\n//   [37.49387773793326, 126.91868624719946],\r\n//   [37.493842428025424, 126.91869846385408],\r\n//   [37.49379396342433, 126.91871417097097],\r\n//   [37.493726805282236, 126.91874034949909],\r\n//   [37.49365203119734, 126.91877089111523],\r\n//   [37.493595760869646, 126.91875429096568],\r\n//   [37.49353517083514, 126.91870282533002],\r\n//   [37.49349792865738, 126.91866728604477],\r\n//   [37.49344578958348, 126.91861431242103],\r\n//   [37.49338939421764, 126.91856670321489],\r\n//   [37.49333565897094, 126.91851507069556],\r\n//   [37.493276071325454, 126.91846209707182],\r\n//   [37.493224464125355, 126.9184151584034],\r\n//   [37.493174985028006, 126.91836352588409],\r\n//   [37.49311965352544, 126.91830921115594],\r\n//   [37.49305740553605, 126.91826160194981],\r\n//   [37.493012182601404, 126.91822069824885],\r\n//   [37.49296217132841, 126.91817644180368],\r\n//   [37.492911627986544, 126.91813017370195],\r\n//   [37.49286268071766, 126.9180845761524],\r\n//   [37.49282224598911, 126.91804769576143],\r\n//   [37.49277747095127, 126.9180044206152],\r\n//   [37.492742356546344, 126.91791188441172],\r\n//   [37.49268017626305, 126.91789368377515],\r\n//   [37.49258649430441, 126.91783420396115],\r\n//   [37.49249633411297, 126.91780668345021],\r\n//   [37.492418887646934, 126.91777463820318],\r\n//   [37.49234111147015, 126.9177448055245],\r\n//   [37.49230120850289, 126.917672385887],\r\n//   [37.49226609386961, 126.91761740058436],\r\n//   [37.49221980637914, 126.91754162818584],\r\n//   [37.492174582941175, 126.91746518523512]\r\n// ]\r\n\r\nconst useStyles = makeStyles({\r\n    map: {\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        textAlign: \"center\",\r\n        display: \"inline-block\",\r\n        // border: \"solid 1px black\"\r\n    },\r\n  });\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API\r\n\r\nfunction swapColumns(array) {\r\n  var newArray = [];\r\n  const length = array.length;\r\n  for(var i = 0; i < length; i++) {\r\n    newArray.push([ array[i][1], array[i][0] ]);\r\n  }\r\n  return newArray;\r\n}\r\n\r\nexport default function Map(props) {\r\n  const classes = useStyles();\r\n  var index = parseInt(props.index * 10);\r\n  // console.log(`index ${index}`)\r\n  var isRiding = props.isRiding;\r\n\r\n  const mapContainer = useRef(null);\r\n  const map = useRef(null);\r\n  const [lng, setLng] = useState(fullRoute[0][1]);\r\n  const [lat, setLat] = useState(fullRoute[0][0]);\r\n  const [zoom, setZoom] = useState(15);\r\n  const [route, setRoute] = useState(fullRoute.slice(0, 1));\r\n\r\n  useEffect(() => {\r\n    if (map.current) return; // initialize map only once\r\n      map.current = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: 'mapbox://styles/mapbox/streets-v11',\r\n        center: [lng, lat],\r\n        zoom: zoom\r\n      });\r\n      map.current.on('load', function () {\r\n        map.current.addSource('route', {\r\n          'type': 'geojson',\r\n          'data': {\r\n            'type': 'Feature',\r\n            'properties': {},\r\n            'geometry': {\r\n              'type': 'LineString',\r\n              'coordinates': swapColumns(route)\r\n            }\r\n          }\r\n        });\r\n        map.current.addLayer({\r\n          'id': 'route',\r\n          'type': 'line',\r\n          'source': 'route',\r\n          'layout': {\r\n            'line-join': 'round',\r\n            'line-cap': 'round'\r\n          },\r\n          'paint': {\r\n            'line-color': '#888',\r\n            'line-width': 4\r\n          }\r\n        });\r\n\r\n        map.current.addSource('pointer', {\r\n          type: 'geojson',\r\n          data: {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [{\r\n              \"type\": \"Feature\",\r\n              \"properties\": {},\r\n              \"geometry\": {\r\n                \"type\": \"Point\",\r\n                \"coordinates\": [lng, lat]\r\n              }\r\n            }]\r\n          }\r\n        });\r\n        map.current.addLayer({\r\n          id: 'pointer',\r\n          type: 'circle',\r\n          source: 'pointer',\r\n          paint: {\r\n            'circle-radius': 5,\r\n            'circle-color': '#FF0000',\r\n            'circle-opacity': 0.8\r\n          }\r\n        });\r\n      });\r\n  });\r\n\r\n  useEffect(() => {\r\n    if(index >= fullRoute.length) {\r\n      index = (index - 8) % 18 + 8;\r\n    }\r\n    // console.log(index)\r\n    setLng(fullRoute[index][1]);\r\n    setLat(fullRoute[index][0]);\r\n    setRoute(route => [...route, fullRoute[index]]);\r\n\r\n    map.current.setCenter([lng, lat]);\r\n\r\n    if(map.current.getSource('route')) {\r\n      map.current.getSource('route').setData({\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"LineString\",\r\n            \"coordinates\": swapColumns(route)\r\n        }\r\n      });\r\n    }\r\n\r\n    if(map.current.getSource('pointer')) {\r\n      map.current.getSource('pointer').setData({\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": [{\r\n          \"type\": \"Feature\",\r\n          \"properties\": {},\r\n          \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [lng, lat]\r\n          }\r\n        }]\r\n      });\r\n    }\r\n  }, [index]);\r\n\r\n  useEffect(() => {\r\n    if(isRiding) {\r\n      return;\r\n    }\r\n    props.saveRoute(swapColumns(route));\r\n    setLng(fullRoute[0][1]);\r\n    setLat(fullRoute[0][0]);\r\n    setRoute(fullRoute.slice(0, 1));\r\n  }, [isRiding])\r\n\r\n  return (\r\n    <div ref={mapContainer} className={classes.map}>\r\n\r\n    </div>\r\n  )\r\n}","import { Button, Typography } from '@material-ui/core'\r\n\r\nimport React from 'react'\r\n\r\nexport default function StartButton(props) {\r\n  const style = props.style\r\n\r\n  return (\r\n\r\n    <Button\r\n      className={style.button}\r\n      style={{\r\n        backgroundColor: '#FF85AC',\r\n      }}\r\n      variant=\"contained\">\r\n      <Typography className={style.text} color=\"textPrimary\">\r\n        Start Ride\r\n      </Typography>\r\n    </Button>\r\n  )\r\n}\r\n","import { Button, Typography } from '@material-ui/core'\r\n\r\nimport React from 'react';\r\n\r\nexport default function StopButton(props) {\r\n  const style = props.style;\r\n\r\n  return (\r\n    <Button className={style.button} variant=\"contained\" style={{\r\n      backgroundColor: \"#A9A9A9\"\r\n    }}>\r\n      <Typography className={style.text} color=\"white\">\r\n        Stop Ride\r\n      </Typography>\r\n    </Button>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { MetaphorTaxi, MetaphorBurger, MetaphorTree } from './';\r\n\r\nexport default function MetaphorContainer(props) {\r\n    var amount = props.amount; \r\n    var min = 1;\r\n    var max = 3;\r\n    var [randomInt, setRandomInt] = useState(Math.floor(Math.random()*(max-min+1)+min));\r\n\r\n    return (\r\n        <div style={{ position: \"relative\" }}>\r\n            { randomInt === 1 ? <MetaphorTaxi amount={amount}/> : null }\r\n            { randomInt === 2 ? <MetaphorBurger amount={amount}/> : null }\r\n            { randomInt === 3 ? <MetaphorTree amount={amount}/> : null }\r\n        </div>\r\n    )\r\n}","import { Icon } from \"@iconify/react\";\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport oncomingTaxi from \"@iconify-icons/twemoji/oncoming-taxi\";\r\n\r\nconst taxi = \"/images/home/metaphor_taxi.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  background: {\r\n    position: 'relative',\r\n    // background: 'linear-gradient(45deg, #A0BFE3, #F0A2B0)',\r\n    borderRadius: '10px',\r\n    padding: '10px',\r\n  },\r\n  img: {\r\n    display: 'inline-block',\r\n    // border: \"solid 1px black\",\r\n    fontSize: 60,\r\n  },\r\n  text: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    transform: 'translateY(-50%)',\r\n    display: 'inline-block',\r\n    // color: 'white',\r\n    // fontSize: \"15px\",\r\n    // fontWeight: \"bold\",\r\n    // margin: \"0 auto\",\r\n    // border: \"solid 1px black\",\r\n    width: 'calc(85% - 20px)',\r\n    // paddingLeft: \"10px\",\r\n    textAlign: 'center',\r\n  },\r\n}))\r\n\r\nexport default function MetaphorTaxi(props) {\r\n  const classes = useStyles()\r\n  var amount = props.amount\r\n\r\n\r\n  return (\r\n    <div className={classes.background}>\r\n      <Icon icon={oncomingTaxi} className={classes.img} />\r\n      <div className={classes.text}>\r\n        You saved {(amount * 1000).toFixed(0)} won!\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Icon } from \"@iconify/react\";\r\nimport React from \"react\";\r\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst burger = \"/images/home/metaphor_burger.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  background: {\r\n    position: 'relative',\r\n    // background: 'linear-gradient(45deg, #EED28B, #DB7E61)',\r\n    borderRadius: '10px',\r\n    padding: '10px',\r\n  },\r\n  img: {\r\n    display: 'inline-block',\r\n    // border: \"solid 1px black\",\r\n    fontSize: 60,\r\n  },\r\n  text: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    transform: 'translateY(-50%)',\r\n    display: 'inline-block',\r\n    // color: 'white',\r\n    // fontSize: '15px',\r\n    // fontWeight: 'bold',\r\n    // border: \"solid 1px black\",\r\n    width: 'calc(85% - 20px)',\r\n    // paddingLeft: '10px',\r\n    textAlign: 'center',\r\n  },\r\n}))\r\n\r\nexport default function MetaphorBurger(props) {\r\n  const classes = useStyles()\r\n  var amount = props.amount\r\n\r\n\r\n  return (\r\n    <div className={classes.background}>\r\n      <Icon icon={hamburgerIcon} className={classes.img} />\r\n      <div className={classes.text}>\r\n        You skipped {(amount * 0.1).toFixed(2)} burgers!\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Icon } from \"@iconify/react\";\r\nimport React from \"react\";\r\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst tree = \"/images/home/metaphor_tree.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  background: {\r\n\r\n    position: 'relative',\r\n    // background: 'linear-gradient(45deg, #73A15D, #94C25A)',\r\n    borderRadius: '10px',\r\n    padding: '10px',\r\n  },\r\n  img: {\r\n    display: 'inline-block',\r\n    // border: \"solid 1px black\",\r\n    fontSize: 60,\r\n  },\r\n  text: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    transform: 'translateY(-50%)',\r\n    display: 'inline-block',\r\n    // color: 'white',\r\n    // fontSize: '15px',\r\n    // fontWeight: 'bold',\r\n    // margin: '0 auto',\r\n    // border: \"solid 1px black\",\r\n    width: 'calc(85% - 20px)',\r\n    // paddingLeft: '10px',\r\n    textAlign: 'center',\r\n  },\r\n}))\r\n\r\nexport default function MetaphorTree(props) {\r\n  const classes = useStyles()\r\n  var amount = props.amount\r\n\r\n\r\n  return (\r\n    <div className={classes.background}>\r\n      <Icon icon={deciduousTree} className={classes.img} />\r\n      <div className={classes.text}>\r\n        You planted {(amount * 0.05).toFixed(2)} trees!\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Button, Modal, Typography } from '@material-ui/core'\r\nimport { MetaphorContainer, StaticMap } from './'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: `translate(-50%, -50%)`,\r\n    position: 'absolute',\r\n    width: '75%',\r\n    maxHeight: '75vh',\r\n    overflowY: 'scroll',\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(4),\r\n    outline: 'none',\r\n  },\r\n  title: {\r\n    fontSize: '20px',\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    paddingBottom: '15px',\r\n    position: 'relative',\r\n    top: '-5px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  half: {\r\n    display: 'inline-block',\r\n    width: '50%',\r\n    paddingBottom: '10px',\r\n  },\r\n  label: {\r\n    display: 'inline-block',\r\n    fontSize: '15px',\r\n    fontWeight: 'bold',\r\n    padding: '5px',\r\n    paddingLeft: '0',\r\n  },\r\n  button: {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    // border: \"solid 1px black\",\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: '15px',\r\n    backgroundColor: '#FF85AC',\r\n    borderRadius: '10px',\r\n    padding: '10px',\r\n    marginTop: '10px',\r\n  },\r\n}))\r\n\r\nexport default function JournalModal(props) {\r\n  const classes = useStyles()\r\n  var open = props.open\r\n  var distance = props.distance\r\n  var time = props.time\r\n  var amount = props.amount\r\n  var route = props.route\r\n  var closeModal = props.closeModal\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        open={open}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        <div className={classes.modal}>\r\n          <div id=\"modal-title\" className={classes.title}>\r\n            <Typography\r\n              style={{\r\n                display: 'inline-block',\r\n                justifyContent: 'flex-start',\r\n                position: 'relative',\r\n                left: '30px',\r\n                flex: 1,\r\n              }}\r\n              variant=\"h5\"\r\n            >\r\n              Today's Ride\r\n            </Typography>\r\n\r\n            <Button\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'flex-end',\r\n                position: 'relative',\r\n                left: '5px',\r\n              }}\r\n              size=\"small\"\r\n              onClick={closeModal}\r\n            >\r\n              <img\r\n                alt=\"close button\"\r\n                src={process.env.PUBLIC_URL + '/images/close.png'}\r\n              />\r\n            </Button>\r\n          </div>\r\n\r\n          <MetaphorContainer amount={amount} />\r\n\r\n          {/* <hr /> */}\r\n\r\n          <div id=\"modal-description\">\r\n            <div className={classes.half}>\r\n              <div className={classes.label}>Time</div> {time}\r\n            </div>\r\n            <div className={classes.half}>\r\n              <div className={classes.label}>Distance</div> {distance}\r\n            </div>\r\n            <br />\r\n\r\n            <div>\r\n              <div className={classes.label}>Route</div>\r\n              <StaticMap\r\n                route={route}\r\n                zoom={15}\r\n                width={'100%'}\r\n                height={'300px'}\r\n              />\r\n            </div>\r\n\r\n            <Button className={classes.button} onClick={props.handleJournal}>\r\n              Journal Ride\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n","export const allPhotos = [\r\n  \"/images/photo1.jpg\",\r\n  \"/images/photo2.jpg\",\r\n  \"/images/photo3.jpg\",\r\n  \"/images/photo4.jpg\",\r\n  \"/images/photo5.jpg\",\r\n  \"/images/photo6.jpg\",\r\n]\r\n\r\nexport const getRandomPhoto = (num) => {\r\n  if (num < 1) return []\r\n  if (num >= allPhotos.length) return allPhotos\r\n  return getRandom(allPhotos, num)\r\n}\r\n\r\nfunction getRandom(arr, n) {\r\n    var result = new Array(n),\r\n        len = arr.length,\r\n        taken = new Array(len);\r\n    if (n > len)\r\n        throw new RangeError(\"getRandom: more elements taken than available\");\r\n    while (n--) {\r\n        var x = Math.floor(Math.random() * len);\r\n        result[n] = arr[x in taken ? taken[x] : x];\r\n        taken[x] = --len in taken ? taken[len] : len;\r\n    }\r\n    return result;\r\n}\r\n","import {\r\n  Distance,\r\n  Dust,\r\n  JournalModal,\r\n  Map,\r\n  StartButton,\r\n  StopButton,\r\n  Time,\r\n  Weather,\r\n} from '../component/home'\r\nimport React, { useRef, useState } from 'react'\r\nimport { formatDistance, formatTime } from \"../util/format\";\r\n\r\nimport Avatar from \"../component/Avatar\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Profile from './Profile'\r\nimport dayjs from \"dayjs\";\r\nimport {getRandomPhoto} from '../data/photo';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  page: {\r\n    position: \"relative\",\r\n    // maxWidth: \"550px\",\r\n    margin: \"0 auto\",\r\n    // border: \"solid 1px blue\",\r\n  },\r\n  verticalAlign: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    display: \"inline-block\",\r\n  },\r\n  header: {\r\n    position: \"relative\",\r\n    height: \"49px\",\r\n    fontSize: \"30px\",\r\n    fontWeight: \"bold\",\r\n    borderBottom: \"solid 1px black\",\r\n    textAlign: \"center\",\r\n  },\r\n  avatar: {\r\n    position: \"relative\",\r\n    height: \"50px\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  content: {\r\n    position: \"relative\",\r\n    height: \"calc(100vh - 160px)\",\r\n    overflow: \"scroll\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  weatherContainer: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    // height: \"25%\",\r\n    height: \"135px\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  measuresContainer: {\r\n    position: \"absolute\",\r\n    zIndex: \"1\",\r\n    width: \"calc(100% - 20px)\",\r\n    // border: \"solid 1px black\",\r\n    padding: \"10px\",\r\n  },\r\n  measures: {\r\n    display: \"inline-block\",\r\n    // border: \"solid 1px black\",\r\n    padding: \"10px\",\r\n    margin: \"0 5px\",\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"10px\",\r\n    textAlign: \"center\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"20px\",\r\n  },\r\n  mapContainer: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    height: \"60%\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  buttonContainer: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    height: \"calc(40% - 135px)\",\r\n    minHeight: \"50px\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  button: {\r\n    position: \"relative\",\r\n    height: \"calc(100% - 20px)\",\r\n    textAlign: \"center\",\r\n    borderRadius: \"10px\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"20px\",\r\n    margin: \"10px\",\r\n    width: \"calc(100% - 20px)\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  buttonText: {\r\n    position: 'relative',\r\n    textAlign: 'center',\r\n    fontWeight: 'bold',\r\n    fontSize: '25px',\r\n    color: 'white'\r\n  },\r\n  startButton: {\r\n    position: \"relative\",\r\n    height: \"calc(100% - 20px)\",\r\n    textAlign: \"center\",\r\n    borderRadius: \"10px\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"25px\",\r\n    margin: \"10px\",\r\n    width: \"calc(100% - 20px)\",\r\n    color: theme.palette.primary.main\r\n  },\r\n  stopButton: {},\r\n}));\r\n\r\nfunction randomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction getRandomTitle()\r\n{\r\n  const randomTitles = [\r\n    \"Met a beautiful cat\",\r\n    \"No play and all work makes Jack a dull boy\",\r\n    \"Come along with me\",\r\n    \"Dundun dance\",\r\n    \"Here's Jonny\",\r\n    \"Open the pot, HAL\"\r\n  ]\r\n  let selector = randomInt(0, randomTitles.length-1)\r\n  return randomTitles[selector]\r\n}\r\n\r\nexport default function Home({ journalRef }) {\r\n  // var journalRef = db.ref(\"/\" + user + \"/journals\");\r\n  const classes = useStyles();\r\n  var [isRiding, setIsRiding] = useState(false);\r\n  var [open, setOpen] = useState(false);\r\n  var [distance, setDistance] = useState(0);\r\n  var [time, setTime] = useState(0);\r\n  var [route, setRoute] = useState([]);\r\n\r\n  const weatherTypes = [\"sunny\", \"cloudy\", \"rainy\"];\r\n  var [weather, setWeather] = useState(randomInt(1, weatherTypes.length));\r\n\r\n  const increment = useRef(null);\r\n\r\n  const [hashtags, setHashtags] = useState([\"happy\"]);\r\n  const [startTime, setStartTime] = useState(dayjs());\r\n\r\n  const createJournal = () => {\r\n    let id = journalRef.push().key;\r\n\r\n    const endTime = startTime.add(time, 'minute')\r\n    const randomPhotos = getRandomPhoto(3)\r\n    const randomTitle = getRandomTitle()\r\n\r\n    let newJournal = {\r\n      createdAt: new Date().toString(),\r\n      id,\r\n      route,\r\n      hashtags,\r\n      distance: parseInt(distance * 10) / 10,\r\n      time,\r\n      date: endTime.format(\"YYYY. MM. DD\"),\r\n      weather: weatherTypes[weather - 1],\r\n      startTime: startTime.toString(),\r\n      endTime: endTime.toString(),\r\n      title: randomTitle,\r\n\r\n      desc: `I rode ${(parseInt(distance * 10) / 10)} km at Boramae Park!`,\r\n      photos: randomPhotos,\r\n      emojis: hashtags,\r\n      metaphors: {\r\n        tree: (parseInt(distance * 10) / 10) * 0.05,\r\n        taxi: (parseInt(distance * 10) / 10) * 1000,\r\n        burger: (parseInt(distance * 10) / 10) * 0.1,\r\n      },\r\n    };\r\n\r\n    journalRef.child(id).set(newJournal)\r\n    return id\r\n  }\r\n\r\n  const startRide = () => {\r\n    setStartTime(dayjs());\r\n    setIsRiding(true);\r\n    increment.current = setInterval(() => {\r\n      setDistance((distance) => distance + 0.1);\r\n      setTime((time) => time + 1000 / 3600);\r\n      console.log(distance, time);\r\n    }, 1000 / 6); // 100m/s\r\n  };\r\n\r\n  const stopRide = () => {\r\n    setIsRiding(false);\r\n    clearInterval(increment.current);\r\n    setOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    console.log(\"closing modal\");\r\n    createJournal();\r\n    setOpen(false);\r\n    setDistance(0);\r\n    setTime(0);\r\n  };\r\n\r\n  let history = useHistory();\r\n\r\n  const handleJournal = () => {\r\n    const id = createJournal();\r\n    history.push(`/biky/edit/${id}`);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={classes.page}>\r\n      <div className={classes.header}>\r\n        <div className={classes.verticalAlign}>Home</div>\r\n      </div>\r\n\r\n      <Profile/>\r\n\r\n      <div className={classes.content}>\r\n        <div className={classes.weatherContainer}>\r\n          <Weather weather={weather} />\r\n          <Dust />\r\n        </div>\r\n\r\n        {isRiding ? (\r\n          <div className={classes.measuresContainer}>\r\n            <Distance\r\n              distance={formatDistance(distance)}\r\n              style={classes.measures}\r\n            />\r\n            <Time time={formatTime(time)} style={classes.measures} />\r\n          </div>\r\n        ) : null}\r\n\r\n        <div className={classes.mapContainer}>\r\n          <Map index={distance} isRiding={isRiding} saveRoute={setRoute} />\r\n        </div>\r\n\r\n        <div\r\n          onClick={() => (!isRiding ? startRide() : stopRide())}\r\n          className={classes.buttonContainer}\r\n        >\r\n          {!isRiding ? (\r\n            <StartButton\r\n              style={{ button: classes.startButton, text: classes.buttonText }}\r\n            />\r\n          ) : (\r\n            <StopButton\r\n              style={{ button: classes.button, text: classes.buttonText }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <JournalModal\r\n        handleJournal={handleJournal}\r\n        open={open}\r\n        distance={formatDistance(distance)}\r\n        time={formatTime(time)}\r\n        amount={distance}\r\n        route={route}\r\n        closeModal={closeModal}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  disabled: {\r\n    backgroundColor: \"gray\",\r\n    opacity: 0.3,\r\n  },\r\n  abled: {\r\n    backgroundColor: \"white\",\r\n  },\r\n}));\r\nexport default function FriendSimpleView({ friend, disabled }) {\r\n  const classes = useStyles();\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"flex-start\"\r\n      flexDirection=\"row\"\r\n      width=\"120px\"\r\n      borderRadius={10}\r\n      className={disabled ? classes.disabled : classes.abled}\r\n      style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}\r\n      m={1}\r\n    >\r\n      <Box flex={1} mr={1} mt={1} mb={1} ml={1}>\r\n        <Avatar\r\n          alt={friend.name}\r\n          src={process.env.PUBLIC_URL + friend.picture}\r\n          style={{\r\n            border: \"1.5px solid lightgray\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n          }}\r\n        />\r\n      </Box>\r\n      <Box flex={2} mt={1} mb={1} style={{ minWidth: \"60px\" }}>\r\n        <Typography variant=\"body2\" color=\"textPrimary\">\r\n          {friend.name}\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import AppBar from \"@material-ui/core/AppBar\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport React from \"react\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function MyAppBar({ onSubmit, string }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n      <AppBar position=\"static\" style={{width: '100%'}}>\r\n        <Toolbar variant=\"dense\">\r\n          <Typography variant=\"h6\" color=\"inherit\" style={{ flexGrow: 1 }}>\r\n            {string}\r\n          </Typography>\r\n\r\n          <IconButton\r\n            edge=\"end\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={onSubmit}\r\n          >\r\n            <CheckIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { ButtonBase } from \"@material-ui/core\";\r\nimport FriendSimpleView from \"./FriendSimpleView\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MyAppBar from \"./AppBar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    top: `50%`,\r\n    left: `50%`,\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    transform: `translate(-50%, -50%)`,\r\n    maxHeight: \"80vh\",\r\n    overflow: \"scroll\",\r\n    padding: 0,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst modalStyle = {\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: `translate(-${50}%, -${50}%)`,\r\n};\r\n\r\nexport function FriendSelector({ friend, onClick, disabled }) {\r\n  return (\r\n    <ButtonBase onClick={onClick}>\r\n      <FriendSimpleView friend={friend} disabled={disabled} />\r\n    </ButtonBase>\r\n  );\r\n}\r\n\r\nexport default function FriendAddPage({\r\n  allFriends,\r\n  selectedFriends,\r\n  addFriend,\r\n  removeFriend,\r\n  close,\r\n}) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.paper}>\r\n      <MyAppBar onSubmit={close} string=\"Frineds\" />\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"row\"\r\n        flexWrap=\"wrap\"\r\n        style={{ padding: \"1%\" }}\r\n      >\r\n        {allFriends.map((friend) => (\r\n          <FriendSelector\r\n            friend={friend}\r\n            onClick={() =>\r\n              selectedFriends.includes(friend)\r\n                ? removeFriend(friend)\r\n                : addFriend(friend)\r\n            }\r\n            disabled={selectedFriends.includes(friend)}\r\n            key={friend.id}\r\n          />\r\n        ))}\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport { Delete } from \"@material-ui/icons\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function FriendItem({ friend, removeFriend }) {\r\n  return (\r\n    <div style={{ display: \"inline-block\", marginRight: \"10px\", marginBottom: \"10px\" }}>\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"flex-start\"\r\n        flexDirection=\"row\"\r\n        width=\"100%\"\r\n        borderRadius=\"borderRadius\"\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\",\r\n        }}\r\n        mr={2}\r\n        key={friend.id}\r\n      >\r\n        <Box mr={1} mt={1} mb={1} ml={1}>\r\n          <Avatar\r\n            alt={friend.name}\r\n            src={process.env.PUBLIC_URL + friend.picture}\r\n            style={{\r\n              border: \"1.5px solid lightgray\",\r\n              width: \"30px\",\r\n              height: \"30px\",\r\n            }}\r\n          />\r\n        </Box>\r\n        <Box mt={1} mb={1} mr={1}>\r\n          <Typography variant=\"body2\" color=\"textPrimary\">\r\n            {friend.name}\r\n          </Typography>\r\n        </Box>\r\n        <Box>\r\n          <IconButton\r\n            edge=\"end\"\r\n            aria-label=\"delete\"\r\n            onClick={() => removeFriend(friend)}\r\n          >\r\n            <Delete />\r\n          </IconButton>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n    // <ListItem key={friend.id}>\r\n    //   <ListItemAvatar>\r\n    //     <Avatar\r\n    //       alt={friend.name}\r\n    //       src={process.env.PUBLIC_URL + friend.picture}\r\n    //       style={{\r\n    //         border: \"2px solid lightgray\",\r\n    //         width: \"30px\",\r\n    //         height: \"30px\",\r\n    //       }}\r\n    //     />{\" \"}\r\n    //   </ListItemAvatar>\r\n    //   <ListItemText primary={friend.name} />\r\n    //   <ListItemSecondaryAction>\r\n    //     <IconButton\r\n    //       edge=\"end\"\r\n    //       aria-label=\"delete\"\r\n    //       onClick={() => removeFriend(friend)}\r\n    //     >\r\n    //       <Delete />\r\n    //     </IconButton>\r\n    //   </ListItemSecondaryAction>\r\n    // </ListItem>\r\n  );\r\n}\r\n","// import theme from \"./HashtagSelector.css\";\r\nimport \"./HashtagSelector.css\"\r\n\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { defaultTheme } from 'react-autosuggest/dist/theme';\r\n\r\nimport React from 'react';\r\n\r\nfunction escapeRegexCharacters(str) {\r\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\n\r\nconst getSuggestionValue = suggestion => {\r\n  return suggestion\r\n};\r\n\r\nexport default function HashtagSelector({handleSubmit, hashtags}) {\r\n  const [value, setValue] = React.useState('')\r\n  const [suggestions, setSuggestions] = React.useState([])\r\n\r\n  const getSuggestions = value => {\r\n  if (value.length === 0) return hashtags\r\n  const escapedValue = escapeRegexCharacters(value.trim());\r\n  const regex = new RegExp('^' + escapedValue, 'i');\r\n  return hashtags.filter(hashtag => regex.test(hashtag));\r\n};\r\n\r\n\r\n  const onChange = (event, { newValue }) => {\r\n    setValue(newValue)\r\n  };\r\n\r\n  const onSuggestionsFetchRequested = ({ value, reason }) => {\r\n    if (reason === 'suggestion-selected') {\r\n      handleSubmit(value)\r\n      setValue('')\r\n      setSuggestions(hashtags.filter(h => h !== value))\r\n      return;\r\n    }\r\n    setSuggestions(getSuggestions(value))\r\n  };\r\n\r\n  const onSuggestionsClearRequested = () => {\r\n    setSuggestions([])\r\n  };\r\n\r\n  const renderSuggestion = suggestion => (\r\n    <div>\r\n      {suggestion}\r\n    </div>\r\n  );\r\n\r\n  const handleSubmitEnter = (e) => {\r\n        e.preventDefault()\r\n        handleSubmit(value)\r\n        setSuggestions(hashtags.filter(h => h !== value))\r\n        setValue('')\r\n  }\r\n\r\n  const renderInputComponent = inputProps => \r\n    <form className=\"inputContainer\" onSubmit={handleSubmitEnter}>\r\n      <input {...inputProps} />\r\n    </form>\r\n  \r\n  const inputProps = {\r\n    placeholder: '+ New Hashtag',\r\n    value,\r\n    onChange\r\n  };\r\n\r\n\r\n    return (\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={onSuggestionsClearRequested}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        inputProps={inputProps}\r\n        renderInputComponent={renderInputComponent}\r\n        highlightFirstSuggestion={true}\r\n        alwaysRenderSuggestions={true}\r\n        // theme={{\r\n        //   ...defaultTheme,\r\n        //   ...\r\n        //   {\r\n        //     container: {\r\n        //     //   ...defaultTheme.container,\r\n        //       display: 'visible',\r\n        //       width: '340px',\r\n        //     },\r\n        //     //more overrides\r\n        //   }\r\n        // }}\r\n      />\r\n    );\r\n}","import { formatDistance, formatTime } from \"../../util/format\";\r\nimport { getIconComponent, hashtagsDB } from \"../../util/icon\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FriendItem from \"./FriendItem\";\r\nimport HashtagSelector from \"./HashtagSelector\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PictureList from \"./PictureList\";\r\nimport React from \"react\";\r\nimport StaticMap from \"../home/StaticMap\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    \"& > *\": {\r\n      // margin: theme.spacing(1),\r\n      marginBottom: \"10px\",\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  page: {\r\n    position: \"relative\",\r\n    // maxWidth: \"550px\",\r\n    margin: \"0 auto\",\r\n    // border: \"solid 1px blue\",\r\n  },\r\n  verticalAlign: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    display: \"inline-block\",\r\n  },\r\n  header: {\r\n    position: \"relative\",\r\n    height: \"49px\",\r\n    fontSize: \"30px\",\r\n    fontWeight: \"bold\",\r\n    borderBottom: \"solid 1px black\",\r\n    textAlign: \"center\",\r\n  },\r\n  content: {\r\n    position: \"relative\",\r\n    height: \"calc(100vh - 130px)\",\r\n    overflowY: \"scroll\",\r\n    padding: \"10px\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n\r\n  hashtagGroup: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n\r\n  picture: {},\r\n\r\n  title: {\r\n    color: theme.palette.primary.light,\r\n  },\r\n  titleBar: {\r\n    background:\r\n      \"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\",\r\n  },\r\n\r\n  textField: {\r\n    marginTop: \"10px\",\r\n    flexGrow: 1,\r\n  },\r\n  addButton: {\r\n    border: \"solid 1px lightgray\",\r\n    marginLeft: \"10px\",\r\n    display: \"inline-block\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  submitButton: {\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n    // border: \"solid 1px black\",\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    backgroundColor: \"#4BA9FF\",\r\n    borderRadius: \"10px\",\r\n    padding: \"10px\",\r\n    marginTop: \"10px\",\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nfunction showWeather(weather) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"inline-block\",\r\n        width: \"calc(100% - 30px)\",\r\n        backgroundColor: \"lightblue\",\r\n        borderRadius: \"5px\",\r\n        padding: \"10px\",\r\n        height: \"100px\",\r\n        verticalAlign: \"top\",\r\n        marginRight: \"10px\",\r\n      }}\r\n    >\r\n      {weather}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction weatherIcon(weather) {\r\n  return (\r\n    <div style={{ display: \"inline-block\", verticalAlign: \"top\" }}>\r\n      {getIconComponent(weather)}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction contentSuggestion(text) {\r\n  const length = text.length;\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"calc(100% - 20px)\",\r\n        // border: \"solid 1px lightgray\",\r\n        borderRadius: \"5px\",\r\n        padding: \"5px 10px\",\r\n        boxShadow: \"0px 1.43351px 2.86702px rgba(0, 0, 0, 0.25)\",\r\n        marginBottom: \"10px\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"inline-block\",\r\n          backgroundColor: \"pink\",\r\n          color: \"white\",\r\n          width: \"15px\",\r\n          height: \"15px\",\r\n          textAlign: \"center\",\r\n          padding: \"3px\",\r\n          fontWeight: \"bold\",\r\n          fontSize: \"14px\",\r\n          borderRadius: \"20px\",\r\n          marginRight: \"10px\",\r\n          // verticalAlign: \"top\",\r\n        }}\r\n      >\r\n        {text[length - 1]}\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"inline-block\",\r\n          width: \"calc(100% - 31px)\",\r\n          // border: \"solid 1px lightgray\",\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const formatTime = (time) => {\r\n//   const intTime = parseInt(time);\r\n//   const getSeconds = `0${intTime % 60}`.slice(-2);\r\n//   const minutes = `${Math.floor(intTime / 60)}`;\r\n//   const getMinutes = `0${minutes % 60}`.slice(-2);\r\n//   const getHours = `0${Math.floor(intTime / 3600)}`.slice(-2);\r\n//   return `${getHours} : ${getMinutes} : ${getSeconds}`;\r\n// };\r\n\r\nexport default function JournalForm({\r\n  journal,\r\n  onSubmit,\r\n  openFriendAddPage,\r\n  friends,\r\n  removeFriend,\r\n  addFriend,\r\n  pictures,\r\n  removePicture,\r\n  openPictureSelector,\r\n}) {\r\n  const classes = useStyles();\r\n  console.log(journal);\r\n  const [title, setTitle] = React.useState(journal.title);\r\n  const [desc, setDesc] = React.useState(journal.desc);\r\n  const [hashtags, setHashtags] = React.useState(journal.hashtags);\r\n\r\n  const handleTitleChange = (event) => {\r\n    setTitle(event.target.value);\r\n  };\r\n\r\n  const handleDescChange = (event) => {\r\n    setDesc(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit({\r\n      title,\r\n      desc,\r\n      hashtags,\r\n    });\r\n  };\r\n\r\n  const addHashtag = (hashtag) => {\r\n    if (!hashtags.includes(hashtag)) setHashtags([...hashtags, hashtag]);\r\n  };\r\n\r\n  const removeHashtag = (hashtag) => {\r\n    setHashtags(hashtags.filter((item) => item !== hashtag));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.page}>\r\n      <div className={classes.header}>\r\n        <div className={classes.verticalAlign}>Journal</div>\r\n      </div>\r\n\r\n      <div className={classes.content}>\r\n        <div className={classes.root} noValidate autoComplete=\"off\">\r\n          <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n            <IconButton\r\n              aria-label=\"delete\"\r\n              onClick={() => {\r\n                setTitle(\"\");\r\n              }}\r\n              className={classes.title}\r\n            >\r\n              <CancelIcon />\r\n            </IconButton>\r\n            <TextField\r\n              onChange={handleTitleChange}\r\n              id=\"title\"\r\n              label=\"Title\"\r\n              variant=\"outlined\"\r\n              value={title}\r\n              defaultValue={journal.title}\r\n              className={classes.textField}\r\n            />\r\n          </Box>\r\n\r\n          <div>\r\n            <div style={{ position: \"absolute\", right: \"10px\" }}>\r\n              <Typography>\r\n                {weatherIcon(journal.weather)}{\" \"}\r\n                <div style={{ display: \"inline-block\", margin: \"5px\" }}>\r\n                  {journal.date}\r\n                </div>\r\n              </Typography>\r\n              {/* <Typography>{journal.weather}</Typography> */}\r\n              {/* <Typography style={{ marginBottom: \"10px\" }}>Period: {journal.startTime.slice(undefined, journal.startTime.length - 4)} ~ {journal.endTime.slice(undefined, journal.endTime.length - 4)}</Typography> */}\r\n            </div>\r\n\r\n            <Typography style={{ marginBottom: \"10px\" }}>Records</Typography>\r\n            <StaticMap route={journal.route} />\r\n\r\n            {/* <div style={{ margin: \"10px 0\" }}>\r\n              <div style={{ display: \"inline-block\", width: \"calc(100% - 180px)\", height: \"70px\", backgroundColor: \"green\", verticalAlign: \"middle\", marginRight: \"10px\", padding: \"10px\" }}>\r\n                Show Metaphor {journal.metaphors.tree} trees\r\n              </div>\r\n\r\n              <div style={{ display: \"inline-block\", width: \"150px\" }}>\r\n                <Typography style={{ marginBottom: \"10px\" }}>Distance: {formatDistance(journal.distance)}</Typography>\r\n                <Typography style={{ marginBottom: \"10px\" }}>Time: {formatTime(journal.time)}</Typography>\r\n              </div>\r\n            </div> */}\r\n\r\n            <div style={{ margin: \"10px 0\" }}>\r\n              <div style={{ display: \"inline-block\", width: \"50%\" }}>\r\n                <Typography style={{ marginBottom: \"10px\" }}>\r\n                  Distance: {formatDistance(journal.distance)}\r\n                </Typography>\r\n              </div>\r\n              <div style={{ display: \"inline-block\", width: \"50%\" }}>\r\n                <Typography style={{ marginBottom: \"10px\" }}>\r\n                  Time: {formatTime(journal.time)}\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Typography\r\n                style={{ marginBottom: \"10px\", display: \"inline-block\" }}\r\n              >\r\n                Friends\r\n              </Typography>\r\n              <Button onClick={openFriendAddPage} className={classes.addButton}>\r\n                +\r\n              </Button>\r\n              <div>\r\n                {/* <List dense> */}\r\n                {friends.map((friend) => (\r\n                  <FriendItem\r\n                    key={friend.id}\r\n                    friend={friend}\r\n                    removeFriend={removeFriend}\r\n                    style={{ display: \"inline-block\" }}\r\n                  />\r\n                ))}\r\n                {/* <ListItem> */}\r\n                {/* <Button onClick={openFriendAddPage} style={{ height: \"50px\", marginTop: \"-15px\" }}>+</Button> */}\r\n                {/* </ListItem> */}\r\n                {/* </List> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 내용 suggestion */}\r\n          <div>\r\n            {contentSuggestion(\"What did you do at Boramae Park?\")}\r\n            {contentSuggestion(\"You rode a bike with Maengoo!\")}\r\n          </div>\r\n\r\n          <TextField\r\n            onChange={handleDescChange}\r\n            id=\"desc\"\r\n            label=\"Description\"\r\n            variant=\"outlined\"\r\n            multiline\r\n            defaultValue={journal.desc}\r\n            rows={5}\r\n          />\r\n\r\n          <div>\r\n            <Typography\r\n              style={{ marginBottom: \"10px\", display: \"inline-block\" }}\r\n            >\r\n              Pictures\r\n            </Typography>\r\n            <Button onClick={openPictureSelector} className={classes.addButton}>\r\n              +\r\n            </Button>\r\n\r\n            <PictureList\r\n              pictures={pictures}\r\n              removePicture={removePicture}\r\n              isEditing\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.hashtagGroup}>\r\n            {hashtags.map((hashtag) => (\r\n              <div key={hashtag}>\r\n                #{hashtag}\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  onClick={() => removeHashtag(hashtag)}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </div>\r\n            ))}\r\n            <HashtagSelector\r\n              handleSubmit={addHashtag}\r\n              hashtags={hashtagsDB.filter(\r\n                (hashtag) => !hashtags.includes(hashtag)\r\n              )}\r\n            />\r\n          </div>\r\n\r\n          <Button\r\n            onClick={handleSubmit}\r\n            component={Link}\r\n            className={classes.submitButton}\r\n            to=\"/biky/journal\"\r\n          >\r\n            Save\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { allPhotos, getRandomPhoto } from '../../data/photo'\r\n\r\nimport GridList from \"@material-ui/core/GridList\";\r\nimport GridListTile from \"@material-ui/core/GridListTile\";\r\nimport Loading from '../Loading'\r\nimport MyAppBar from \"./AppBar\";\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    top: `50%`,\r\n    left: `50%`,\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    transform: `translate(-50%, -50%)`,\r\n    // maxHeight: \"80vh\",\r\n    // overflowY: \"scroll\",\r\n    overflowX: 'hidden'\r\n  },\r\n\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n\r\n  selected: {\r\n    border: \"2px solid\",\r\n    borderColor: theme.palette.primary.main,\r\n  },\r\n\r\n  unselected: { \r\n    backgroundColor: \"white\", opacity: 0.6,\r\n  },\r\n\r\n  gridList: {\r\n    padding: '2%',\r\n  },\r\n}));\r\n\r\nexport default function PictureSelector({ pictures, onSubmit }) {\r\n  const classes = useStyles();\r\n  const [selected, setSelected] = React.useState(pictures);\r\n  console.log(pictures);\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit(selected);\r\n  };\r\n\r\n  const togglePic = (pic) => {\r\n    if (selected.includes(pic))\r\n      setSelected(selected.filter((item) => item !== pic));\r\n    else setSelected([...selected, pic]);\r\n  };\r\n\r\n  if (!pictures) return <Loading/>;\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <MyAppBar onSubmit={handleSubmit} string=\"Photo\" />\r\n\r\n      <GridList\r\n        cellHeight={200}\r\n        className={classes.gridList}\r\n        cols={3}\r\n      >\r\n        {allPhotos.map((pic) => (\r\n          <GridListTile\r\n            key={pic}\r\n            cols={1}\r\n            onClick={() => togglePic(pic)}\r\n            className={\r\n              selected.includes(pic) ? classes.selected : classes.unselected\r\n            }\r\n          >\r\n            <img src={process.env.PUBLIC_URL + pic} alt=\"bike\" />\r\n          </GridListTile>\r\n        ))}\r\n      </GridList>\r\n    </div>\r\n  );\r\n}\r\n","import dayjs from \"dayjs\";\r\n\r\nconst initJournals =\r\n  [\r\n    {\r\n      id: \"1\",\r\n      title: '제목1', desc: '내용1',\r\n      friends: ['1'],\r\n      hashtags: ['happy'],\r\n      photos: [\"/images/photo1.jpg\"],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 100,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: [\r\n        [126.91462625155943, 37.49468356316903],\r\n        [126.91466456325881, 37.49457548665683],\r\n        [126.91467809668889, 37.4945003236157],\r\n        [126.91469501347642, 37.494409948906565],\r\n        [126.91470290797731, 37.49436968291182],\r\n        [126.91484578727844, 37.49369203740101],\r\n        [126.91634996665469, 37.493628630563954],\r\n        [126.91635767048872, 37.494331551409644],\r\n        [126.91753635713798, 37.49434377606901],\r\n        [126.9184608172214, 37.49440489929814],\r\n        [126.91876897058253, 37.49367752962703],\r\n      ],\r\n    },\r\n\r\n    {\r\n      id: \"2\",\r\n      title: '제목2', desc: '내용2',\r\n      friends: ['1', '0'],\r\n      hashtags: ['happy', \"exited\"],\r\n      photos: ['/images/photo2.jpg'],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 200,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(1, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n    },\r\n\r\n    {\r\n      id: \"3\",\r\n      title: '제목3', desc: '내용3',\r\n      friends: [],\r\n      hashtags: ['sad'],\r\n      photos: ['/images/photo3.jpg'],\r\n      emojis: [\"sad\"],\r\n      distance: 300,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n\r\n    },\r\n\r\n    {\r\n      id: \"4\",\r\n      title: '제목4', desc: '내용4',\r\n      friends: ['1'],\r\n      hashtags: ['happy'],\r\n      photos: ['/images/photo1.jpg', '/images/photo2.jpg'],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 20,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n    },\r\n\r\n    {\r\n      id: \"5\",\r\n      title: '제목5', desc: '내용5',\r\n      friends: ['1'],\r\n      hashtags: ['happy'],\r\n      photos: [],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 20,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'),\r\n      weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n    },\r\n  ]\r\n\r\nexport const mockJournal = {\r\n  // 수정 가능\r\n  title: \"제목1\",\r\n  desc: \"내용1\",\r\n  friends: [\"1\"],\r\n  hashtags: [\"happy\"],\r\n  photos: [\"../\"],\r\n\r\n  // 수정 불가능\r\n  emojis: [\"happy\", \"exited\"],\r\n  distance: 100,\r\n  startTime: dayjs(),\r\n  endTime: dayjs().add(2, \"hour\"),\r\n  weather: \"sunny\",\r\n  metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n  map: \"../\",\r\n  route: [\r\n    [126.91462625155943, 37.49468356316903],\r\n    [126.91466456325881, 37.49457548665683],\r\n    [126.91467809668889, 37.4945003236157],\r\n    [126.91469501347642, 37.494409948906565],\r\n    [126.91470290797731, 37.49436968291182],\r\n    [126.91484578727844, 37.49369203740101],\r\n    [126.91634996665469, 37.493628630563954],\r\n    [126.91635767048872, 37.494331551409644],\r\n    [126.91753635713798, 37.49434377606901],\r\n    [126.9184608172214, 37.49440489929814],\r\n    [126.91876897058253, 37.49367752962703],\r\n  ],\r\n};\r\n\r\nexport default initJournals;\r\n","// 방법1\r\n// create인 경우, edit인 경우 이동\r\n// 마지막 라우트의 id를 읽어서 요청을 보냄\r\n\r\nimport { nullToList, toList } from \"../../util/format\";\r\n\r\nimport FriendAddPage from \"../../component/journal/FriendAddPage\";\r\nimport JournalForm from \"../../component/journal/JournalForm\";\r\nimport Loading from \"../../component/Loading\";\r\nimport { Modal } from \"@material-ui/core\";\r\nimport PictureSelector from \"../../component/journal/PictureSelector\";\r\nimport React from \"react\";\r\nimport { mockJournal } from \"../../data/journal\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction getFriends(ids, allFriends) {\r\n  return allFriends.filter((friend) => ids.includes(friend.id));\r\n}\r\n\r\nfunction getJournal(jid, initJournals) {\r\n  const j = initJournals[String(jid)];\r\n  // const j = initJournals.find(j => String(j.id) === String(jid))\r\n  if (!j) {\r\n    console.log(`No such journal: ${jid}`);\r\n    return mockJournal;\r\n  }\r\n  console.log(j);\r\n  return j;\r\n}\r\n\r\nexport default function JournalEditor({ journalRef, friendRef }) {\r\n  // 라우트 params 불러오기\r\n  // create인 경우 vs. edit인 경우\r\n  // const id = 1;\r\n  // var journalRef = db.ref(\"/\" + user + \"/journals\");\r\n  // var friendRef = db.ref(\"/\" + user + \"/friends\");\r\n  let { id } = useParams();\r\n  const [journal, setJournal] = React.useState(mockJournal);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [allFriends, setAllFriends] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    journalRef.once(\"value\", (snapshot) => {\r\n      const journalData = snapshot.val();\r\n      console.log(journalData);\r\n      const j = getJournal(id, journalData);\r\n      friendRef.once(\"value\", (snapshot) => {\r\n        const friendData = snapshot.val();\r\n        console.log(friendData);\r\n        let allFriends = toList(friendData);\r\n        let friends = nullToList(j.friends);\r\n        setFriends(getFriends(friends, allFriends));\r\n        setAllFriends(allFriends);\r\n        setJournal(j);\r\n        setPictures(nullToList(j.photos));\r\n        setLoading(false);\r\n      });\r\n    });\r\n  }, [journalRef, id, friendRef]);\r\n\r\n  const onSubmit = ({ title, desc, hashtags }) => {\r\n    const newJournal = {\r\n      ...journal,\r\n      title,\r\n      desc,\r\n      friends: friends.map((friend) => friend.id),\r\n      hashtags,\r\n      photos: pictures,\r\n    };\r\n\r\n    // id 에 해당하는 파이어베이스 데이터를 newJournal로 업데이트\r\n    journalRef.child(journal.id).set(newJournal);\r\n\r\n    // 새로운 저널일 경우 처리해주기\r\n  };\r\n  const [friendPageOpen, setFriendAddPageOpen] = React.useState(false);\r\n  const [pictureSelectorOpen, setPictureSelectorOpen] = React.useState(false);\r\n  const [pictures, setPictures] = React.useState([]);\r\n  const [friends, setFriends] = React.useState([]);\r\n\r\n  const removeFriend = (friend) => {\r\n    setFriends(friends.filter((item) => item !== friend));\r\n  };\r\n\r\n  const addFriend = (friend) => {\r\n    if (friends.includes(friend)) return;\r\n    setFriends([...friends, friend]);\r\n  };\r\n\r\n  const onSubmitPictures = (selected) => {\r\n    setPictures(selected);\r\n    setPictureSelectorOpen(false);\r\n  };\r\n\r\n  const removePicture = (pic) => {\r\n    setPictures(pictures.filter((item) => item !== pic));\r\n  };\r\n\r\n  if (loading) return <Loading/>;\r\n  \r\n  const MyPictureSelector = React.forwardRef((props, ref) => (\r\n    <PictureSelector\r\n      pictures={pictures}\r\n      onSubmit={onSubmitPictures}\r\n      ref={ref}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <JournalForm\r\n        journal={journal}\r\n        onSubmit={onSubmit}\r\n        openFriendAddPage={() => setFriendAddPageOpen(true)}\r\n        friends={friends}\r\n        removeFriend={removeFriend}\r\n        addFriend={addFriend}\r\n        openPictureSelector={() => setPictureSelectorOpen(true)}\r\n        pictures={pictures}\r\n        removePicture={removePicture}\r\n      />\r\n      <Modal open={friendPageOpen} onClose={() => setFriendAddPageOpen(false)}>\r\n        <FriendAddPage\r\n          allFriends={allFriends}\r\n          selectedFriends={friends}\r\n          addFriend={addFriend}\r\n          removeFriend={removeFriend}\r\n          close={() => setFriendAddPageOpen(false)}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal\r\n        open={pictureSelectorOpen}\r\n        onClose={() => setPictureSelectorOpen(false)}\r\n      >\r\n        <MyPictureSelector />\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import Avatar from \"../../component/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport FilterIcon from \"@material-ui/icons/FilterList\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport JournalDetail from \"../../component/journal/JournalDetail\";\r\nimport JournalList from \"../../component/journal/JournalList\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Profile from '../Profile'\r\nimport React from \"react\";\r\nimport SearchBar from \"../../component/common/SearchBar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  page: {\r\n    position: \"relative\",\r\n    // maxWidth: \"550px\",\r\n    margin: \"0 auto\",\r\n    // border: \"solid 1px blue\",\r\n  },\r\n  verticalAlign: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    display: \"inline-block\",\r\n  },\r\n  header: {\r\n    position: \"relative\",\r\n    height: \"49px\",\r\n    fontSize: \"30px\",\r\n    fontWeight: \"bold\",\r\n    borderBottom: \"solid 1px black\",\r\n    textAlign: \"center\",\r\n  },\r\n  avatar: {\r\n    position: \"relative\",\r\n    height: \"50px\",\r\n    // border: \"solid 1px black\",\r\n    borderBottom: \"solid 1px black\",\r\n  },\r\n  content: {\r\n    position: \"relative\",\r\n    height: \"calc(100vh - 160px)\",\r\n    overflow: \"scroll\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n});\r\n\r\nfunction getFriendsByJournal(journals, flist) {\r\n  let friendsByJournal = {};\r\n  for (let i = 0; i < journals.length; i++) {\r\n    let j = journals[i];\r\n    friendsByJournal[j.id] = flist.filter(\r\n      (f) => j.friends && j.friends.includes(f.id)\r\n    );\r\n  }\r\n\r\n  return friendsByJournal;\r\n}\r\n\r\nexport default function JournalMain({ journalRef, friendRef }) {\r\n  // var journalRef = db.ref(\"/\" + user + \"/journals\");\r\n  // var friendRef = db.ref(\"/\" + user + \"/friends\");\r\n  const classes = useStyles();\r\n  // firebase subscribe를 해서 journal document가 바뀌면 다시 다운받도록 함\r\n  const [journals, setJournals] = React.useState([]);\r\n  const [friendsByJournal, setFriendsByJournal] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    journalRef.on(\"value\", (snapshot) => {\r\n      const journalData = snapshot.val();\r\n      console.log(journalData);\r\n      let journalList = journalData ? Object.values(journalData) : [];\r\n      friendRef.once(\"value\", (snapshot) => {\r\n        let friendData = snapshot.val();\r\n        let friendList = friendData ? Object.values(friendData) : [];\r\n        setJournals(journalList);\r\n        setFriendsByJournal(getFriendsByJournal(journalList, friendList));\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const [selected, setSelected] = React.useState(null);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = (journal) => {\r\n    setOpen(true);\r\n    setSelected(journal);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelected(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.page}>\r\n      <div className={classes.header}>\r\n        <div className={classes.verticalAlign}>Journal</div>\r\n      </div>\r\n      \r\n      <Profile/>\r\n\r\n\r\n      <div className={classes.content}>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n            padding: \"20px\",\r\n            borderBottom: \"solid 1px black\",\r\n          }}\r\n        >\r\n          <SearchBar />\r\n          <IconButton>\r\n            <FilterListIcon />\r\n          </IconButton>\r\n        </div>\r\n\r\n        <div>\r\n          <JournalList\r\n            journals={journals}\r\n            openJournal={handleOpen}\r\n            friendsByJournal={friendsByJournal}\r\n          />\r\n\r\n          <Modal open={open} onClose={handleClose}>\r\n            <JournalDetail\r\n              journal={selected}\r\n              friends={selected ? friendsByJournal[selected.id] : null}\r\n              handleClose={handleClose}\r\n            />\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { styled } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst logo = \"/images/logo.png\";\r\n\r\nconst frequest = [\r\n  {\r\n    id: \"r0\",\r\n    picture: \"/images/cactus.png\",\r\n    name: \"mangoo\",\r\n  },\r\n  {\r\n    id: \"r1\",\r\n    picture: \"/images/cat0.jpg\",\r\n    name: \"junho\",\r\n  },\r\n];\r\n\r\nconst friends = [\r\n  {\r\n    id: \"f0\",\r\n    picture: \"/images/cat1.jpg\",\r\n    name: \"yuri\",\r\n    total_intimacy: 60.2,\r\n    spent_time: 100.3,\r\n    distance: 50.2,\r\n  },\r\n  {\r\n    id: \"f1\",\r\n    picture: \"/images/sky0.jpg\",\r\n    name: \"nayoung\",\r\n    total_intimacy: 84.2,\r\n    spent_time: 150.3,\r\n    distance: 30.2,\r\n  },\r\n  {\r\n    id: \"f2\",\r\n    picture: \"/images/cat2.jpg\",\r\n    name: \"sanga\",\r\n    total_intimacy: 44.2,\r\n    spent_time: 150.3,\r\n    distance: 30.2,\r\n  },\r\n];\r\n\r\nconst journal = {\r\n  date: \"2021. 05. 25\",\r\n  desc: \"I rode 0.7 km at Boramae Park!\",\r\n  distance: 0.7,\r\n  emojis: [\"happy\", \"exited\"],\r\n  endTime: \"Tue, 25 May 2021 12:17:15 GMT\",\r\n  hashtags: [\"sad\"],\r\n  createdAt: new Date().toString(),\r\n  id: \"j0\",\r\n  metaphors: {\r\n    burger: 0.06999999999999999,\r\n    taxi: 700,\r\n    tree: 0.034999999999999996,\r\n  },\r\n  photos: [\"/images/photo1.jpg\", \"/images/photo2.jpg\"],\r\n  route: [\r\n    [126.91468074800363, 37.49470666236267],\r\n    [126.91474014452083, 37.49415293252939],\r\n    [126.91481439016731, 37.493646325043095],\r\n    [126.91561624314943, 37.493646325043095],\r\n    [126.91635869961434, 37.493669888258175],\r\n    [126.91641809613154, 37.4943178737601],\r\n    [126.91747238431171, 37.494341436763335],\r\n    [126.91845242684539, 37.49436499975911],\r\n  ],\r\n  startTime: \"Tue, 25 May 2021 10:03:55 GMT\",\r\n  time: 133.33333333333334,\r\n  title: \"To the moon 🚀\",\r\n  weather: \"rainy\",\r\n};\r\n\r\nconst MyButton = styled(Button)({\r\n  background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\r\n  border: 0,\r\n  borderRadius: 3,\r\n  boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\r\n  color: \"white\",\r\n  width: \"60vw\",\r\n  height: \"40px\",\r\n  padding: \"0 30px\",\r\n  marginBottom: \"10px\",\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  background: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    background: 'linear-gradient(0deg, #FFEDE8, #FFFFF5)',\r\n    backgroundRepeat: 'no-repeat',\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  grid: {\r\n    margin: \"auto\",\r\n  },\r\n  textField: {\r\n    width: \"60vw\",\r\n    background: \"#FFFFFF\",\r\n    marginBottom: \"2vh\",\r\n  },\r\n  submit: {\r\n    marginTop: \"3vh\",\r\n  },\r\n  login: {\r\n    marginBottom: \"2vh\",\r\n  },\r\n  logo: {\r\n    paddingTop: theme.spacing(12),\r\n    paddingBottom: theme.spacing(15),\r\n  },\r\n\r\n  form: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nfunction setDB(db, user) {\r\n  const ref = db.ref(\"/\" + user);\r\n  ref.once(\"value\").then(function (snapshot) {\r\n    var existed = snapshot.hasChild(\"journals\");\r\n    if (!existed) {\r\n      const frequestRef = ref.child(\"frequests\");\r\n      const friendRef = ref.child(\"friends\");\r\n      const journalRef = ref.child(\"journals\");\r\n      for (var i = 0; i < frequest.length; i++) {\r\n        frequestRef.child(frequest[i].id).set(frequest[i]);\r\n      }\r\n      for (var i = 0; i < friends.length; i++) {\r\n        friendRef.child(friends[i].id).set(friends[i]);\r\n      }\r\n      journalRef.child(\"j0\").set(journal);\r\n    }\r\n  });\r\n}\r\n\r\nexport default function Login({\r\n  db,\r\n  setJournalRef,\r\n  setFriendRef,\r\n  setFrequestsRef,\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const [val, setVal] = useState({\r\n    id: \"id123\",\r\n    password: \"password123\",\r\n  });\r\n\r\n  let history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (val.id.length === 0) {\r\n      alert(\"You should enter ID!\");\r\n      return;\r\n    }\r\n\r\n    if (val.password.length === 0) {\r\n      alert(\"You should enter password!\");\r\n      return;\r\n    }\r\n\r\n    // alert(`아이디: ${val.id} 비밀번호: ${val.password}`)\r\n    setJournalRef(val.id);\r\n    setFriendRef(val.id);\r\n    setFrequestsRef(val.id);\r\n    setDB(db, val.id);\r\n    history.push(`/biky/home`);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setVal({\r\n      ...val,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.background}>\r\n      {/* <Box className={classes.root}> */}\r\n      <Grid container className={classes.logo} justify=\"center\">\r\n        <img src={process.env.PUBLIC_URL + logo} alt=\"logo\" />\r\n      </Grid>\r\n\r\n      <div className={classes.form}>\r\n        <Typography variant=\"h5\" className={classes.login}>\r\n          Login\r\n        </Typography>\r\n\r\n        <TextField\r\n          type=\"id\"\r\n          name=\"id\"\r\n          required\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          onChange={onChange}\r\n          placeholder=\"Enter ID\"\r\n          className={classes.textField}\r\n        />\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            type=\"password\"\r\n            name=\"password\"\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            onChange={onChange}\r\n            placeholder=\"Enter password\"\r\n            className={classes.textField}\r\n          />\r\n        </form>\r\n\r\n        <MyButton onClick={handleSubmit} className={classes.submit}>\r\n          Submit\r\n        </MyButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport Container from '@material-ui/core/Container'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport React from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { spacing } from '@material-ui/system'\r\nimport { styled } from '@material-ui/core/styles'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst logo = '/images/logo.png'\r\n\r\nconst MyButton = styled(Button)({\r\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n  border: 0,\r\n  borderRadius: 3,\r\n  boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n  color: 'white',\r\n  width: '60%',\r\n  height: '40px',\r\n  padding: '0 30px',\r\n  marginBottom: '10px',\r\n})\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  background: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    background: 'linear-gradient(0deg, #FFEDE8, #FFFFF5)',\r\n    backgroundRepeat: 'no-repeat',\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  logo: {\r\n    paddingTop: theme.spacing(12),\r\n    paddingBottom: theme.spacing(34),\r\n  },\r\n  character: {\r\n    width: '60%',\r\n  },\r\n}))\r\n\r\nexport default function LoginInitial() {\r\n  const classes = useStyles()\r\n  let history = useHistory();\r\n\r\n\r\n  function handleClick() {\r\n    history.push('/biky/login')\r\n  }\r\n\r\n  return (\r\n    <div className={classes.background}>\r\n      <CssBaseline />\r\n      <Grid container className={classes.logo} justify=\"center\">\r\n        <img src={process.env.PUBLIC_URL + logo} alt=\"logo\" />\r\n      </Grid>\r\n      <Grid container alignItems=\"center\" direction=\"column\" spacing={1}>\r\n        <MyButton item onClick={handleClick}>\r\n          Log in\r\n        </MyButton>\r\n        <Typography\r\n          item\r\n          className={classes.character}\r\n          align=\"center\"\r\n          variant=\"body2\"\r\n        >\r\n          Don't have an account? <div onClick={() => alert(\"Please look for next update for sign up!\")}> <b>SIGN UP</b> </div>\r\n        </Typography>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n","import Avatar from \"../component/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { badges } from \"../data/badge\";\r\nimport deciduousTree from \"@iconify-icons/twemoji/deciduous-tree\"; // 나무\r\nimport hamburgerIcon from \"@iconify-icons/twemoji/hamburger\"; // 햄버거\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport oncomingTaxi from \"@iconify-icons/twemoji/oncoming-taxi\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst logo = \"/images/logo.png\";\r\n\r\nconst taxi = \"/images/home/metaphor_taxi.png\";\r\nconst burger = \"/images/home/metaphor_burger.png\";\r\nconst tree = \"/images/home/metaphor_tree.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(2),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n\r\n  badgeBox: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  badge: {\r\n    // position: \"absolute\",\r\n    // margin: \"0 auto\",\r\n    display: \"inline-block\",\r\n    width: \"100%\",\r\n    top: \"100%\",\r\n    // transform: \"translateY(-50%)\"\r\n  },\r\n\r\n  page: {\r\n    position: \"relative\",\r\n    // maxWidth: \"550px\",\r\n    margin: \"0 auto\",\r\n    // border: \"solid 1px blue\",\r\n  },\r\n  verticalAlign: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    display: \"inline-block\",\r\n  },\r\n  header: {\r\n    position: \"relative\",\r\n    height: \"49px\",\r\n    fontSize: \"30px\",\r\n    fontWeight: \"bold\",\r\n    borderBottom: \"solid 1px black\",\r\n    textAlign: \"center\",\r\n  },\r\n  content: {\r\n    position: \"relative\",\r\n    height: \"calc(100vh - 110px)\",\r\n    overflow: \"scroll\",\r\n    // border: 'solid 1px black',\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"20px\",\r\n  },\r\n\r\n  roundBox: {\r\n    boxShadow: \"0px 4px 4px rgba(0, 0, 0, 0.25)\",\r\n    borderRadius: \"5px\",\r\n    padding: \"15px\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  avatar: {\r\n    position: \"relative\",\r\n    display: \"inline-block\",\r\n    textAlign: \"center\",\r\n    // width: '30%',\r\n    width: \"90px\",\r\n    height: \"100%\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  personalInfo: {\r\n    // position: \"absolute\",\r\n    display: \"inline-block\",\r\n    width: \"calc(100% - 90px - 10px)\",\r\n    // border: \"solid 1px black\",\r\n    // top: \"50%\",\r\n    marginLeft: \"10px\",\r\n    // transform: \"translateY(-50%)\",\r\n    lineHeight: \"200%\",\r\n  },\r\n  recordsContainer: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    margin: \"15px 0\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  metaphorContainer: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-around\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  metaphorItem: {\r\n    position: \"relative\",\r\n    display: \"inline-block\",\r\n    width: \"calc(100% / 3)\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n\r\n  badgeBox: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    maxHeight: \"50px\",\r\n    maxWidth: \"50px\",\r\n    overflow: \"hidden\",\r\n  },\r\n  badge: {\r\n    margin: \"auto\",\r\n    display: \"block\",\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    borderRadius: \"50%\",\r\n  },\r\n}));\r\n\r\nfunction ShowMetaphors(image, val) {\r\n  const classes = useStyles();\r\n  var icon_name;\r\n  if (image === \"taxi\") {\r\n    icon_name = oncomingTaxi;\r\n  } else if (image === \"burger\") {\r\n    icon_name = hamburgerIcon;\r\n  } else if (image === \"tree\") {\r\n    icon_name = deciduousTree;\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n      <div style={{ marginRight: 10 }}>\r\n        <Icon style={{ fontSize: 60 }} icon={icon_name} />\r\n      </div>\r\n      <div>{val}</div>\r\n    </div>\r\n    // <div className={classes.metaphorItem} style={{ minWidth: \"130px\" }}>\r\n    //   <Icon style={{ fontSize: 30 }} icon={icon_name} />\r\n\r\n    //   <div\r\n    //     style={{\r\n    //       position: \"absolute\",\r\n    //       display: \"inline-block\",\r\n    //       // border: \"solid 1px black\",\r\n    //       // textAlign: 'center',\r\n    //       width: \"calc(40% - 10px)\",\r\n    //       top: \"50%\",\r\n    //       transform: \"translateY(-50%)\",\r\n    //       marginLeft: \"10px\",\r\n    //     }}\r\n    //   >\r\n    //     <Icon style={{ fontSize: 30 }} icon={hamburgerIcon} />\r\n    //     {val}\r\n    //   </div>\r\n    // </div>\r\n  );\r\n}\r\n\r\nexport default function MyPage({ mainBadge }) {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n\r\n  function handleClick() {\r\n    history.push(\"/biky/badgeDetail\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.page}>\r\n      <div className={classes.header}>\r\n        <div className={classes.verticalAlign}>My Page</div>\r\n      </div>\r\n      <div className={classes.content}>\r\n        <Box p={\"10px\"}>\r\n          <div>\r\n            <Box className={classes.roundBox}>\r\n              <div style={{ position: \"relative\" }}>\r\n                <div className={classes.avatar}>\r\n                  <div>\r\n                    <div\r\n                      style={{ display: \"inline-block\", marginBottom: \"5px\" }}\r\n                    >\r\n                      {/* <Avatar/> */}\r\n                      <img\r\n                        src={process.env.PUBLIC_URL + \"/images/nayeon.png\"}\r\n                        width=\"100%\"\r\n                        alt=\"profile\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  Nayeon Min\r\n                </div>\r\n\r\n                <div\r\n                  className={classes.personalInfo}\r\n                  style={{ whiteSpace: \"nowrap\" }}\r\n                >\r\n                  {/* <Typography> */}\r\n                  Age: 28\r\n                  <br />\r\n                  Gender: Female\r\n                  <br />\r\n                  Job: Freelancer Designer\r\n                  <br />\r\n                  Favorite: Boramae Park\r\n                  <br />\r\n                  {/* </Typography> */}\r\n                </div>\r\n              </div>\r\n            </Box>\r\n\r\n            <Box className={classes.recordsContainer}>\r\n              <Box className={classes.roundBox}>\r\n                <Typography className={classes.bold}>Records</Typography>\r\n\r\n                <Typography\r\n                  style={{ marginBottom: \"10px\", lineHeight: \"200%\" }}\r\n                >\r\n                  You rode a bike for &nbsp;\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"18px\",\r\n                      display: \"inline-block\",\r\n                    }}\r\n                  >\r\n                    1029.9km and 47.7hrs!\r\n                  </div>\r\n                </Typography>\r\n                <div className={classes.metaphorContainer}>\r\n                  {ShowMetaphors(\"taxi\", \"1,031,870\")}\r\n                  {ShowMetaphors(\"burger\", \"103.5\")}\r\n                  {ShowMetaphors(\"tree\", \"51.49\")}\r\n                </div>\r\n              </Box>\r\n            </Box>\r\n\r\n            <div>\r\n              <Paper className={classes.paper} onClick={handleClick}>\r\n                <Typography\r\n                  className={classes.bold}\r\n                  style={{ marginBottom: \"10px\" }}\r\n                >\r\n                  Representative Badge\r\n                </Typography>\r\n\r\n                <Grid container spacing={2}>\r\n                  <Grid item>\r\n                    <Box className={classes.badgeBox}>\r\n                      <img\r\n                        className={classes.badge}\r\n                        src={\r\n                          process.env.PUBLIC_URL + badges[mainBadge].thumbnail\r\n                        }\r\n                        alt=\"대표 뱃지\"\r\n                      />\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs container direction=\"column\" spacing={2}>\r\n                    <Grid item xs>\r\n                      <Typography variant=\"h6\">\r\n                        {badges[mainBadge].title}\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item xs>\r\n                      <Typography variant=\"body2\">\r\n                        {badges[mainBadge].description}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Paper>\r\n            </div>\r\n          </div>\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import BottomNavigation from \"@material-ui/core/BottomNavigation\";\r\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\r\nimport DirectionsBikeIcon from \"@material-ui/icons/DirectionsBike\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: \"100%\",\r\n    height: \"60px\",\r\n    position: \"fixed\",\r\n    bottom: 0,\r\n  },\r\n});\r\n\r\nconst noNavBar = (pathname) => {\r\n  console.log(pathname)\r\n  return (pathname === '/biky' || pathname === '/biky/login' || pathname === '/biky/404')\r\n}\r\n\r\nconst NavBar = () => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(window.location.pathname);\r\n  let history = useHistory();\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  }\r\n\r\n    history.listen((location, action) => {\r\n        setValue(location.pathname)\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        {noNavBar(value) ? null : \r\n    <BottomNavigation\r\n      value={value}\r\n      onChange={handleChange}\r\n      className={classes.root}\r\n    >\r\n      <BottomNavigationAction\r\n        label=\"FRIEND\"\r\n        value=\"/biky/friend\"\r\n        icon={<PeopleIcon />}\r\n        component={Link}\r\n        to=\"/biky/friend\"\r\n      ></BottomNavigationAction>\r\n      <BottomNavigationAction\r\n        label=\"HOME\"\r\n        value=\"/biky/home\"\r\n        icon={<HomeIcon />}\r\n        component={Link}\r\n        to=\"/biky/home\"\r\n      />\r\n      <BottomNavigationAction\r\n        label=\"JOURNAL\"\r\n        value=\"/biky/journal\"\r\n        icon={<DirectionsBikeIcon />}\r\n        component={Link}\r\n        to=\"/biky/journal\"\r\n\r\n      />\r\n    </BottomNavigation>\r\n}\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\nexport default withRouter(NavBar);\r\n","import { Link } from \"react-router-dom\";\n\nexport default function NotFound()\n{\n  return <div style={{    position: 'fixed',\n    top: 0,\n    left: 0,\n    background: 'linear-gradient(0deg, #FFEDE8, #FFFFF5)',\n    backgroundRepeat: 'no-repeat',\n    width: '100%',\n    height: '100%',\n}}>\n  <div style={{position: 'relative', textAlign: \"center\", top: '50%'}}>\n    No such page!\n     Please go to\n    <div style={{marginLeft: 8}}>\n           <Link to=\"/biky\"> login page </Link>\n\n\n  </div>\n    </div>\n  </div>\n}","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\n// console.log(firebaseConfig.databaseURL);\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.database();\r\n\r\nexport default db;\r\n","import \"./App.css\";\r\n\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { green, orange } from \"@material-ui/core/colors\";\r\n\r\nimport BadgeDetail from \"./container/BadgeDetail\";\r\nimport Friends from \"./container/Friends\";\r\nimport Home from \"./container/Home\";\r\nimport JournalEditor from \"./container/journal/JournalEditor\";\r\nimport JournalMain from \"./container/journal/JournalMain\";\r\nimport Login from \"./container/Login\";\r\nimport LoginInitial from \"./container/LoginInitial\";\r\nimport MyPage from \"./container/MyPage\";\r\nimport NavigationBar from \"./component/NavigationBar\";\r\nimport NotFound from \"./NotFound\";\r\nimport React from \"react\";\r\nimport db from \"./firebaseInit\";\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: 'Noto Sans',\r\n    \r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: '#ff85ac',\r\n      light: '#FFEDE8', // primary color\r\n    },\r\n    secondary: {\r\n      main: '#FF8E53',\r\n      light: '#FFF9E8', // secondary color\r\n    },\r\n  },\r\n});\r\n\r\nconst journalRef = \"/nayeon/journals\";\r\nconst frequestRef = \"/nayeon/frequests\";\r\nconst friendRef = \"/nayeon/friends\";\r\n\r\nfunction App() {\r\n  const [mainBadge, setMainBadge] = React.useState(0);\r\n  const [journalRef, setJournalRef] = React.useState(null);\r\n  const [frequestRef, setFrequestsRef] = React.useState(null);\r\n  const [friendRef, setFriendRef] = React.useState(null);\r\n\r\n  console.log(process.env)\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <BrowserRouter>\r\n        <NavigationBar />\r\n        <Switch>\r\n          <Route\r\n            path=\"/biky/home\"\r\n            exact\r\n            render={() =>{\r\n              if (journalRef)\r\n               return <Home journalRef={db.ref(journalRef)} />\r\n              window.location.href = \"/biky\"\r\n              } }//\r\n          />\r\n          <Route\r\n            path=\"/biky/journal\"\r\n            exact\r\n            render={() => {\r\n              if (journalRef && friendRef)\r\n              return (\r\n              <JournalMain\r\n                journalRef={db.ref(journalRef)}\r\n                friendRef={db.ref(friendRef)}\r\n              />)\r\n            window.location.href = \"/biky\"\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/biky/edit/:id\"\r\n            exact\r\n            render={() => {\r\n              if (journalRef && friendRef)\r\n               return <JournalEditor\r\n                journalRef={db.ref(journalRef)}\r\n                friendRef={db.ref(friendRef)}\r\n              />\r\n            window.location.href = \"/biky\"\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/biky/login\"\r\n            exact\r\n            render={() => (\r\n              <Login\r\n                db={db}\r\n                setJournalRef={(name) =>\r\n                  setJournalRef(\"/\" + name + \"/journals\")\r\n                }\r\n                setFriendRef={(name) => setFriendRef(\"/\" + name + \"/friends\")}\r\n                setFrequestsRef={(name) =>\r\n                  setFrequestsRef(\"/\" + name + \"/frequests\")\r\n                }\r\n              />\r\n            )}\r\n          />\r\n          <Route path=\"/biky/\" exact component={LoginInitial} />\r\n          <Route\r\n            path=\"/biky/myPage\"\r\n            exact\r\n            render={() =>{\r\n              if (journalRef)\r\n                return <MyPage mainBadge={mainBadge} />\r\n              window.location.href = \"/biky\"\r\n              }}\r\n          />\r\n          <Route\r\n            path=\"/biky/badgeDetail\"\r\n            exact\r\n            render={() => {\r\n              if (friendRef && journalRef)\r\n              return <BadgeDetail\r\n                changeMainBadge={(id) => setMainBadge(id)}\r\n                mainBadge={mainBadge}\r\n              />\r\n              \r\n              window.location.href = \"/biky\"\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/biky/friend\"\r\n            render={() => {\r\n              if (friendRef && journalRef)\r\n                return <Friends\r\n                  friendRef={db.ref(friendRef)}\r\n                  frequestRef={db.ref(frequestRef)}\r\n                  journalRef={db.ref(journalRef)}\r\n                />\r\n\r\n              window.location.href = \"/biky\"\r\n            }}\r\n          />\r\n\r\n          <Route\r\n            path=\"/biky/404\"\r\n            render={() => <NotFound/>}\r\n          />\r\n          <Redirect from=\"*\" to=\"/biky/404\" />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}