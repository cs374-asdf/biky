{"version":3,"sources":["container/BadgeDetail.js","component/Avatar.js","component/journal/FriendSimpleView.js","component/journal/JournalItem.js","component/journal/PictureList.js","component/home/StaticMap.js","component/journal/JournalDetail.js","component/journal/JournalList.js","component/common/SearchBar.js","component/friend/Frequest.js","util/format.js","component/friend/LinearProgressBar.js","component/friend/FriendItem.js","component/friend/Friends.js","container/Friends.js","component/home/Weather.js","component/home/DustBar.js","component/home/Dust.js","component/home/Distance.js","component/home/Time.js","component/home/Map.js","component/home/StartButton.js","component/home/StopButton.js","component/home/MetaphorContainer.js","component/home/MetaphorTaxi.js","component/home/MetaphorBurger.js","component/home/MetaphorTree.js","component/home/JournalModal.js","container/Home.js","component/journal/FriendAddPage.js","component/journal/FriendItem.js","component/journal/JournalForm.js","component/journal/PictureSelector.js","data/journal.js","container/journal/JournalEditor.js","container/journal/JournalMain.js","container/Login.js","container/LoginInitial.js","container/MyPage.js","component/NavigationBar.js","firebaseInit.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","padding","spacing","paper","badgeBox","width","height","badge","margin","display","maxWidth","maxHeight","eachBadge","buttonBase","arrow","badges","oid","thumbnail","title","description","BadgeDetail","classes","useState","representativeBadge","val","setVal","map","Paper","onClick","value","ButtonBase","className","Grid","container","item","Box","src","process","alt","xs","direction","Typography","variant","align","p","window","location","replace","orange","color","palette","getContrastText","deepOrange","backgroundColor","purple","deepPurple","LetterAvatars","Avatar","component","Link","to","FriendSimpleView","friend","style","alignItems","justifyContent","flexDirection","mb","borderTop","flex","mr","name","picture","border","getDivs","items","getFriends","friends","id","getMetaphors","metaphor","tree","taxi","hamburger","JournalItem","journal","openJournal","console","log","Card","CardHeader","CardContent","desc","hashtags","emojis","distance","weather","hashtagGroup","primary","light","titleBar","background","PictureList","pictures","removePicture","isEditing","GridList","cellHeight","gridList","cols","pic","GridListTile","GridListTileBar","actionIcon","IconButton","aria-label","position","textAlign","StaticMap","props","route","zoom","length","startCoordinates","endCoordinates","mapContainer","useRef","useEffect","current","mapboxgl","Map","center","on","addSource","type","data","addLayer","source","layout","paint","ref","accessToken","modalStyle","top","left","overflow","transform","formatTime","time","dayjs","format","JournalDetail","start","end","photos","startTime","endTime","CardActions","Button","disabled","alert","JournalList","journals","friendsByJournal","journalList","menuButton","marginRight","breakpoints","up","search","borderRadius","shape","fade","common","white","marginLeft","searchIcon","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","SearchBar","InputBase","placeholder","input","inputProps","boxShadow","shadows","mailIcon","ReceivedElement","marginTop","Accordion","expanded","AccordionSummary","minWidth","onAcceptClick","onRejectClick","Frequest","React","open","setOpen","handleClose","body","paddingBottom","frequests","el","Divider","Badge","badgeContent","Modal","onClose","aria-labelledby","aria-describedby","nullToList","list","hours","parseInt","minutes","ProgressStyles","pro_bar","marginBottom","progress_bar_inner","content","backgroundImage","backgroundSize","right","LinearProgressBar","data-value","data-percentage-value","JournalEntry","fontSize","FriendItem","expandIcon","FriendListItemInner","AccordionDetails","spent_time","total_intimacy","FriendList","alignSelf","flist","fillTable","journalsByFriend","page","verticalAlign","header","fontWeight","borderBottom","avatar","Friends","friendRef","frequestRef","journalRef","setFrequests","friendlist","setFriendlist","setJournalsByFriend","snapshot","friendData","once","Object","values","i","f","filter","j","includes","getJournalsByFriend","frequestData","fid","child","remove","newFriend","set","paddingRight","status","float","randomInt","min","max","Math","floor","random","Weather","currentWeather","temperature","bar","slider","DustBar","amount","percentage","Dust","fineDustAmount","fineDustStatus","ultraFineDustAmount","ultraFineDustStatus","Distance","Time","fullRoute","swapColumns","array","newArray","push","index","isRiding","lng","setLng","lat","setLat","slice","setRoute","setCenter","getSource","setData","saveRoute","StartButton","button","text","StopButton","MetaphorContainer","MetaphorTaxi","MetaphorBurger","MetaphorTree","img","modal","overflowY","outline","half","label","JournalModal","closeModal","handleJournal","weatherContainer","measuresContainer","zIndex","measures","buttonContainer","buttonText","startButton","stopButton","Home","setIsRiding","setDistance","setTime","increment","setStartTime","createJournal","key","add","newJournal","toString","metaphors","burger","history","useHistory","intTime","getSeconds","getMinutes","getHours","formatDistance","clearInterval","setInterval","FriendSelector","FriendAddPage","allFriends","selectedFriends","addFriend","removeFriend","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","edge","JournalForm","onSubmit","openFriendAddPage","openPictureSelector","setTitle","setDesc","setHashtags","noValidate","autoComplete","TextField","onChange","event","target","defaultValue","multiline","List","dense","hashtag","removeHashtag","preventDefault","newTag","selected","unselected","allPictures","MyAppBar","AppBar","Toolbar","PictureSelector","setSelected","togglePic","mockJournal","JournalEditor","useParams","setJournal","loading","setLoading","setAllFriends","journalData","jid","initJournals","String","getJournal","objects","setFriends","ids","setPictures","friendPageOpen","setFriendAddPageOpen","pictureSelectorOpen","setPictureSelectorOpen","onSubmitPictures","MyPictureSelector","forwardRef","JournalMain","setJournals","setFriendsByJournal","friendList","getFriendsByJournal","size","startIcon","MyButton","styled","backgroundPosition","backgroundRepeat","bottom","grid","textField","submit","login","logo","paddingTop","Login","password","e","Container","justify","required","fullWidth","character","LoginInitial","CssBaseline","MyPage","fontFamily","bgcolor","mt","LabelBottomNavigation","setValue","BottomNavigation","newValue","BottomNavigationAction","icon","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","db","database","App","path","exact","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.da2be27d.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport ArrowBackIosOutlinedIcon from \"@material-ui/icons/ArrowBackIosOutlined\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst logo = '/images/logo.png'\r\nconst badge1 = '/images/badge1.png'\r\nconst badge2 = '/images/badge2.png'\r\nconst badge3 = '/images/badge3.png'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(2),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  badgeBox: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  badge: {\r\n    margin: \"auto\",\r\n    display: \"block\",\r\n    maxWidth: \"100%\",\r\n    maxHeight: \"100%\",\r\n  },\r\n  eachBadge: {\r\n    margin: theme.spacing(2, 0),\r\n  },\r\n  buttonBase: {\r\n    width: \"100%\",\r\n  },\r\n  arrow: {\r\n    margin: theme.spacing(1, 1),\r\n  },\r\n}));\r\n\r\nconst badges = [\r\n  {\r\n    oid: 0,\r\n    thumbnail: logo,\r\n    title: \"배지 이름0\",\r\n    description: \"배지 설명0\",\r\n  },\r\n  {\r\n    oid: 1,\r\n    thumbnail: badge1,\r\n    title: \"배지 이름1\",\r\n    description: \"배지 설명1\",\r\n  },\r\n  {\r\n    oid: 2,\r\n    thumbnail: badge2,\r\n    title: \"배지 이름2\",\r\n    description: \"배지 설명2\",\r\n  },\r\n  {\r\n    oid: 3,\r\n    thumbnail: badge3,\r\n    title: \"배지 이름3\",\r\n    description: \"배지 설명3\",\r\n  },\r\n];\r\n\r\nexport default function BadgeDetail() {\r\n  const classes = useStyles();\r\n\r\n  const [val, setVal] = useState({\r\n    representativeBadge: 0,\r\n  });\r\n\r\n  function handleClick(value) {\r\n    setVal({\r\n      representativeBadge: value,\r\n    });\r\n  }\r\n\r\n  function backward() {\r\n    window.location.replace(\"/myPage\");\r\n  }\r\n\r\n  const eachBadge = badges.map((badge) => (\r\n    <Paper\r\n      onClick={() => {\r\n        handleClick(badge.oid);\r\n      }}\r\n    >\r\n      <ButtonBase className={classes.buttonBase}>\r\n        <Grid container spacing={2} className={classes.eachBadge}>\r\n          <Grid item>\r\n            <Box className={classes.badgeBox}>\r\n              <img className={classes.badge} src={process.env.PUBLIC_URL + badge.thumbnail} alt={badge.title} />\r\n            </Box>\r\n          </Grid>\r\n\r\n          <Grid item xs container direction=\"column\" spacing={2}>\r\n            <Grid item xs>\r\n              <Typography variant=\"h6\" align=\"left\">\r\n                {badge.title}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs>\r\n              <Typography variant=\"body2\" align=\"left\">\r\n                {badge.description}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </ButtonBase>\r\n    </Paper>\r\n  ));\r\n\r\n  return (\r\n    <Box p={3} height=\"100vh\">\r\n      <ButtonBase>\r\n        <ArrowBackIosOutlinedIcon\r\n          className={classes.arrow}\r\n          onClick={() => {\r\n            backward();\r\n          }}\r\n        ></ArrowBackIosOutlinedIcon>\r\n      </ButtonBase>\r\n\r\n      <div className={classes.root}>\r\n        <Typography>대표 Badge</Typography>\r\n        <Paper className={classes.paper}>\r\n          <Grid container spacing={2}>\r\n            <Grid item>\r\n              <Box className={classes.badgeBox}>\r\n                <img\r\n                  className={classes.badge}\r\n                  src={process.env.PUBLIC_URL + badges[val.representativeBadge].thumbnail}\r\n                  alt=\"대표 뱃지\"\r\n                />\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs container direction=\"column\" spacing={2}>\r\n              <Grid item xs>\r\n                <Typography variant=\"h6\">\r\n                  {badges[val.representativeBadge].title}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs>\r\n                <Typography variant=\"body2\">\r\n                  {badges[val.representativeBadge].description}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </div>\r\n\r\n      <div className={classes.root}>\r\n        <Typography>badge list</Typography>\r\n        {eachBadge}\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n","import { deepOrange, deepPurple } from '@material-ui/core/colors';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      // margin: theme.spacing(1),\r\n    },\r\n  },\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n}));\r\n\r\nexport default function LetterAvatars() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Avatar className={classes.orange}\r\n        component={Link} to=\"/myPage\"\r\n      >N</Avatar>\r\n    </div>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nexport default function FriendSimpleView ({ friend, style }) {\r\n  return (\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"flex-start\"\r\n        flexDirection=\"row\"\r\n        width=\"100%\"\r\n        mb={1}\r\n        style={{ borderTop: \"1px dashed lightgray\" }}\r\n      >\r\n        <Box flex={1} mr={1}>\r\n          <Avatar\r\n            alt={friend.name}\r\n            src={process.env.PUBLIC_URL + friend.picture}\r\n            style={{\r\n              border: \"2px solid lightgray\",\r\n            }}\r\n          />\r\n        </Box>\r\n        <Box flex={2} mr={4}>\r\n          <Typography variant=\"body2\" color=\"textPrimary\">\r\n            {friend.name}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n  );\r\n}\r\n","import Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport FriendSimpleView from './FriendSimpleView';\r\nimport { Link } from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nexport function getDivs(items) {\r\n  if (!items) return <div> empty </div>\r\n  return items.map(item => <div key={item}> {item} </div>)\r\n}\r\n\r\nexport function getFriends(friends) {\r\n  if (!friends) return <div> no friends... </div>\r\n  return friends.map(friend => <FriendSimpleView key={friend.id} friend={friend} />)\r\n}\r\n\r\n\r\nexport function getMetaphors(metaphor) {\r\n  if (!metaphor) return <div> empty metaphor </div>\r\n  return <div>\r\n    <div> 나무 {metaphor.tree} 그루 </div>\r\n    <div> 택시 {metaphor.taxi} 번 </div>\r\n    <div> 햄버거 {metaphor.hamburger} 개 </div>\r\n  </div>\r\n}\r\n\r\nexport default function JournalItem({ journal, openJournal, friends }) {\r\n  if (!journal)\r\n    return null;\r\n\r\n  console.log(journal)\r\n  return (\r\n    <Card onClick={() => openJournal(journal)}>\r\n      <CardHeader\r\n        title={journal.title} />\r\n      <CardContent>{journal.desc}</CardContent>\r\n      <CardContent>{getFriends(friends)}</CardContent>\r\n      <CardContent>{getDivs(journal.hashtags)}</CardContent>\r\n      <CardContent>{getDivs(journal.emojis)}</CardContent>\r\n      <CardContent>{journal.distance} km</CardContent>\r\n      {/* TODO 적절한 양식으로 friends 보여주기! object의 배열임에 주의*/}\r\n\r\n      {/* <CardContent> {journal.friends} </CardContent> */}\r\n      {/* <CardContent>{journal.time} </CardContent> */}\r\n      <CardContent>{journal.weather} </CardContent>\r\n      <CardContent>{getMetaphors(journal.metaphor)} </CardContent>\r\n    </Card >\r\n  );\r\n}","import DeleteIcon from '@material-ui/icons/Delete';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '80%'\r\n    },\r\n  },\r\n\r\n  hashtagGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'row'\r\n  },\r\n\r\n  picture: {\r\n\r\n  },\r\n\r\n  title: {\r\n    color: theme.palette.primary.light,\r\n  },\r\n  titleBar: {\r\n    background:\r\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\r\n  },\r\n\r\n}));\r\n\r\nexport default function PictureList({ pictures, removePicture, isEditing }) {\r\n  const classes = useStyles();\r\n\r\n  if (!pictures)\r\n    return null\r\n\r\n  return (\r\n    <GridList cellHeight={160} className={classes.gridList} cols={3}>\r\n      {pictures.map(pic => <GridListTile key={pic} className={classes.picture}>\r\n        <img src={process.env.PUBLIC_URL + pic} alt=\"bike\" />\r\n\r\n        {isEditing &&\r\n          <GridListTileBar\r\n            classes={{\r\n              root: classes.titleBar,\r\n              title: classes.title,\r\n            }}\r\n            actionIcon={\r\n              <IconButton aria-label={`delete ${pic}`} onClick={() => removePicture(pic)}>\r\n                <DeleteIcon className={classes.title} />\r\n              </IconButton>\r\n            }\r\n          />\r\n        }\r\n      </GridListTile>)}\r\n    </GridList>\r\n  );\r\n}","import React, { useRef, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport mapboxgl from 'mapbox-gl';\r\n\r\nconst useStyles = makeStyles({\r\n    map: {\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        textAlign: \"center\",\r\n        display: \"inline-block\",\r\n        // border: \"solid 1px black\"\r\n    },\r\n  });\r\n\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg';\r\n\r\nexport default function StaticMap(props) {\r\n  const classes = useStyles();\r\n  var route = props.route ? props.route : [];\r\n  var zoom = props.zoom ? props.zoom : 15;\r\n  var width = props.width ? props.width : \"100%\";\r\n  var height = props.height ? props.height : \"300px\";\r\n  var length = route.length;\r\n  var startCoordinates = route[0];\r\n  var endCoordinates = route[length-1];\r\n\r\n  console.log(route)\r\n\r\n  const mapContainer = useRef(null);\r\n  const map = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (map.current) return; // initialize map only once\r\n      map.current = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: 'mapbox://styles/mapbox/streets-v11',\r\n        center: endCoordinates,\r\n        zoom: zoom\r\n      });\r\n      map.current.on('load', function () {\r\n        map.current.addSource('route', {\r\n          type: 'geojson',\r\n          data: {\r\n            'type': 'Feature',\r\n            'properties': {},\r\n            'geometry': {\r\n              'type': 'LineString',\r\n              'coordinates': route\r\n            }\r\n          }\r\n        });\r\n        map.current.addLayer({\r\n          id: 'route',\r\n          type: 'line',\r\n          source: 'route',\r\n          layout: {\r\n            'line-join': 'round',\r\n            'line-cap': 'round'\r\n          },\r\n          paint: {\r\n            'line-color': '#888',\r\n            'line-width': 4\r\n          }\r\n        });\r\n\r\n        map.current.addSource('start', {\r\n          type: 'geojson',\r\n          data: {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [{\r\n              \"type\": \"Feature\",\r\n              \"properties\": {},\r\n              \"geometry\": {\r\n                \"type\": \"Point\",\r\n                \"coordinates\": startCoordinates\r\n              }\r\n            }]\r\n          }\r\n        });\r\n        map.current.addLayer({\r\n          id: 'start',\r\n          type: 'circle',\r\n          source: 'start',\r\n          paint: {\r\n            'circle-radius': 5,\r\n            'circle-color': '#0000FF',\r\n            'circle-opacity': 1\r\n          }\r\n        });\r\n\r\n        map.current.addSource('end', {\r\n          type: 'geojson',\r\n          data: {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [{\r\n              \"type\": \"Feature\",\r\n              \"properties\": {},\r\n              \"geometry\": {\r\n                \"type\": \"Point\",\r\n                \"coordinates\": endCoordinates\r\n              }\r\n            }]\r\n          }\r\n        });\r\n        map.current.addLayer({\r\n          id: 'end',\r\n          type: 'circle',\r\n          source: 'end',\r\n          paint: {\r\n            'circle-radius': 5,\r\n            'circle-color': '#FF0000',\r\n            'circle-opacity': 1\r\n          }\r\n        });\r\n      });\r\n  });\r\n\r\n  return (\r\n    <div style={{ width: width, height: height }}>\r\n      <div ref={mapContainer} className={classes.map} />\r\n    </div>\r\n  )\r\n}","import { getDivs, getMetaphors } from './JournalItem'\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport { CardActions } from '@material-ui/core';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport { Link } from 'react-router-dom';\r\nimport PictureList from './PictureList';\r\nimport React from 'react';\r\nimport StaticMap from '../home/StaticMap'\r\nimport dayjs from 'dayjs'\r\nimport { getFriends } from './JournalItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    width: '80%',\r\n    position: 'absolute',\r\n    maxHeight: '80%',\r\n    padding: theme.spacing(2, 4, 3),\r\n\r\n  },\r\n}));\r\n\r\nconst modalStyle = {\r\n  top: '50%',\r\n  left: '50%',\r\n  position: 'absolute',\r\n  overflow: 'scroll',\r\n  transform: `translate(-${50}%, -${50}%)`,\r\n}\r\n\r\nfunction formatTime(time) {\r\n  console.log('time: ', time)\r\n  return dayjs(time).format('YYYY년 M월 D일 H시 m분') // '25/01/2019'\r\n}\r\n\r\nfunction getTime(start, end) {\r\n  return <div>\r\n    {formatTime(start)} 부터 {formatTime(end)} 까지\r\n  </div>\r\n}\r\n\r\nexport default function JournalDetail({ journal, friends }) {\r\n  const classes = useStyles();\r\n\r\n  if (!journal)\r\n    return null\r\n\r\n  console.log(journal.friends)\r\n\r\n  return (\r\n    <Card style={modalStyle} className={classes.paper}>\r\n      <CardHeader\r\n        title={journal.title} />\r\n      <CardContent>{journal.desc}</CardContent>\r\n      {/* TODO 적절한 양식으로 friends 보여주기! object의 배열임에 주의*/}\r\n      {/* <CardContent>{getDivs(journal.friends ? journal.friends : [])}</CardContent> */}\r\n      <CardContent>{getDivs(journal.hashtags)}</CardContent>\r\n      <CardContent>{getDivs(journal.emojis)}\r\n        <PictureList pictures={journal.photos} isEditing={false} />\r\n      </CardContent>\r\n      <CardContent>{journal.distance} km</CardContent>\r\n      <CardContent>\r\n        {getTime(journal.startTime, journal.endTime)}\r\n      </CardContent>\r\n      <CardContent>{journal.weather} </CardContent>\r\n      <CardContent>{getMetaphors(journal.metaphor)} </CardContent>\r\n      <CardContent>\r\n        <StaticMap route={journal.route} zoom={15} width={\"100%\"} height={\"300px\"} />\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button disabled={false}\r\n          component={Link} to={`/edit/${journal.id}`}\r\n        >\r\n          수정\r\n      </Button>\r\n        <Button onClick={() => alert(\"삭제\")}>\r\n          삭제\r\n        </Button>\r\n      </CardActions>\r\n    </Card >\r\n\r\n  );\r\n}","import JournalItem from './JournalItem'\r\nimport React from 'react';\r\n\r\nexport default function JournalList({ journals, openJournal, friendsByJournal }) {\r\n  var journalList = journals ? journals.map(journal => <JournalItem\r\n    key={journal.id}\r\n    openJournal={openJournal}\r\n    journal={journal}\r\n    friends={friendsByJournal[journal.id]}\r\n  />) : <p> 아직 게시글이 없어요!\r\n    </p>\r\n\r\n  return (\r\n    <div>\r\n      {journalList}\r\n    </div>\r\n  );\r\n};","import { fade, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport JournalDetail from '../../component/journal/JournalDetail'\r\nimport JournalList from '../../component/journal/JournalList'\r\nimport React from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function SearchBar() {\r\n  const classes = useStyles();\r\n\r\n\r\n  return (\r\n    <div className={classes.search}>\r\n      <div className={classes.searchIcon}>\r\n        <SearchIcon />\r\n      </div>\r\n      <InputBase\r\n        placeholder=\"Search…\"\r\n        classes={{\r\n          root: classes.inputRoot,\r\n          input: classes.inputInput,\r\n        }}\r\n        inputProps={{ 'aria-label': 'search' }}\r\n      />\r\n    </div>\r\n\r\n  );\r\n};","import { IconButton, Typography } from \"@material-ui/core\";\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport React from \"react\";\r\nimport SearchBar from \"../common/SearchBar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n// https://material-ui.com/components/modal/\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"18px\",\r\n  },\r\n  mailIcon: {\r\n    position: \"absolute\",\r\n    display: \"inline-block\",\r\n    marginLeft: \"10px\"\r\n  }\r\n}));\r\n\r\nfunction ReceivedElement(props) {\r\n  return (\r\n    <div style={{ margin: \"5px\", marginTop: \"5px\", width: \"100%\" }}>\r\n      <Accordion expanded={false} style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}>\r\n        <AccordionSummary>\r\n          <Box\r\n            display=\"flex\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"flex-start\"\r\n            flexDirection=\"row\"\r\n            width=\"100%\"\r\n          >\r\n            <Box flex={1} mr={1}>\r\n              <Avatar\r\n                alt={props.name}\r\n                src={process.env.PUBLIC_URL + props.picture}\r\n                style={{\r\n                  border: \"2px solid lightgray\",\r\n                  width: \"30px\",\r\n                  height: \"30px\"\r\n                }}\r\n              />\r\n            </Box>\r\n            <Box flex={8} mr={2} style={{ minWidth: \"75px\" }}>\r\n              <Typography variant=\"body2\" color=\"textPrimary\">\r\n                {props.name}\r\n              </Typography>\r\n            </Box>\r\n\r\n            <Box>\r\n              <div style={{ display: \"inline-block\", marginRight: \"10px\" }}>\r\n                <IconButton\r\n                  style={{ color: \"green\", width: \"30px\", height: \"30px\" }}\r\n                  onClick={() => {\r\n                    props.onAcceptClick(props.oid);\r\n                  }}\r\n                >\r\n                  <CheckCircleIcon />\r\n                </IconButton>\r\n              </div>\r\n              <div style={{ display: \"inline-block\" }}>\r\n                <IconButton\r\n                  style={{ color: \"red\", width: \"30px\", height: \"30px\" }}\r\n                  onClick={() => {\r\n                    props.onRejectClick(props.oid);\r\n                  }}\r\n                >\r\n                  <CancelIcon />\r\n                </IconButton>\r\n              </div>\r\n            </Box>\r\n          </Box>\r\n        </AccordionSummary>\r\n      </Accordion>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Frequest(props) {\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState({\r\n    top: `50%`,\r\n    left: `50%`,\r\n    transform: `translate(-50%, -50%)`,\r\n    maxHeight: \"80vh\",\r\n    overflow: \"scroll\"\r\n  });\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  function fillTable(el) {\r\n    // https://javascript.plainenglish.io/material-ui-icons-and-lists-a98c8ccbdac0\r\n    return (\r\n      <ReceivedElement\r\n        key={el.id}\r\n        oid={el.id}\r\n        name={el.name}\r\n        picture={el.picture}\r\n        onRejectClick={props.onRejectClick}\r\n        onAcceptClick={props.onAcceptClick}\r\n      />\r\n    );\r\n  }\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  // https://stackoverflow.com/questions/42363198/how-to-add-close-icon-in-material-ui-dialog-header-top-right-corner\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <Box display=\"flex\" flexDirection=\"column\">\r\n        <Box flex={1} display=\"flex\" alignItems=\"center\" flexDirection=\"row\">\r\n          <Box flexGrow={1}>\r\n            <Typography variant=\"h4\" color=\"textPrimary\">\r\n              <b>Frequest</b>\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <IconButton onClick={handleClose} style={{ width: \"30px\", height: \"30px\" }}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </Box>\r\n\r\n        <Box flex={4}>\r\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" style={{ padding: \"7px 0\" }}>\r\n            <b>Received Frequests</b>\r\n          </Typography>\r\n          <Box display=\"flex\" alignItems=\"center\" flexDirection=\"column\" style={{ paddingBottom: \"5px\" }}>\r\n            {props.frequests == null || props.frequests.length === 0 ? (\r\n              <Typography variant=\"body1\" color=\"textPrimary\">\r\n                You have received no frequests\r\n              </Typography>\r\n            ) : (\r\n              props.frequests.map(fillTable)\r\n            )}\r\n          </Box>\r\n        </Box>\r\n\r\n        <Divider style={{ margin: \"10px 0\" }} />\r\n\r\n        <Box flex={4}>\r\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" style={{ padding: \"7px 0\" }}>\r\n            <b>Send a Frequest</b>\r\n          </Typography>\r\n          <SearchBar />\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.mailIcon}>\r\n      <IconButton onClick={handleOpen}>\r\n        {props.frequests == null || props.frequests.length === 0 ? (\r\n          <MailIcon />\r\n        ) : (\r\n          <Badge badgeContent={props.frequests.length} color=\"primary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        )}\r\n      </IconButton>\r\n\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","export function toList(objects)\r\n{\r\n  if (!objects) return []\r\n  return Object.values(objects)\r\n}\r\n\r\nexport function nullToList(list)\r\n{\r\n  if (!list) return []\r\n  return list\r\n}\r\n\r\nexport function formatTime(time) {\r\n  const hours = parseInt(time / 60);\r\n  const minutes = time % 60;\r\n  return `${hours > 0 ? `${hours} hr${hours > 1 ? \"s\" : \"\"} ` : \" \"}${minutes > 0 ? `${minutes} min${minutes > 1 ? \"s\" : \"\"}` : \"\"}`\r\n}\r\n\r\nexport function formatDistance(distance) {\r\n  return `${distance} km`\r\n}","import Box from \"@material-ui/core/Box\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst ProgressStyles = makeStyles((theme) => ({\r\n  pro_bar: {\r\n    backgroundColor: \"hsl(0, 0%, 97%)\",\r\n    height: \"4px\",\r\n    marginBottom: \"12px\",\r\n    marginTop: \"12px\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  progress_bar_inner: {\r\n    display: \"block\",\r\n    width: 0,\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    backgroundColor: \"#ff85ac\",\r\n    transition: \"width 1s linear 0s\",\r\n    \"&::after\": {\r\n      content: `\"\"`,\r\n      width: \"32px\",\r\n      height: \"29px\",\r\n      backgroundImage: `url(${process.env.PUBLIC_URL + \"/images/bike.png\"})`,\r\n      backgroundSize: \"contain\",\r\n      borderRadius: \"50%\",\r\n      position: \"absolute\",\r\n      right: \"-4px\",\r\n      top: \"-20px\",\r\n    },\r\n  },\r\n}));\r\n// https://bestjquery.com/tutorial/progress-bar/demo17/\r\n\r\nexport default function LinearProgressBar(props) {\r\n  const classes = ProgressStyles();\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      flexDirection=\"row\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"flex-start\"\r\n    >\r\n      <Box flex={5} style={{ transform: \"translateY(8px)\" }}>\r\n        <div className={classes.pro_bar}>\r\n          <div\r\n            className={classes.progress_bar_inner}\r\n            style={{\r\n              width: props.value + \"%\",\r\n            }}\r\n            data-value={props.value}\r\n            data-percentage-value={props.value}\r\n          ></div>\r\n        </div>\r\n      </Box>\r\n      {/* <Box flex={1}>\r\n        <Typography variant=\"body2\" color=\"textPrimary\" align=\"right\">\r\n          {props.value}%\r\n        </Typography>\r\n      </Box> */}\r\n    </Box>\r\n  );\r\n}","import { formatDistance, formatTime } from '../../util/format'\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport LinearProgressBar from \"./LinearProgressBar\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport function JournalEntry({ journal }) {\r\n  return (\r\n    <div style={{\r\n      backgroundColor: \"white\",\r\n      borderRadius: \"5px\",\r\n      padding: \"7px\",\r\n      marginTop: \"10px\",\r\n      fontSize: \"11px\",\r\n    }}>\r\n      <div style={{\r\n        display: \"inline-block\",\r\n        width: \"20%\"\r\n      }}>{journal.startTime}</div>\r\n      <div style={{\r\n        display: \"inline-block\",\r\n        width: \"35%\"\r\n      }}>{journal.title}</div>\r\n\r\n      {/* TODO emojis, hashtags 리스트이므로 맞춰서 렌더링 */}\r\n      {/* <div style={{\r\n        display: \"inline-block\",\r\n        width: \"15%\"\r\n      }}>{journal.emojis}</div>\r\n      <div style={{\r\n        display: \"inline-block\",\r\n        width: \"30%\"\r\n      }}>{journal.hashtags}</div> */}\r\n    </div>\r\n  );\r\n}\r\nexport default function FriendItem({ friend, journals }) {\r\n  console.log(journals);\r\n  return (\r\n    <Accordion style={{ boxShadow: \"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)\" }}>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMoreIcon />}\r\n      >\r\n        <FriendListItemInner key={friend.id} friend={friend} />\r\n      </AccordionSummary>\r\n      <AccordionDetails style={{ backgroundColor: \"lightgray\", padding: \"10px\" }}>\r\n\r\n        <div style={{ width: \"100%\" }}>\r\n          <div style={{ display: \"inline-block\", width: \"50%\" }}>\r\n            <b>Time: </b>{formatTime(friend.spent_time)}\r\n          </div>\r\n\r\n          <div style={{ display: \"inline-block\", width: \"50%\" }}>\r\n            <b>Distance: </b>{formatDistance(friend.distance)}\r\n          </div>\r\n\r\n          <div>\r\n            {journals && journals.map((journal) => (\r\n              <JournalEntry journal={journal} key={journal.id} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  );\r\n}\r\n\r\n\r\nfunction FriendListItemInner({ friend }) {\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"flex-start\"\r\n      flexDirection=\"row\"\r\n      width=\"100%\"\r\n    >\r\n\r\n      <Box flex={1} mr={1}>\r\n        <Avatar\r\n          alt={friend.name}\r\n          src={process.env.PUBLIC_URL + friend.picture}\r\n          style={{\r\n            border: \"2px solid lightgray\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n          }}\r\n        />\r\n      </Box>\r\n      <Box flex={2} mr={2} style={{ minWidth: \"75px\" }}>\r\n        <Typography variant=\"body1\" color=\"textPrimary\">\r\n          {friend.name}\r\n        </Typography>\r\n      </Box>\r\n      <Box flex={6}>\r\n        <LinearProgressBar value={friend.total_intimacy} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import Box from \"@material-ui/core/Box\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport FriendListItem from \"./FriendItem\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n// https://material-ui.com/components/lists/\r\n// https://material-ui.com/components/cards/\r\n// https://material-ui.com/components/progress/\r\n// https://material-ui.com/components/accordion/\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nfunction fillTable(friend, journals) {\r\n  console.log(journals);\r\n  // https://javascript.plainenglish.io/material-ui-icons-and-lists-a98c8ccbdac0\r\n  return <div key={friend.id} style={{ margin: \"10px\", marginTop: \"5px\" }}>\r\n    <FriendListItem friend={friend} journals={journals} />\r\n  </div>\r\n}\r\n\r\nexport default function FriendList(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <Box display=\"flex\" flexDirection=\"column\">\r\n        <Box alignSelf=\"flex-end\" style={{ marginRight: \"10px\" }}>\r\n          <IconButton>\r\n            <FilterListIcon />\r\n          </IconButton>\r\n        </Box>\r\n\r\n        <div>\r\n          {props.flist.map((friend) =>\r\n            fillTable(friend, props.journalsByFriend[friend.id])\r\n          )}\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import Avatar from '../component/Avatar';\r\nimport FrequestComponent from \"../component/friend/Frequest\";\r\nimport FriendList from \"../component/friend/Friends\";\r\nimport React from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// import flist from \"../data/FriendData.json\";\r\n// import frlist from \"../data/FrequestData.json\";\r\n// import journals from '../data/journal.js'\r\n\r\nfunction getJournalsByFriend(flist, journals) {\r\n  let journalsByFriend = {};\r\n  for (let i = 0; i < flist.length; i++) {\r\n    let f = flist[i];\r\n    journalsByFriend[f.id] = journals.filter(\r\n      (j) => j.friends && j.friends.includes(f.id)\r\n    );\r\n  }\r\n  console.log(journalsByFriend);\r\n\r\n  return journalsByFriend;\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  page: {\r\n    position: \"relative\",\r\n    // maxWidth: \"550px\",\r\n    margin: \"0 auto\",\r\n    // border: \"solid 1px blue\",\r\n  },\r\n  verticalAlign: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    display: \"inline-block\",\r\n  },\r\n  header: {\r\n    position: \"relative\",\r\n    height: \"49px\",\r\n    fontSize: \"30px\",\r\n    fontWeight: \"bold\",\r\n    borderBottom: \"solid 1px black\",\r\n    textAlign: \"center\",\r\n  },\r\n  avatar: {\r\n    position: \"relative\",\r\n    height: \"50px\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n  content: {\r\n    position: \"relative\",\r\n    height: \"calc(100vh - 160px)\",\r\n    // border: \"solid 1px black\",\r\n  },\r\n});\r\n\r\n\r\nexport default function Friends({ friendRef, frequestRef, journalRef }) {\r\n  const classes = useStyles();\r\n  // Firebase comeon\r\n  // json 파일 여기서 불러오기\r\n  const [frequests, setFrequests] = React.useState([]);\r\n  const [friendlist, setFriendlist] = React.useState([]);\r\n  const [journalsByFriend, setJournalsByFriend] = React.useState(null);\r\n\r\n  const acceptFrequest = (fid) => {\r\n    var newFriend = {\r\n      id: \"f\" + friendlist.length,\r\n      picture: \"\",\r\n      name: \"\",\r\n      total_intimacy: 0,\r\n      spent_time: 0,\r\n      distance: 0,\r\n    };\r\n    for (var i = 0; i < frequests.length; i++) {\r\n      if (frequests[i].id === fid) {\r\n        newFriend.name = frequests[i].name;\r\n        newFriend.picture = frequests[i].picture;\r\n      }\r\n    }\r\n    friendRef.child(\"f\" + friendlist.length).set(newFriend);\r\n    frequestRef.child(fid).remove();\r\n    //setFrequests(frequests.filter((item) => item.id !== fid));\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    friendRef.on(\"value\", (snapshot) => {\r\n      const friendData = snapshot.val();\r\n      journalRef.once(\"value\", (snapshot) => {\r\n        console.log(friendData);\r\n        setFriendlist(Object.values(friendData));\r\n        const journals = snapshot.val();\r\n        setJournalsByFriend(\r\n          getJournalsByFriend(\r\n            Object.values(friendData),\r\n            Object.values(journals)\r\n          )\r\n        );\r\n      });\r\n    });\r\n\r\n    frequestRef.on(\"value\", (snapshot) => {\r\n      const frequestData = snapshot.val();\r\n      console.log(frequestData);\r\n      setFrequests(frequestData === null ? [] : Object.values(frequestData));\r\n    });\r\n  }, []);\r\n\r\n  const rejectFrequest = (fid) => {\r\n    frequestRef.child(fid).remove();\r\n  };\r\n\r\n  if (!journalsByFriend) return <div> 로딩중... </div>;\r\n  return (\r\n    <div className={classes.page}>\r\n      <div className={classes.header}>\r\n        <div className={classes.verticalAlign}>Friends</div>\r\n      </div>\r\n\r\n      <div className={classes.avatar}>\r\n        <div className={classes.verticalAlign} style={{ right: \"10px\", transform: \"translateY(-50%)\" }}>\r\n          Nayeon Min  <div style={{ display: \"inline-block\" }}><Avatar /></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.content}>\r\n        <FrequestComponent\r\n          frequests={frequests}\r\n          onRejectClick={rejectFrequest}\r\n          onAcceptClick={acceptFrequest}\r\n        />\r\n        <FriendList flist={friendlist} journalsByFriend={journalsByFriend} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst cloudy = '/images/home/weather_cloudy.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    position: \"relative\",\r\n    width: \"calc(50% - 15px)\",\r\n    height: \"calc(100% - 40px)\",\r\n    padding: \"10px\",\r\n    paddingRight: \"5px\",\r\n    display: \"inline-block\",\r\n    // border: \"solid 1px black\",\r\n    verticalAlign: \"top\",\r\n  },\r\n  background: {\r\n    position: \"relative\",\r\n    width: \"calc(100% - 20px)\",\r\n    height: \"100%\",\r\n    backgroundColor: \"darkgray\",\r\n    borderRadius: \"10px\",\r\n    padding: \"10px\",\r\n    color: \"white\",\r\n    fontWeight: \"bold\"\r\n    // border: \"solid 1px black\"\r\n  },\r\n  status: {\r\n    display: \"inline-block\",\r\n    color: \"darkgray\",\r\n    fontSize: \"12px\",\r\n    backgroundColor: \"white\",\r\n    padding: \"3px 10px\",\r\n    borderRadius: \"10px\",\r\n    float: \"right\",\r\n  }\r\n}));\r\n\r\nfunction randomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nexport default function Weather() {\r\n  const classes = useStyles();\r\n  const weatherTypes = [\"sunny\", \"cloudy\", \"rainy\"];\r\n  // var [currentWeather, setCurrentWeather] = useState(weatherTypes[0]);\r\n  var [currentWeather, setCurrentWeather] = useState(randomInt(1, weatherTypes.length));\r\n  console.log(`currentWeather: ${currentWeather}`)\r\n\r\n  var style = (currentWeather === 1 ? { backgroundColor: \"yellow\", color: \"black\" } : currentWeather === 2 ? { backgroundColor: \"lightblue\" } : { backgroundColor: \"darkblue\" });\r\n  var weather = (currentWeather === 1 ? \"sunny\" : currentWeather === 2 ? \"cloudy\" : \"rainy\");\r\n  var [temperature, setTemperature] = useState(currentWeather === 1 ? randomInt(20, 30) : currentWeather === 2 ? randomInt(15, 25) : randomInt(10, 20));\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {/* <img src={process.env.PUBLIC_URL +currentWeather} width=\"100%\" alt=\"\" /> */}\r\n      <div className={classes.background} style={style}>\r\n        {weather} <br />\r\n        {temperature}&#8451;\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    bar: {\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"10px\",\r\n        backgroundColor: \"white\",\r\n        borderRadius: \"10px\",\r\n        marginTop: \"10px\",\r\n        // border: \"solid 1px black\"\r\n    },\r\n    slider: {\r\n      position: \"absolute\",\r\n      top: \"5px\",\r\n      transform: \"translateY(-50%)\",\r\n      width: \"25px\",\r\n      height: \"15px\",\r\n      backgroundColor: \"darkgray\",\r\n      borderRadius: \"10px\",\r\n      color: \"white\",\r\n      textAlign: \"center\",\r\n      fontSize: \"11px\",\r\n      fontWeight: \"bold\",\r\n      border: \"solid 2px white\",\r\n    },\r\n}));\r\n\r\nexport default function DustBar(props) {\r\n  const classes = useStyles();\r\n  var amount = props.amount;\r\n  var percentage = props.percentage;\r\n\r\n  return (\r\n    <div className={classes.bar}>\r\n        <div className={classes.slider} style={{ left: `calc(calc(100% - 29px) * ${percentage}` }}>{amount}</div>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react';\r\n\r\nimport { DustBar } from './';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst dust = '/images/home/dust.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n      position: \"relative\",\r\n      width: \"calc(50% - 15px)\",\r\n      height: \"calc(100% - 40px)\",\r\n      padding: \"10px\",\r\n      paddingLeft: \"5px\",\r\n      display: \"inline-block\",\r\n      // border: \"solid 1px black\",\r\n      verticalAlign: \"top\",\r\n    },\r\n    background: {\r\n      position: \"relative\",\r\n      width: \"calc(100% - 20px)\",\r\n      height: \"100%\",\r\n      backgroundColor: \"darkgray\",\r\n      borderRadius: \"10px\",\r\n      padding: \"10px\",\r\n      color: \"white\",\r\n      fontWeight: \"bold\",\r\n      // border: \"solid 1px black\"\r\n    },\r\n    status: {\r\n      display: \"inline-block\",\r\n      color: \"darkgray\",\r\n      fontSize: \"11px\",\r\n      backgroundColor: \"white\",\r\n      padding: \"3px 10px\", \r\n      borderRadius: \"10px\",\r\n      float: \"right\",\r\n    }\r\n}));\r\n\r\nfunction randomInt(min, max) {\r\n  return Math.floor(Math.random()*(max-min+1)+min);\r\n}\r\n\r\nexport default function Dust() {\r\n  const classes = useStyles();\r\n  var [fineDustAmount, setFineDustAmount] = useState(randomInt(0, 200));\r\n  var fineDustStatus = (fineDustAmount <= 30 ? \"GOOD\" : fineDustAmount <= 80 ? \"NORMAL\" : fineDustAmount <= 150 ? \"BAD\" : \"VERY BAD\");\r\n  var [ultraFineDustAmount, setUltraFineDustAmount] = useState(randomInt(0, 100));\r\n  var ultraFineDustStatus = (ultraFineDustAmount <= 15 ? \"GOOD\" : ultraFineDustAmount <= 35 ? \"NORMAL\" : ultraFineDustAmount <= 75 ? \"BAD\" : \"VERY BAD\");\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {/* <img src={dust} width=\"100%\" alt=\"fine dust\" /> */}\r\n      <div className={classes.background}>\r\n        <div>\r\n          fine dust\r\n          <div className={classes.status}>{fineDustStatus}</div>\r\n          <DustBar amount={fineDustAmount} percentage={fineDustAmount/200} />\r\n        </div>\r\n        <br/>\r\n        <div>\r\n          ultra-fine dust\r\n          <div className={classes.status}>{ultraFineDustStatus}</div>\r\n          <DustBar amount={ultraFineDustAmount} percentage={ultraFineDustAmount/100}  />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Distance(props) {\r\n  const style = props.style;\r\n  var distance = props.distance;\r\n\r\n  return (\r\n    <div className={style} style={{ width: \"100px\" }}>\r\n        { distance }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Time(props) {\r\n  const style = props.style;\r\n  var time = props.time;\r\n\r\n  return (\r\n    <div className={style} style={{ width: \"120px\" }}>\r\n        { time }\r\n    </div>\r\n  )\r\n}","import React, { useRef, useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport mapboxgl from 'mapbox-gl';\r\n\r\nvar fullRoute = [ \r\n  [37.49468356316903, 126.91462625155943],\r\n  [37.49457548665683, 126.91466456325881],\r\n  [37.4945003236157, 126.91467809668889], \r\n  [37.494409948906565, 126.91469501347642],\r\n  [37.49436968291182, 126.91470290797731], \r\n  [37.49369203740101, 126.91484578727844], \r\n  [37.493628630563954, 126.91634996665469],\r\n  [37.494331551409644, 126.91635767048872],\r\n  [37.49434377606901, 126.91753635713798],\r\n  [37.49440489929814, 126.9184608172214],\r\n  [37.49367752962703, 126.91876897058253],\r\n  [37.49314415408823, 126.91832564377637],\r\n  [37.49274195991449, 126.91792170245459],\r\n  [37.49234604790941, 126.91776329409315],\r\n  [37.4920883897629, 126.91788210036424],\r\n  [37.49202554617772, 126.91830980294021],\r\n  [37.49193128070078, 126.91894343638609],\r\n]\r\n\r\nconst useStyles = makeStyles({\r\n    map: {\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        textAlign: \"center\",\r\n        display: \"inline-block\",\r\n        // border: \"solid 1px black\"\r\n    },\r\n  });\r\n\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg';\r\n\r\nfunction swapColumns(array) {\r\n  var newArray = [];\r\n  const length = array.length;\r\n  for(var i = 0; i < length; i++) {\r\n    newArray.push([ array[i][1], array[i][0] ]);\r\n  }\r\n  return newArray;\r\n}\r\n\r\nexport default function Map(props) {\r\n  const classes = useStyles();\r\n  var index = props.index;\r\n  var isRiding = props.isRiding;\r\n\r\n  const mapContainer = useRef(null);\r\n  const map = useRef(null);\r\n  const [lng, setLng] = useState(fullRoute[0][1]);\r\n  const [lat, setLat] = useState(fullRoute[0][0]);\r\n  const [zoom, setZoom] = useState(15);\r\n  const [route, setRoute] = useState(fullRoute.slice(0, 1));\r\n\r\n  useEffect(() => {\r\n    if (map.current) return; // initialize map only once\r\n      map.current = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: 'mapbox://styles/mapbox/streets-v11',\r\n        center: [lng, lat],\r\n        zoom: zoom\r\n      });\r\n      map.current.on('load', function () {\r\n        map.current.addSource('route', {\r\n          'type': 'geojson',\r\n          'data': {\r\n            'type': 'Feature',\r\n            'properties': {},\r\n            'geometry': {\r\n              'type': 'LineString',\r\n              'coordinates': swapColumns(route)\r\n            }\r\n          }\r\n        });\r\n        map.current.addLayer({\r\n          'id': 'route',\r\n          'type': 'line',\r\n          'source': 'route',\r\n          'layout': {\r\n            'line-join': 'round',\r\n            'line-cap': 'round'\r\n          },\r\n          'paint': {\r\n            'line-color': '#888',\r\n            'line-width': 4\r\n          }\r\n        });\r\n\r\n        map.current.addSource('pointer', {\r\n          type: 'geojson',\r\n          data: {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [{\r\n              \"type\": \"Feature\",\r\n              \"properties\": {},\r\n              \"geometry\": {\r\n                \"type\": \"Point\",\r\n                \"coordinates\": [lng, lat]\r\n              }\r\n            }]\r\n          }\r\n        });\r\n        map.current.addLayer({\r\n          id: 'pointer',\r\n          type: 'circle',\r\n          source: 'pointer',\r\n          paint: {\r\n            'circle-radius': 5,\r\n            'circle-color': '#FF0000',\r\n            'circle-opacity': 0.8\r\n          }\r\n        });\r\n      });\r\n  });\r\n\r\n  useEffect(() => {\r\n    if(index >= fullRoute.length) index = fullRoute.length - 1;\r\n    setLng(fullRoute[index][1]);\r\n    setLat(fullRoute[index][0]);\r\n    setRoute(fullRoute.slice(0, index+1));\r\n\r\n    map.current.setCenter([lng, lat]);\r\n\r\n    if(map.current.getSource('route')) {\r\n      map.current.getSource('route').setData({\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"LineString\",\r\n            \"coordinates\": swapColumns(route)\r\n        }\r\n      });\r\n    }\r\n\r\n    if(map.current.getSource('pointer')) {\r\n      map.current.getSource('pointer').setData({\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": [{\r\n          \"type\": \"Feature\",\r\n          \"properties\": {},\r\n          \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [lng, lat]\r\n          }\r\n        }]\r\n      });\r\n    }\r\n  }, [index]);\r\n\r\n  useEffect(() => {\r\n    if(isRiding) {\r\n      return;\r\n    }\r\n    props.saveRoute(swapColumns(route));\r\n    setLng(fullRoute[0][1]);\r\n    setLat(fullRoute[0][0]);\r\n    setRoute(fullRoute.slice(0, 1));\r\n  }, [isRiding])\r\n  return (\r\n    <div ref={mapContainer} className={classes.map}>\r\n\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function StartButton(props) {\r\n  const style = props.style;\r\n\r\n  return (\r\n    <div className={style.button} style={{ backgroundColor: \"green\", color: \"white\" }}>\r\n      <div className={style.text}>\r\n        Start Ride\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function StopButton(props) {\r\n  const style = props.style;\r\n\r\n  return (\r\n    <div className={style.button} style={{ backgroundColor: \"red\", color: \"white\" }}>\r\n      <div className={style.text}>\r\n        Stop Ride\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { MetaphorTaxi, MetaphorBurger, MetaphorTree } from './';\r\n\r\nexport default function MetaphorContainer(props) {\r\n    var amount = props.amount; \r\n    var min = 1;\r\n    var max = 3;\r\n    var [randomInt, setRandomInt] = useState(Math.floor(Math.random()*(max-min+1)+min));\r\n\r\n    return (\r\n        <div style={{ position: \"relative\" }}>\r\n            { randomInt === 1 ? <MetaphorTaxi amount={amount}/> : null }\r\n            { randomInt === 2 ? <MetaphorBurger amount={amount}/> : null }\r\n            { randomInt === 3 ? <MetaphorTree amount={amount}/> : null }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst taxi = '/images/home/metaphor_taxi.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    background: {\r\n        position: \"relative\",\r\n        backgroundColor: \"pink\",\r\n        borderRadius: \"10px\",\r\n        padding: \"10px\"\r\n    },\r\n    img: {\r\n        display: \"inline-block\",\r\n        // border: \"solid 1px black\",\r\n        width: \"15%\",\r\n    },\r\n    text: {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        transform: \"translateY(-50%)\",\r\n        display: \"inline-block\",\r\n        color: \"white\",\r\n        fontSize: \"18px\",\r\n        fontWeight: \"bold\",\r\n        margin: \"0 auto\",\r\n        // border: \"solid 1px black\",\r\n        width: \"calc(85% - 20px)\",\r\n        paddingLeft: \"10px\"\r\n    }\r\n}));\r\n\r\nexport default function MetaphorTaxi(props) {\r\n    const classes = useStyles();\r\n    var amount = props.amount;\r\n\r\n    return (\r\n        <div className={classes.background}>\r\n            <img src={process.env.PUBLIC_URL + taxi} alt=\"taxi\" className={classes.img} />\r\n            <div className={classes.text}>You saved {amount*3000} won!</div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst burger = '/images/home/metaphor_burger.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    background: {\r\n        position: \"relative\",\r\n        backgroundColor: \"orange\",\r\n        borderRadius: \"10px\",\r\n        padding: \"10px\"\r\n    },\r\n    img: {\r\n        display: \"inline-block\",\r\n        // border: \"solid 1px black\",\r\n        width: \"15%\",\r\n    },\r\n    text: {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        transform: \"translateY(-50%)\",\r\n        display: \"inline-block\",\r\n        color: \"white\",\r\n        fontSize: \"18px\",\r\n        fontWeight: \"bold\",\r\n        // border: \"solid 1px black\",\r\n        width: \"calc(85% - 20px)\",\r\n        paddingLeft: \"10px\"\r\n    }\r\n}));\r\n\r\nexport default function MetaphorBurger(props) {\r\n    const classes = useStyles();\r\n    var amount = props.amount;\r\n\r\n    return (\r\n        <div className={classes.background}>\r\n            <img src={process.env.PUBLIC_URL +burger} alt=\"burger\" className={classes.img} />\r\n            <div className={classes.text}>You skipped {amount*2} burgers!</div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst tree = '/images/home/metaphor_tree.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    background: {\r\n        position: \"relative\",\r\n        backgroundColor: \"green\",\r\n        borderRadius: \"10px\",\r\n        padding: \"10px\"\r\n    },\r\n    img: {\r\n        display: \"inline-block\",\r\n        // border: \"solid 1px black\",\r\n        width: \"15%\",\r\n    },\r\n    text: {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        transform: \"translateY(-50%)\",\r\n        display: \"inline-block\",\r\n        color: \"white\",\r\n        fontSize: \"18px\",\r\n        fontWeight: \"bold\",\r\n        margin: \"0 auto\",\r\n        // border: \"solid 1px black\",\r\n        width: \"calc(85% - 20px)\",\r\n        paddingLeft: \"10px\"\r\n    }\r\n}));\r\n\r\nexport default function MetaphorTree(props) {\r\n    const classes = useStyles();\r\n    var amount = props.amount;\r\n\r\n    return (\r\n        <div className={classes.background}>\r\n            <img src={process.env.PUBLIC_URL +tree} alt=\"\" className={classes.img} />\r\n            <div className={classes.text}>You planted {amount*1.5} trees!</div>\r\n        </div>\r\n    )\r\n}","import { Button, Modal } from '@material-ui/core';\r\nimport { MetaphorContainer, StaticMap } from './';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    modal: {\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: `translate(-50%, -50%)`,\r\n        position: \"absolute\",\r\n        width: \"75%\",\r\n        maxHeight: \"75vh\",\r\n        overflowY: \"scroll\",\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(4),\r\n        outline: \"none\"\r\n    },\r\n    title: {\r\n        fontSize: \"20px\",\r\n        fontWeight: \"bold\",\r\n        textAlign: \"center\",\r\n        paddingBottom: \"10px\",\r\n    },\r\n    half: {\r\n        display: \"inline-block\",\r\n        width: \"50%\",\r\n        paddingBottom: \"10px\"\r\n    },\r\n    label: {\r\n        display: \"inline-block\",\r\n        fontSize: \"15px\",\r\n        fontWeight: \"bold\",\r\n        padding: \"5px\",\r\n        paddingLeft: \"0\",\r\n    },\r\n    button: {\r\n        width: \"calc(100% - 20px)\",\r\n        textAlign: \"center\",\r\n        // border: \"solid 1px black\",\r\n        color: \"white\",\r\n        fontWeight: \"bold\",\r\n        backgroundColor: \"#4BA9FF\",\r\n        borderRadius: \"10px\",\r\n        padding: \"10px\",\r\n        marginTop: \"10px\"\r\n    }\r\n}));\r\n\r\n\r\nexport default function JournalModal(props) {\r\n    const classes = useStyles();\r\n    var open = props.open;\r\n    var distance = props.distance;\r\n    var time = props.time;\r\n    var amount = props.amount;\r\n    var route = props.route;\r\n    var closeModal = props.closeModal;\r\n\r\n    return (\r\n        <div>\r\n            <Modal\r\n                open={open}\r\n                onClose={closeModal}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n            >\r\n                <div className={classes.modal}>\r\n\r\n                    <div id=\"modal-title\" className={classes.title}>\r\n                        Today's Ride\r\n                    </div>\r\n\r\n                    <MetaphorContainer amount={amount} />\r\n\r\n                    <hr />\r\n\r\n                    <div id=\"modal-description\">\r\n                        <div className={classes.half}>\r\n                            <div className={classes.label}>시간</div> {time}\r\n                        </div>\r\n                        <div className={classes.half}>\r\n                            <div className={classes.label}>거리</div> {distance}\r\n                        </div>\r\n                        <br />\r\n\r\n                        <div>\r\n                            <div className={classes.label}>이동경로</div>\r\n                            <StaticMap route={route} zoom={15} width={\"100%\"} height={\"300px\"} />\r\n                        </div>\r\n\r\n                        <Button className={classes.button} onClick={props.handleJournal}>Journal Ride</Button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}","import { Distance, Dust, JournalModal, Map, StartButton, StopButton, Time, Weather } from '../component/home'\r\nimport React, { useRef, useState } from 'react';\r\n\r\nimport Avatar from '../component/Avatar';\r\nimport dayjs from 'dayjs'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles({\r\n    page: {\r\n        position: \"relative\",\r\n        // maxWidth: \"550px\",\r\n        margin: \"0 auto\",\r\n        // border: \"solid 1px blue\",\r\n    },\r\n    verticalAlign: {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        display: \"inline-block\",\r\n    },\r\n    header: { \r\n        position: \"relative\",\r\n        height: \"49px\",\r\n        fontSize: \"30px\",\r\n        fontWeight: \"bold\",\r\n        borderBottom: \"solid 1px black\",\r\n        textAlign: \"center\",\r\n    },\r\n    avatar: {\r\n        position: \"relative\",\r\n        height: \"50px\",\r\n        // border: \"solid 1px black\",\r\n    },\r\n    content: {\r\n        position: \"relative\",\r\n        height: \"calc(100vh - 160px)\",\r\n        // border: \"solid 1px black\",\r\n    },\r\n    weatherContainer: { \r\n        position: \"relative\",\r\n        width: \"100%\", \r\n        height: \"25%\",\r\n        // border: \"solid 1px black\",\r\n    },\r\n    measuresContainer: {\r\n        position: \"absolute\",\r\n        zIndex: \"1\",\r\n        width: \"calc(100% - 20px)\",\r\n        // border: \"solid 1px black\", \r\n        padding: \"10px\",\r\n    },\r\n    measures: {\r\n        display: \"inline-block\",\r\n        // border: \"solid 1px black\",\r\n        padding: \"10px\",\r\n        margin: \"0 5px\",\r\n        backgroundColor: \"white\",\r\n        borderRadius: \"10px\",\r\n        textAlign: \"center\",\r\n        fontWeight: \"bold\",\r\n        fontSize: \"20px\",\r\n    },\r\n    mapContainer: { \r\n        position: \"relative\", \r\n        width: \"100%\", \r\n        height: \"60%\",\r\n        // border: \"solid 1px black\", \r\n    },\r\n    buttonContainer: { \r\n        position: \"relative\", \r\n        width: \"100%\", \r\n        height: \"15%\",\r\n        // border: \"solid 1px black\", \r\n    },\r\n    button: {\r\n        position: \"relative\", \r\n        height: \"calc(100% - 20px)\",\r\n        textAlign: \"center\",\r\n        borderRadius: \"10px\",\r\n        fontWeight: \"bold\",\r\n        fontSize: \"20px\",\r\n        margin: \"10px\",\r\n        // border: \"solid 1px black\", \r\n    }, \r\n    buttonText: {\r\n        position: \"relative\",\r\n        // border: \"solid 1px black\", \r\n        textAlign: \"center\",\r\n        fontWeight: \"bold\",\r\n        fontSize: \"20px\",\r\n    },\r\n    startButton: {\r\n\r\n    },\r\n    stopButton: {\r\n\r\n    }\r\n});\r\n\r\nexport default function Home({ journalRef }) {\r\n    const classes = useStyles();\r\n    var [isRiding, setIsRiding] = useState(false);\r\n    var [open, setOpen] = useState(false);\r\n    var [distance, setDistance] = useState(0);\r\n    var [time, setTime] = useState(0);\r\n    var [route, setRoute] = useState([]);\r\n    const increment = useRef(null);\r\n\r\n    const [hashtags, setHashtags] = useState([\"happy\"])\r\n    const [startTime, setStartTime] = useState(dayjs())\r\n\r\n    const createJournal = () => {\r\n        let id = journalRef.push().key\r\n\r\n        const endTime = startTime.add(time, 'minute')\r\n        let newJournal = {\r\n            id,\r\n            route,\r\n            hashtags,\r\n            distance,\r\n            startTime: startTime.toString(),\r\n            endTime: endTime.toString(),\r\n            title: \"제목 없음\",\r\n            desc: \"내용 없음\",\r\n            photos: [\"/images/photo1.jpg\"],\r\n            emojis: [\"happy\", \"exited\"],\r\n            metaphors: {\r\n                tree: 1,\r\n                taxi: 1,\r\n                burger: 1,\r\n            }\r\n        }\r\n\r\n        console.log(newJournal)\r\n\r\n        journalRef.child(id).set(newJournal)\r\n        return id;\r\n    }\r\n\r\n\r\n    const startRide = () => {\r\n        setStartTime(dayjs())\r\n        setIsRiding(true);\r\n        increment.current = setInterval(() => {\r\n            setDistance((distance) => distance + 1);\r\n            setTime((time) => time + 1 / 6);\r\n        }, 1000 / 6);\r\n    }\r\n\r\n    const stopRide = () => {\r\n        setIsRiding(false);\r\n        clearInterval(increment.current);\r\n        setOpen(true);\r\n    }\r\n\r\n    const closeModal = () => {\r\n        console.log(\"closing modal\")\r\n        createJournal();\r\n        setOpen(false);\r\n        setDistance(0);\r\n        setTime(0);\r\n    }\r\n\r\n    let history = useHistory();\r\n\r\n    const handleJournal = () => {\r\n        const id = createJournal();\r\n        history.push(`/edit/${id}`);\r\n    }\r\n\r\n    const formatTime = () => {\r\n        const intTime = parseInt(time);\r\n        const getSeconds = `0${(intTime % 60)}`.slice(-2)\r\n        const minutes = `${Math.floor(intTime / 60)}`\r\n        const getMinutes = `0${minutes % 60}`.slice(-2)\r\n        const getHours = `0${Math.floor(intTime / 3600)}`.slice(-2)\r\n        return `${getHours} : ${getMinutes} : ${getSeconds}`\r\n    }\r\n\r\n    const formatDistance = () => {\r\n        if (distance < 1000) {\r\n            return `${distance}m`\r\n        } else {\r\n            return `${distance / 1000}km`\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.page}>\r\n            <div className={classes.header}>\r\n                <div className={classes.verticalAlign}>Home</div>\r\n            </div>\r\n\r\n            <div className={classes.avatar}>\r\n                <div className={classes.verticalAlign} style={{ right: \"10px\", transform: \"translateY(-50%)\" }}> \r\n                    Nayeon Min  <div style={{ display: \"inline-block\" }}><Avatar /></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={classes.content}>\r\n\r\n                <div className={classes.weatherContainer}>\r\n                    <Weather />\r\n                    <Dust />\r\n                </div>\r\n\r\n                { isRiding ? \r\n                    <div className={classes.measuresContainer}>\r\n                        <Distance distance={formatDistance()} style={classes.measures}/>\r\n                        <Time time={formatTime()} style={classes.measures}/>\r\n                    </div>\r\n                : null }\r\n\r\n                <div className={classes.mapContainer}>\r\n                    <Map index={distance} isRiding={isRiding} saveRoute={setRoute}/>\r\n                </div>\r\n\r\n                <div onClick={() => !isRiding ? startRide() : stopRide() } className={classes.buttonContainer}>\r\n                    { !isRiding ? <StartButton style={{ button: classes.button, text: classes.verticalAlign }}/> : <StopButton style={{ button: classes.button, text: classes.verticalAlign }}/> }\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <JournalModal handleJournal={handleJournal} open={open} distance={formatDistance()} time={formatTime()} amount={distance} route={route} closeModal={closeModal} />\r\n        </div>\r\n    )\r\n}","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from '@material-ui/core/Button';\r\nimport { ButtonBase } from \"@material-ui/core\";\r\nimport FriendSimpleView from \"./FriendSimpleView\";\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: '80%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n\r\n  },\r\n}));\r\n\r\nconst modalStyle = {\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: `translate(-${50}%, -${50}%)`,\r\n}\r\n\r\nexport function FriendSelector({ friend, onClick, disabled }) {\r\n  return (\r\n    <ButtonBase onClick={onClick}>\r\n      <FriendSimpleView friend={friend} />\r\n    </ButtonBase>\r\n  );\r\n\r\n}\r\n\r\nexport default function FriendAddPage({ allFriends, selectedFriends, addFriend }) {\r\n\r\n  return <div>\r\n\r\n    {allFriends.map(\r\n      friend =>\r\n        <FriendSelector\r\n          friend={friend}\r\n          onClick={() => addFriend(friend)}\r\n          disabled={selectedFriends.includes(friend)}\r\n          key={friend.id}\r\n        />\r\n    )}\r\n\r\n    친구를 추가해보시지\r\n  </div>\r\n}","import Avatar from '@material-ui/core/Avatar';\r\nimport { Delete } from '@material-ui/icons';\r\nimport { IconButton } from '@material-ui/core';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nexport default function FriendItem({ friend, removeFriend }) {\r\n  return (\r\n    <ListItem key={friend.id}>\r\n      <ListItemAvatar>\r\n        <Avatar alt={friend.name} src={process.env.PUBLIC_URL + friend.picture} />\r\n      </ListItemAvatar>\r\n      <ListItemText primary={friend.name} />\r\n      <ListItemSecondaryAction>\r\n        <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => removeFriend(friend)}>\r\n          <Delete />\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n  );\r\n}\r\n","import { List, ListItem } from '@material-ui/core';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FriendItem from './FriendItem'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Link } from 'react-router-dom';\r\nimport PictureList from './PictureList'\r\nimport React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '80%'\r\n    },\r\n  },\r\n\r\n  hashtagGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'row'\r\n  },\r\n\r\n  picture: {\r\n\r\n  },\r\n\r\n  title: {\r\n    color: theme.palette.primary.light,\r\n  },\r\n  titleBar: {\r\n    background:\r\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\r\n  },\r\n\r\n}));\r\n\r\nexport default function JournalForm({ journal, onSubmit, openFriendAddPage, friends, removeFriend, addFriend, pictures, removePicture, openPictureSelector }) {\r\n  const classes = useStyles();\r\n  const [title, setTitle] = React.useState(journal.title);\r\n  const [desc, setDesc] = React.useState(journal.desc);\r\n  const [hashtags, setHashtags] = React.useState(journal.hashtags);\r\n\r\n\r\n  console.log(journal.title)\r\n  const handleTitleChange = (event) => {\r\n    setTitle(event.target.value);\r\n  };\r\n\r\n  const handleDescChange = (event) => {\r\n    setDesc(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit({\r\n      title, desc, hashtags\r\n    })\r\n  }\r\n\r\n  const addHashtag = (event) => {\r\n    event.preventDefault();\r\n    let hashtag = event.target.newTag.value;\r\n    setHashtags([...hashtags, hashtag])\r\n    event.target.newTag.value = \"\"\r\n  }\r\n\r\n  const removeHashtag = (hashtag) => {\r\n    setHashtags(hashtags.filter(item => item !== hashtag))\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={classes.root} noValidate autoComplete=\"off\">\r\n      <TextField onChange={handleTitleChange} id=\"title\" label=\"제목\" variant=\"outlined\" defaultValue={journal.title} />\r\n\r\n      <div> 오늘 본 고양이는 누구였나요?? </div>\r\n\r\n      {/* 내용 suggestion */}\r\n\r\n      <TextField onChange={handleDescChange} id=\"desc\" label=\"내용\" variant=\"outlined\" multiline defaultValue={journal.desc} />\r\n      <Button onClick={handleSubmit} component={Link} to=\"/journal\"> 저장 </Button>\r\n\r\n      <Button onClick={openPictureSelector}> 사진 추가 </Button>\r\n\r\n      <PictureList pictures={pictures} removePicture={removePicture} isEditing />\r\n\r\n      <List dense>\r\n        {friends.map(friend =>\r\n          <FriendItem key={friend.id} friend={friend} removeFriend={removeFriend} />)}\r\n        <ListItem>\r\n          <Button onClick={openFriendAddPage}>+</Button>\r\n        </ListItem>\r\n      </List>\r\n\r\n      <div className={classes.hashtagGroup}>\r\n        {hashtags.map(hashtag => <div key={hashtag}> #{hashtag}\r\n          <IconButton aria-label=\"delete\" onClick={() => removeHashtag(hashtag)}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </div>)\r\n        }\r\n        <form onSubmit={addHashtag}>\r\n          <TextField id=\"newTag\" placeholder=\"+ New Hashtag\" />\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}","import AppBar from '@material-ui/core/AppBar';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport React from 'react';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: '80%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n\r\n  },\r\n\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n\r\n  selected: {\r\n    border: '2px solid orange',\r\n  },\r\n\r\n  unselected: {\r\n\r\n  },\r\n\r\n  gridList: {\r\n\r\n  },\r\n\r\n}));\r\n\r\nconst modalStyle = {\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: `translate(-${50}%, -${50}%)`,\r\n}\r\n\r\nconst allPictures = ['/images/photo1.jpg', '/images/photo2.jpg', '/images/photo3.jpg']\r\n\r\nfunction MyAppBar({ onSubmit }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar variant=\"dense\">\r\n          <Typography variant=\"h6\" color=\"inherit\" style={{ flexGrow: 1 }}>\r\n            Photos\r\n          </Typography>\r\n\r\n          <IconButton edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\"\r\n            onClick={onSubmit}\r\n          >\r\n            <CheckIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function PictureSelector({ pictures, onSubmit }) {\r\n  const classes = useStyles();\r\n  const [selected, setSelected] = React.useState(pictures)\r\n  console.log(pictures)\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit(selected)\r\n  }\r\n\r\n  const togglePic = (pic) => {\r\n    if (selected.includes(pic))\r\n      setSelected(selected.filter(item => item !== pic))\r\n\r\n    else\r\n      setSelected([...selected, pic])\r\n  }\r\n\r\n  // TODO 공식문서에는 이렇게 하라고 되어있음. 그런데 이렇게 하면 한 column에 모든 사진이 있음\r\n  // const Pictures = React.forwardRef((props, ref) =>\r\n  //   allPictures.map((pic) => (\r\n  //     <GridList cellHeight={160} className={classes.gridList} cols={3}>\r\n  //       <GridListTile ref={ref} key={pic} cols={1} onClick={() => togglePic(pic)}\r\n  //         className={selected.includes(pic) ? classes.selected : classes.unselected}\r\n  //       >\r\n  //         <img src={process.env.PUBLIC_URL + pic} alt=\"bike\" />\r\n  //       </GridListTile>\r\n  //     </GridList>\r\n  //   )));\r\n\r\n  if (!pictures)\r\n    return <div> 로딩중 </div>\r\n\r\n  return <div>\r\n    <MyAppBar onSubmit={handleSubmit} />\r\n    {/* <Pictures /> */}\r\n\r\n    <GridList cellHeight={200} className={classes.gridList} cols={3}>\r\n      {allPictures.map((pic) => (\r\n        <GridListTile key={pic} cols={1} onClick={() => togglePic(pic)}\r\n          className={selected.includes(pic) ? classes.selected : classes.unselected}\r\n        >\r\n          <img src={process.env.PUBLIC_URL + pic} alt=\"bike\" />\r\n        </GridListTile>\r\n      ))}\r\n    </GridList>\r\n\r\n    사진을 추가해보시지\r\n  </div>\r\n}\r\n","import dayjs from 'dayjs';\r\n\r\nconst initJournals =\r\n  [\r\n    {\r\n      id: \"1\",\r\n      title: '제목1', desc: '내용1',\r\n      friends: ['1'],\r\n      hashtags: ['happy'],\r\n      photos: [\"/images/photo1.jpg\"],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 100,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: [\r\n        [126.91462625155943, 37.49468356316903],\r\n        [126.91466456325881, 37.49457548665683],\r\n        [126.91467809668889, 37.4945003236157],\r\n        [126.91469501347642, 37.494409948906565],\r\n        [126.91470290797731, 37.49436968291182],\r\n        [126.91484578727844, 37.49369203740101],\r\n        [126.91634996665469, 37.493628630563954],\r\n        [126.91635767048872, 37.494331551409644],\r\n        [126.91753635713798, 37.49434377606901],\r\n        [126.9184608172214, 37.49440489929814],\r\n        [126.91876897058253, 37.49367752962703],\r\n      ],\r\n    },\r\n\r\n    {\r\n      id: \"2\",\r\n      title: '제목2', desc: '내용2',\r\n      friends: ['1', '0'],\r\n      hashtags: ['happy', \"exited\"],\r\n      photos: ['/images/photo2.jpg'],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 200,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(1, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n    },\r\n\r\n    {\r\n      id: \"3\",\r\n      title: '제목3', desc: '내용3',\r\n      friends: [],\r\n      hashtags: ['sad'],\r\n      photos: ['/images/photo3.jpg'],\r\n      emojis: [\"sad\"],\r\n      distance: 300,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n\r\n    },\r\n\r\n    {\r\n      id: \"4\",\r\n      title: '제목4', desc: '내용4',\r\n      friends: ['1'],\r\n      hashtags: ['happy'],\r\n      photos: ['/images/photo1.jpg', '/images/photo2.jpg'],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 20,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'), weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n    },\r\n\r\n    {\r\n      id: \"5\",\r\n      title: '제목5', desc: '내용5',\r\n      friends: ['1'],\r\n      hashtags: ['happy'],\r\n      photos: [],\r\n      emojis: [\"happy\", \"exited\"],\r\n      distance: 20,\r\n      startTime: dayjs(),\r\n      endTime: dayjs().add(2, 'hour'),\r\n      weather: \"sunny\",\r\n      metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n      map: \"../\",\r\n      route: []\r\n    },\r\n  ]\r\n\r\nexport const mockJournal = {\r\n  // 수정 가능\r\n  title: '제목1', desc: '내용1',\r\n  friends: ['1'],\r\n  hashtags: ['happy'],\r\n  photos: ['../'],\r\n\r\n  // 수정 불가능\r\n  emojis: [\"happy\", \"exited\"],\r\n  distance: 100,\r\n  startTime: dayjs(),\r\n  endTime: dayjs().add(2, 'hour'),\r\n  weather: \"sunny\",\r\n  metaphor: { tree: 1, taxi: 2, hamburger: 3 },\r\n  map: \"../\",\r\n  route: [\r\n    [126.91462625155943, 37.49468356316903],\r\n    [126.91466456325881, 37.49457548665683],\r\n    [126.91467809668889, 37.4945003236157],\r\n    [126.91469501347642, 37.494409948906565],\r\n    [126.91470290797731, 37.49436968291182],\r\n    [126.91484578727844, 37.49369203740101],\r\n    [126.91634996665469, 37.493628630563954],\r\n    [126.91635767048872, 37.494331551409644],\r\n    [126.91753635713798, 37.49434377606901],\r\n    [126.9184608172214, 37.49440489929814],\r\n    [126.91876897058253, 37.49367752962703],\r\n  ],\r\n};\r\n\r\nexport default initJournals","\r\n// 방법1\r\n// create인 경우, edit인 경우 이동\r\n// 마지막 라우트의 id를 읽어서 요청을 보냄\r\n\r\nimport { nullToList, toList } from '../../util/format';\r\n\r\nimport FriendAddPage from '../../component/journal/FriendAddPage';\r\nimport JournalForm from '../../component/journal/JournalForm';\r\nimport { Modal } from '@material-ui/core';\r\nimport PictureSelector from '../../component/journal/PictureSelector';\r\nimport React from 'react';\r\nimport dayjs from 'dayjs'\r\nimport { mockJournal } from '../../data/journal'\r\nimport { useParams } from 'react-router-dom';\r\n\r\nfunction getFriends(ids, allFriends) {\r\n  console.log(ids)\r\n  console.log(allFriends)\r\n  return allFriends.filter(friend => ids.includes(friend.id))\r\n}\r\n\r\n\r\nfunction getJournal(jid, initJournals) {\r\n  const j = initJournals[String(jid)]\r\n  // const j = initJournals.find(j => String(j.id) === String(jid))\r\n  if (!j) {\r\n    console.log(`No such journal: ${jid}`)\r\n    return mockJournal;\r\n  }\r\n  console.log(j)\r\n  return j;\r\n}\r\n\r\n\r\nexport default function JournalEditor({ journalRef, friendRef }) {\r\n  // 라우트 params 불러오기\r\n  // create인 경우 vs. edit인 경우\r\n  // const id = 1;\r\n  let { id } = useParams();\r\n  const [journal, setJournal] = React.useState(mockJournal);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [allFriends, setAllFriends] = React.useState([])\r\n\r\n  React.useEffect(\r\n    () => {\r\n      journalRef.once('value', snapshot => {\r\n        const journalData = snapshot.val()\r\n        console.log(journalData);\r\n        const j = getJournal(id, journalData)\r\n        friendRef.once('value', snapshot => {\r\n          const friendData = snapshot.val()\r\n          console.log(friendData);\r\n          let allFriends = toList(friendData)\r\n          let friends = nullToList(j.friends)\r\n          setFriends(getFriends(friends, allFriends))\r\n          setAllFriends(allFriends)\r\n          setJournal(j)\r\n          setPictures(nullToList(j.photos))\r\n          setLoading(false)\r\n        })\r\n      })\r\n    }, [journalRef, id, friendRef]\r\n  )\r\n\r\n\r\n  const onSubmit = ({\r\n    title, desc, hashtags\r\n  }) => {\r\n    const newJournal = {\r\n      ...journal,\r\n      title, desc, friends: friends.map(friend => friend.id), hashtags, photos: pictures\r\n    }\r\n\r\n    // id 에 해당하는 파이어베이스 데이터를 newJournal로 업데이트\r\n    journalRef.child(journal.id).set(newJournal)\r\n\r\n    // 새로운 저널일 경우 처리해주기\r\n  }\r\n  const [friendPageOpen, setFriendAddPageOpen] = React.useState(false);\r\n  const [pictureSelectorOpen, setPictureSelectorOpen] = React.useState(false);\r\n  const [pictures, setPictures] = React.useState([])\r\n  const [friends, setFriends] = React.useState([]);\r\n\r\n\r\n  const removeFriend = (friend) => {\r\n    setFriends(friends.filter(item => item !== friend))\r\n  }\r\n\r\n  const addFriend = (friend) => {\r\n    if (friends.includes(friend)) return;\r\n    setFriends([...friends, friend])\r\n  }\r\n\r\n\r\n  const onSubmitPictures = (selected) => {\r\n    setPictures(selected)\r\n    setPictureSelectorOpen(false)\r\n  }\r\n\r\n  const removePicture = (pic) => {\r\n    setPictures(pictures.filter(item => item !== pic))\r\n  }\r\n\r\n  if (loading)\r\n    return <div> loading... </div>\r\n\r\n\r\n  const MyPictureSelector = React.forwardRef((props, ref) => <PictureSelector pictures={pictures} onSubmit={onSubmitPictures} ref={ref} />);\r\n\r\n\r\n  return (\r\n    <div>\r\n      <JournalForm journal={journal} onSubmit={onSubmit} openFriendAddPage={() => setFriendAddPageOpen(true)}\r\n        friends={friends} removeFriend={removeFriend} addFriend={addFriend}\r\n        openPictureSelector={() => setPictureSelectorOpen(true)}\r\n        pictures={pictures}\r\n        removePicture={removePicture}\r\n      />\r\n      <Modal open={friendPageOpen} onClose={() => setFriendAddPageOpen(false)}>\r\n        <FriendAddPage allFriends={allFriends} selectedFriends={friends} addFriend={addFriend} />\r\n      </Modal>\r\n\r\n      <Modal open={pictureSelectorOpen} onClose={() => setPictureSelectorOpen(false)}>\r\n        <MyPictureSelector />\r\n      </Modal>\r\n\r\n    </div >)\r\n}","import Button from '@material-ui/core/Button';\r\nimport FilterIcon from '@material-ui/icons/FilterList';\r\nimport JournalDetail from '../../component/journal/JournalDetail'\r\nimport JournalList from '../../component/journal/JournalList'\r\nimport Modal from '@material-ui/core/Modal';\r\nimport React from 'react';\r\nimport SearchBar from '../../component/common/SearchBar';\r\nimport flist from \"../../data/FriendData.json\";\r\nimport initJournals from '../../data/journal'\r\n\r\nfunction getFriendsByJournal(journals, flist) {\r\n  let friendsByJournal = {}\r\n  for (let i = 0; i < journals.length; i++) {\r\n    let j = journals[i]\r\n    friendsByJournal[j.id] = flist.filter(f => j.friends && j.friends.includes(f.id))\r\n  }\r\n\r\n  return friendsByJournal\r\n}\r\n\r\nexport default function JournalMain({ journalRef, friendRef }) {\r\n\r\n  // firebase subscribe를 해서 journal document가 바뀌면 다시 다운받도록 함\r\n  const [journals, setJournals] = React.useState([]);\r\n  const [friendsByJournal, setFriendsByJournal] = React.useState([])\r\n\r\n  React.useEffect(\r\n    () => {\r\n      journalRef.on('value', snapshot => {\r\n        const journalData = snapshot.val()\r\n        console.log(journalData);\r\n        let journalList = journalData ? Object.values(journalData) : [];\r\n        friendRef.once('value', snapshot => {\r\n          let friendData = snapshot.val()\r\n          let friendList = friendData ? Object.values(friendData) : [];\r\n          setJournals(journalList)\r\n          setFriendsByJournal(getFriendsByJournal(journalList, friendList));\r\n        })\r\n      })\r\n    }, []\r\n  )\r\n\r\n  const [selected, setSelected] = React.useState(null);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = (journal) => {\r\n    setOpen(true);\r\n    setSelected(journal);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelected(null);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <SearchBar />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          startIcon={<FilterIcon />}\r\n        >\r\n          필터\r\n      </Button>\r\n      </div>\r\n\r\n      <JournalList journals={journals} openJournal={handleOpen} friendsByJournal={friendsByJournal} />\r\n\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <JournalDetail journal={selected} friends={selected ? friendsByJournal[selected.id] : null} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};","import React, {useState} from 'react';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { styled } from '@material-ui/core/styles';\r\n\r\nconst logo = '/images/logo.png'\r\n\r\nconst MyButton = styled(Button)({\r\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n  border: 0,\r\n  borderRadius: 3,\r\n  boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n  color: 'white',\r\n  width: '60vw',\r\n  height: '40px',\r\n  padding: '0 30px',\r\n  marginBottom: '10px',\r\n});\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  background: {\r\n    background: 'linear-gradient(0deg, #FFEDE8, #FFFFF5)',\r\n    backgroundPosition: 'center',\r\n    backgroundRepeat: 'no-repeat',\r\n    width: '100vw',\r\n    height: '100vh',\r\n    bottom: 0,\r\n  },\r\n  grid: {\r\n    margin: 'auto',\r\n  },\r\n  textField: {\r\n    width: '60vw',\r\n    background: '#FFFFFF',\r\n  },\r\n  submit: {\r\n    marginTop: '3vh'\r\n  },\r\n  login: {\r\n    marginBottom: '2vh',\r\n  },\r\n  logo: {\r\n    paddingTop: theme.spacing(12),\r\n    paddingBottom: theme.spacing(10),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n\r\n  const [val, setVal] = useState({\r\n    id : \"id123\",\r\n    password : \"password123\",\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    alert(`아이디: ${val.id} 비밀번호: ${val.password}`);\r\n    window.location.replace (\"/journal\")\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const {name, value} = e.target;\r\n    setVal({\r\n      ...val,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  return (\r\n    \r\n    <Container className={classes.background}>\r\n      <Box className={classes.root}>\r\n        <Grid container className={classes.logo} justify=\"center\">\r\n          <img src={process.env.PUBLIC_URL +logo} alt=\"logo\"/>\r\n        </Grid>\r\n        \r\n        <Grid container alignItems=\"center\" direction=\"column\" spacing={1}>\r\n          <Typography variant=\"h5\" className={classes.login}>\r\n            Login\r\n          </Typography>\r\n          <Grid item xs={8}>\r\n            <TextField \r\n              type=\"id\"\r\n              name=\"id\"\r\n              required\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onChange={onChange}\r\n              placeholder=\"Enter ID\"\r\n              className={classes.textField}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onChange={onChange} \r\n              placeholder=\"Enter password\"\r\n              className={classes.textField}\r\n            />\r\n          </Grid>\r\n \r\n          <MyButton onClick={handleSubmit} className={classes.submit}>Submit</MyButton>\r\n        </Grid>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}","import Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { spacing } from '@material-ui/system';\r\nimport { styled } from '@material-ui/core/styles';\r\n\r\nconst logo = '/images/logo.png'\r\n\r\nconst MyButton = styled(Button)({\r\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n  border: 0,\r\n  borderRadius: 3,\r\n  boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n  color: 'white',\r\n  width: '60%',\r\n  height: '40px',\r\n  padding: '0 30px',\r\n  marginBottom: '10px',\r\n});\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  background: {\r\n    background: 'linear-gradient(0deg, #FFEDE8, #FFFFF5)',\r\n    backgroundPosition: 'center',\r\n    backgroundRepeat: 'no-repeat',\r\n    width: '100vw',\r\n    height: '100vh',\r\n    bottom: 0,\r\n  },\r\n  logo: {\r\n    paddingTop: theme.spacing(12),\r\n    paddingBottom: theme.spacing(26),\r\n  },\r\n  character: {\r\n    width: '60%'\r\n  }\r\n}));\r\n\r\nexport default function LoginInitial() {\r\n  const classes = useStyles();\r\n\r\n  function handleClick() {\r\n    window.location.replace(\"/login\")\r\n  }\r\n\r\n  return (\r\n    <Container className={classes.background}>\r\n      <CssBaseline />\r\n      <Grid container className={classes.logo} justify=\"center\">\r\n        <img src={process.env.PUBLIC_URL + logo} alt=\"logo\" />\r\n      </Grid>\r\n      <Grid container alignItems=\"center\" direction=\"column\" spacing={1}>\r\n        <MyButton item onClick={handleClick}>Log in</MyButton>\r\n        <Typography item className={classes.character} align=\"center\" variant=\"body2\">\r\n          Don't have an account? <b>SIGN UP</b>\r\n        </Typography>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}","import \"@fontsource/roboto\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst logo = '/images/logo.png'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  badgeBox: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  badge: {\r\n    margin: \"auto\",\r\n    display: \"block\",\r\n    maxWidth: \"100%\",\r\n    maxHeight: \"100%\",\r\n  },\r\n  buttonBase: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nexport default function MyPage() {\r\n  const classes = useStyles();\r\n\r\n  function handleClick() {\r\n    window.location.replace(\"/badgeDetail\");\r\n  }\r\n\r\n  return (\r\n    <Box fontFamily=\"roboto\" p={3} height=\"100vh\">\r\n      <div>\r\n        <Box mb={2} bgcolor=\"#ffc400\">\r\n          personal information\r\n        </Box>\r\n\r\n        <Box mt={2}>\r\n          <Typography>Records</Typography>\r\n          <Box bgcolor=\"primary.main\">1000km 탔네요!</Box>\r\n        </Box>\r\n\r\n        <div className={classes.root}>\r\n          <Typography>Badge</Typography>\r\n\r\n          <Paper\r\n            className={classes.paper}\r\n            onClick={() => {\r\n              handleClick();\r\n            }}\r\n          >\r\n            <ButtonBase className={classes.buttonBase}>\r\n              <Grid container spacing={2}>\r\n                <Grid item>\r\n                  <Box className={classes.badgeBox}>\r\n                    <img className={classes.badge} \r\n                      src={process.env.PUBLIC_URL + logo} alt={\"main badge\"}\r\n                    />\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs container direction=\"column\" spacing={2}>\r\n                  <Grid item xs>\r\n                    <Typography variant=\"h6\" align=\"left\">\r\n                      배지 이름\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs>\r\n                    <Typography variant=\"body2\" align=\"left\">\r\n                      배지 설명asdfasdfasdfasdfasdfasdfs\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </ButtonBase>\r\n          </Paper>\r\n        </div>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n","import BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport DirectionsBikeIcon from '@material-ui/icons/DirectionsBike';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport { Link } from 'react-router-dom';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '60px',\r\n    position: 'fixed',\r\n    bottom: 0,\r\n  },\r\n});\r\n\r\nexport default function LabelBottomNavigation() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState('home');\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <BottomNavigation value={value} onChange={handleChange} className={classes.root}>\r\n      <BottomNavigationAction label=\"친구\" value=\"friend\" icon={<PeopleIcon />}\r\n        component={Link} to=\"/friend\">\r\n      </BottomNavigationAction>\r\n      <BottomNavigationAction label=\"홈\" value=\"home\" icon={<HomeIcon />}\r\n        component={Link} to=\"/\"\r\n      />\r\n      <BottomNavigationAction label=\"기록\" value=\"journal\" icon={<DirectionsBikeIcon />}\r\n        component={Link} to=\"/journal\"\r\n      />\r\n\r\n    </BottomNavigation>\r\n  );\r\n}","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n};\r\n\r\nconsole.log(firebaseConfig.databaseURL)\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.database();\r\n\r\n\r\nexport default db;\r\n","import \"./App.css\";\r\n\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport BadgeDetail from \"./container/BadgeDetail\";\r\nimport Friends from \"./container/Friends\";\r\nimport Home from \"./container/Home\";\r\nimport JournalEditor from \"./container/journal/JournalEditor\";\r\nimport JournalMain from \"./container/journal/JournalMain\";\r\nimport Login from \"./container/Login\";\r\nimport LoginInitial from \"./container/LoginInitial\";\r\nimport MyPage from \"./container/MyPage\";\r\nimport NavigationBar from \"./component/NavigationBar\";\r\nimport db from \"./firebaseInit\";\r\n\r\nconst journalRef = \"/nayeon/journals\";\r\nconst frequestRef = \"/nayeon/frequests\";\r\nconst friendRef = \"/nayeon/friends\";\r\n\r\nfunction App() {\r\n  console.log(db);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavigationBar />\r\n      <Switch>\r\n        <Route path=\"/\" exact render={() => <Home journalRef={db.ref(journalRef)} />} />\r\n        <Route\r\n          path=\"/journal\"\r\n          exact\r\n          render={() => <JournalMain journalRef={db.ref(journalRef)} friendRef={db.ref(friendRef)}/>}\r\n        />\r\n        <Route path=\"/edit/:id\" exact\r\n          render={() => <JournalEditor journalRef={db.ref(journalRef)} friendRef={db.ref(friendRef)}\r\n          />}\r\n        />\r\n        <Route path=\"/login\" exact component={Login} />\r\n        <Route path=\"/loginInitial\" exact component={LoginInitial} />\r\n        <Route path=\"/myPage\" exact component={MyPage} />\r\n        <Route path=\"/badgeDetail\" exact component={BadgeDetail} />\r\n        <Route\r\n          path=\"/friend\"\r\n          render={() => (\r\n            <Friends\r\n              friendRef={db.ref(friendRef)}\r\n              frequestRef={db.ref(frequestRef)}\r\n              journalRef={db.ref(journalRef)}\r\n            />\r\n          )}\r\n        />\r\n        {/* <Redirect from=\"*\" to=\"/\" /> */}\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}