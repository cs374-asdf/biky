(this.webpackJsonpbiky=this.webpackJsonpbiky||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},204:function(e){e.exports=JSON.parse("{}")},212:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(18),c=n.n(r),o=(n(166),n(167),n(27)),s=n(21),l=n(143),d=n(283),j=n(96),b=n(95),u=n(11),p=n(125),h=n.n(p),x=n(285),g=n(76),m=n(256),O=n(147),f=n(52),v=n(253),y=n(1),k=Object(v.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},paper:{padding:e.spacing(2)},badgeBox:{width:"100%",height:"100%"},badge:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},eachBadge:{margin:e.spacing(2,0)},buttonBase:{width:"100%",borderBottom:"dotted 1px lightgray"},arrow:{margin:e.spacing(1,1)},bold:{fontWeight:"bold",fontSize:"20px"}}})),w=[{oid:0,thumbnail:"/images/logo.png",title:"\ubc30\uc9c0 \uc774\ub9840",description:"\ubc30\uc9c0 \uc124\uba850"},{oid:1,thumbnail:"/images/badge1.png",title:"\ubc30\uc9c0 \uc774\ub9841",description:"\ubc30\uc9c0 \uc124\uba851"},{oid:2,thumbnail:"/images/badge2.png",title:"\ubc30\uc9c0 \uc774\ub9842",description:"\ubc30\uc9c0 \uc124\uba852"},{oid:3,thumbnail:"/images/badge3.png",title:"\ubc30\uc9c0 \uc774\ub9843",description:"\ubc30\uc9c0 \uc124\uba853"}];function N(){var e=k(),t=Object(i.useState)({representativeBadge:0}),n=Object(u.a)(t,2),a=n[0],r=n[1];var c=w.map((function(t,n){return Object(y.jsx)(O.a,{onClick:function(){var e;e=t.oid,r({representativeBadge:e}),console.log(a)},children:Object(y.jsx)(g.a,{className:e.buttonBase,style:n===a.representativeBadge?{backgroundColor:"lightgray"}:{},children:Object(y.jsxs)(m.a,{container:!0,spacing:2,className:e.eachBadge,children:[Object(y.jsx)(m.a,{item:!0,children:Object(y.jsx)(x.a,{className:e.badgeBox,children:Object(y.jsx)("img",{className:e.badge,src:"/biky"+t.thumbnail,alt:t.title})})}),Object(y.jsxs)(m.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(f.a,{variant:"h6",align:"left",children:t.title})}),Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(f.a,{variant:"body2",align:"left",children:t.description})})]})]})})})}));return Object(y.jsxs)(x.a,{p:3,children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(h.a,{className:e.arrow,onClick:function(){window.location.replace("/biky/myPage")}})}),Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(f.a,{className:e.bold,style:{marginBottom:"10px"},children:"Representative Badge"}),Object(y.jsx)(O.a,{className:e.paper,children:Object(y.jsxs)(m.a,{container:!0,spacing:2,children:[Object(y.jsx)(m.a,{item:!0,children:Object(y.jsx)(x.a,{className:e.badgeBox,children:Object(y.jsx)("img",{className:e.badge,src:"/biky"+w[a.representativeBadge].thumbnail,alt:"\ub300\ud45c \ubc43\uc9c0"})})}),Object(y.jsxs)(m.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(f.a,{variant:"h6",children:w[a.representativeBadge].title})}),Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(f.a,{variant:"body2",children:w[a.representativeBadge].description})})]})]})})]}),Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(f.a,{className:e.bold,style:{marginBottom:"10px"},children:"Other Badges"}),Object(y.jsx)(x.a,{style:{border:"solid 1px lightgray",overflow:"scroll",maxHeight:"calc(100vh - 390px)"},children:c})]})]})}var C=n(257),S=n(258),F=n(289),R=Object(v.a)((function(e){return{root:{display:"flex","& > *":{}},orange:{color:e.palette.getContrastText(C.a[500]),backgroundColor:C.a[500]},purple:{color:e.palette.getContrastText(S.a[500]),backgroundColor:S.a[500]}}}));function B(){var e=R();return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(F.a,{className:e.orange,component:o.b,to:"/biky/myPage",children:"N"})})}var I=n(214),A=n(287),T=n(267),D=n(269),L=n(136),W=n.n(L),z=n(135),M=n.n(z),P=n(137),Y=n.n(P),E=n(268),J=n(106),q=n.n(J),_=n(286),H=n(41),G=n(25),V=n(290),U=n(259),Z=n(261),K=n(260);function X(e){var t=e.friend;e.style;return Object(y.jsxs)(x.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",width:"100%",mb:1,style:{borderTop:"1px dashed lightgray"},children:[Object(y.jsx)(x.a,{flex:1,mr:1,children:Object(y.jsx)(F.a,{alt:t.name,src:"/biky"+t.picture,style:{border:"2px solid lightgray"}})}),Object(y.jsx)(x.a,{flex:2,mr:4,children:Object(y.jsx)(f.a,{variant:"body2",color:"textPrimary",children:t.name})})]})}function Q(e){return e||[]}function $(e){var t=parseInt(e/60),n=e%60;return"".concat(t>0?"".concat(t," hr").concat(t>1?"s":""," "):" ").concat(n>=0?"".concat(n," min").concat(n>1?"s":""):"")}function ee(e){return"".concat(e," km")}var te=n(90),ne=n(126),ie=n(127),ae=(n(174),n(175),n(128)),re=(n(176),n(177),n(178),n(129)),ce=n(130),oe=n(131),se=(n(179),n(180),n(181),n(182),n(183),n(132)),le=(n(184),n(133));n(185),n(186);function de(e){return Object(y.jsx)(te.Icon,{icon:je(e),width:"2em"})}function je(e){switch(e){case"sad":case"\ud79d":case"\uc2ac\ud504\ub2e4":return ae.a;case"angry":case"\ud654\ub098\ub124":return ce.a;case"excited":case"happy":case"\ud589\ubcf5\ud574":case"\uae30\ubd80\ub2c8\uac00 \uc88b\uc544\uc694":return se.a;case"tired":case"exhausted":case"\uc878\ub9bc":case"sleepy":return le.a;case"\uc874\ub9db":case"delicious":case"yummy":return re.a;case"\uc774\uc2dc\uad6d":case"fever":case"sick":case"\uc544\ud30c\uc694":return oe.a;default:return ne.a}}te.Icon,ie.a;var be=n(19),ue=n.n(be);function pe(e){var t=e.startTime,n=e.endTime,i=ue()(t).format("YYYY. M. D."),a=ue()(t).format("H\uc2dc M\ubd84"),r=ue()(n).format("H\uc2dc M\ubd84");return Object(y.jsxs)("div",{children:[Object(y.jsx)(f.a,{variant:"h6",children:i}),Object(y.jsxs)(f.a,{children:[a," \ubd80\ud130 ",r," \uae4c\uc9c0"]})]})}function he(e){return e?e.map((function(e){return Object(y.jsxs)("div",{children:[" ",e," "]},e)})):Object(y.jsx)("div",{children:" empty "})}function xe(e){return e?e.map((function(e){return Object(y.jsx)(X,{friend:e},e.id)})):Object(y.jsx)("div",{children:" no friends... "})}function ge(e){return e?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:[" \ub098\ubb34 ",e.tree," \uadf8\ub8e8 "]}),Object(y.jsxs)("div",{children:[" \ud0dd\uc2dc ",e.taxi," \ubc88 "]}),Object(y.jsxs)("div",{children:[" \ud584\ubc84\uac70 ",e.hamburger," \uac1c "]})]}):Object(y.jsx)("div",{children:" empty metaphor "})}function me(e){var t=e.journal,n=e.openJournal,i=e.friends;if(!t)return null;var a=Q(t.emojis).map(de);return console.log(t),Object(y.jsxs)(U.a,{onClick:function(){return n(t)},children:[Object(y.jsx)(K.a,{title:t.title}),Object(y.jsxs)(Z.a,{children:["   ",Object(y.jsx)(pe,{startTime:t.startTime,endTime:t.endTime}),Object(y.jsx)(Z.a,{children:t.desc}),Object(y.jsx)(Z.a,{children:xe(i)}),Object(y.jsx)(Z.a,{children:he(t.hashtags)}),Object(y.jsx)(Z.a,{children:a}),Object(y.jsxs)(Z.a,{children:[t.distance," km"]})]}),Object(y.jsxs)(Z.a,{children:[t.weather," "]}),Object(y.jsxs)(Z.a,{children:[ge(t.metaphor)," "]})]})}var Oe=n(266),fe=n(265),ve=n(91),ye=n.n(ve),ke=n(262),we=n(263),Ne=n(264),Ce=Object(v.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1),width:"80%"}},hashtagGroup:{display:"flex",flexDirection:"row"},picture:{},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function Se(e){var t=e.pictures,n=e.removePicture,i=e.isEditing,a=Ce();return t?Object(y.jsx)(ke.a,{cellHeight:160,className:a.gridList,cols:3,children:t.map((function(e){return Object(y.jsxs)(we.a,{className:a.picture,children:[Object(y.jsx)("img",{src:"/biky"+e,alt:"bike"}),i&&Object(y.jsx)(Ne.a,{classes:{root:a.titleBar,title:a.title},actionIcon:Object(y.jsx)(I.a,{"aria-label":"delete ".concat(e),onClick:function(){return n(e)},children:Object(y.jsx)(ye.a,{className:a.title})})})]},e)}))}):null}var Fe=n(68),Re=n.n(Fe),Be=Object(v.a)({map:{position:"relative",width:"100%",height:"100%",textAlign:"center",display:"inline-block"}});function Ie(e){var t=Be(),n=e.route?e.route:[],a=e.zoom?e.zoom:15,r=e.width?e.width:"100%",c=e.height?e.height:"300px",o=n.length,s=n[0],l=n[o-1];console.log(n);var d=Object(i.useRef)(null),j=Object(i.useRef)(null);return Object(i.useEffect)((function(){j.current||(j.current=new Re.a.Map({container:d.current,style:"mapbox://styles/mapbox/streets-v11",center:l,zoom:a}),j.current.on("load",(function(){j.current.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:n}}}),j.current.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":4}}),j.current.addSource("start",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:s}}]}}),j.current.addLayer({id:"start",type:"circle",source:"start",paint:{"circle-radius":5,"circle-color":"#0000FF","circle-opacity":1}}),j.current.addSource("end",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:l}}]}}),j.current.addLayer({id:"end",type:"circle",source:"end",paint:{"circle-radius":5,"circle-color":"#FF0000","circle-opacity":1}})})))})),Object(y.jsx)("div",{style:{width:r,height:c},children:Object(y.jsx)("div",{ref:d,className:t.map})})}Re.a.accessToken="pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg";var Ae=Object(v.a)((function(e){return{paper:{width:"80%",position:"absolute",maxHeight:"80%",padding:e.spacing(2,4,3)}}})),Te={top:"50%",left:"50%",position:"absolute",overflow:"scroll",transform:"translate(-".concat(50,"%, -",50,"%)")};function De(e){return console.log("time: ",e),ue()(e).format("YYYY\ub144 M\uc6d4 D\uc77c H\uc2dc m\ubd84")}function Le(e){var t=e.journal,n=(e.friends,Ae());if(!t)return null;var i,a,r=Q(t.emojis).map(de);return console.log(t.friends),Object(y.jsxs)(U.a,{style:Te,className:n.paper,children:[Object(y.jsx)(K.a,{title:t.title}),Object(y.jsx)(Z.a,{children:t.desc}),Object(y.jsx)(Z.a,{children:he(t.hashtags)}),Object(y.jsx)(Z.a,{children:r}),Object(y.jsx)(Z.a,{children:Object(y.jsx)(Se,{pictures:t.photos,isEditing:!1})}),Object(y.jsxs)(Z.a,{children:[t.distance," km"]}),Object(y.jsx)(Z.a,{children:(i=t.startTime,a=t.endTime,Object(y.jsxs)("div",{children:[De(i)," \ubd80\ud130 ",De(a)," \uae4c\uc9c0"]}))}),Object(y.jsxs)(Z.a,{children:[t.weather," "]}),Object(y.jsxs)(Z.a,{children:[ge(t.metaphor)," "]}),Object(y.jsx)(Z.a,{children:Object(y.jsx)(Ie,{route:t.route,zoom:15,width:"100%",height:"300px"})}),Object(y.jsxs)(fe.a,{children:[Object(y.jsx)(Oe.a,{disabled:!1,component:o.b,to:"/biky/edit/".concat(t.id),children:"\uc218\uc815"}),Object(y.jsx)(Oe.a,{onClick:function(){return alert("\uc0ad\uc81c")},children:"\uc0ad\uc81c"})]})]})}function We(e){var t=e.journals,n=e.openJournal,i=e.friendsByJournal,a=t?t.map((function(e){return Object(y.jsx)(me,{openJournal:n,journal:e,friends:i[e.id]},e.id)})):Object(y.jsx)("p",{children:" \uc544\uc9c1 \uac8c\uc2dc\uae00\uc774 \uc5c6\uc5b4\uc694!"});return Object(y.jsx)("div",{children:a})}var ze=n(134),Me=n.n(ze),Pe=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(H.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(H.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(H.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Ye(){var e=Pe();return Object(y.jsxs)("div",{className:e.search,children:[Object(y.jsx)("div",{className:e.searchIcon,children:Object(y.jsx)(Me.a,{})}),Object(y.jsx)(V.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})}var Ee=Object(v.a)((function(e){return{paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"18px"},mailIcon:{position:"absolute",display:"inline-block",marginLeft:"10px"}}}));function Je(e){return Object(y.jsx)("div",{style:{margin:"5px",marginTop:"5px",width:"100%"},children:Object(y.jsx)(A.a,{expanded:!1,style:{boxShadow:"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)"},children:Object(y.jsx)(T.a,{children:Object(y.jsxs)(x.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",width:"100%",children:[Object(y.jsx)(x.a,{flex:1,mr:1,children:Object(y.jsx)(F.a,{alt:e.name,src:"/biky"+e.picture,style:{border:"2px solid lightgray",width:"30px",height:"30px"}})}),Object(y.jsx)(x.a,{flex:8,mr:2,style:{minWidth:"75px"},children:Object(y.jsx)(f.a,{variant:"body2",color:"textPrimary",children:e.name})}),Object(y.jsxs)(x.a,{children:[Object(y.jsx)("div",{style:{display:"inline-block",marginRight:"10px"},children:Object(y.jsx)(I.a,{style:{color:"green",width:"30px",height:"30px"},onClick:function(){e.onAcceptClick(e.oid)},children:Object(y.jsx)(M.a,{})})}),Object(y.jsx)("div",{style:{display:"inline-block"},children:Object(y.jsx)(I.a,{style:{color:"red",width:"30px",height:"30px"},onClick:function(){e.onRejectClick(e.oid)},children:Object(y.jsx)(W.a,{})})})]})]})})})})}function qe(e){var t=Ee(),n=a.a.useState({top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"80vh",overflow:"scroll"}),i=Object(u.a)(n,1)[0],r=a.a.useState(!1),c=Object(u.a)(r,2),o=c[0],s=c[1];var l=function(){s(!1)},d=Object(y.jsx)("div",{style:i,className:t.paper,children:Object(y.jsxs)(x.a,{display:"flex",flexDirection:"column",children:[Object(y.jsxs)(x.a,{flex:1,display:"flex",alignItems:"center",flexDirection:"row",children:[Object(y.jsx)(x.a,{flexGrow:1,children:Object(y.jsx)(f.a,{variant:"h4",color:"textPrimary",children:Object(y.jsx)("b",{children:"Frequest"})})}),Object(y.jsx)(x.a,{children:Object(y.jsx)(I.a,{onClick:l,style:{width:"30px",height:"30px"},children:Object(y.jsx)(Y.a,{})})})]}),Object(y.jsxs)(x.a,{flex:4,children:[Object(y.jsx)(f.a,{variant:"subtitle1",color:"textPrimary",style:{padding:"7px 0"},children:Object(y.jsx)("b",{children:"Received Frequests"})}),Object(y.jsx)(x.a,{display:"flex",alignItems:"center",flexDirection:"column",style:{paddingBottom:"5px"},children:null==e.frequests||0===e.frequests.length?Object(y.jsx)(f.a,{variant:"body1",color:"textPrimary",children:"You have received no frequests"}):e.frequests.map((function(t){return Object(y.jsx)(Je,{oid:t.id,name:t.name,picture:t.picture,onRejectClick:e.onRejectClick,onAcceptClick:e.onAcceptClick},t.id)}))})]}),Object(y.jsx)(E.a,{style:{margin:"10px 0"}}),Object(y.jsxs)(x.a,{flex:4,children:[Object(y.jsx)(f.a,{variant:"subtitle1",color:"textPrimary",style:{padding:"7px 0"},children:Object(y.jsx)("b",{children:"Send a Frequest"})}),Object(y.jsx)(Ye,{})]})]})});return Object(y.jsxs)("div",{className:t.mailIcon,children:[Object(y.jsx)(I.a,{onClick:function(){s(!0)},children:null==e.frequests||0===e.frequests.length?Object(y.jsx)(q.a,{}):Object(y.jsx)(D.a,{badgeContent:e.frequests.length,color:"primary",children:Object(y.jsx)(q.a,{})})}),Object(y.jsx)(_.a,{open:o,onClose:l,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:d})]})}var _e=n(94),He=n.n(_e),Ge=n(270),Ve=n(138),Ue=n.n(Ve),Ze=Object(v.a)((function(e){return{pro_bar:{backgroundColor:"hsl(0, 0%, 97%)",height:"4px",marginBottom:"12px",marginTop:"12px",position:"relative"},progress_bar_inner:{display:"block",width:0,height:"100%",position:"absolute",top:0,left:0,backgroundColor:"#ff85ac",transition:"width 1s linear 0s","&::after":{content:'""',width:"32px",height:"29px",backgroundImage:"url(".concat("/biky/images/bike.png",")"),backgroundSize:"contain",borderRadius:"50%",position:"absolute",right:"-4px",top:"-20px"}}}}));function Ke(e){var t=Ze();return Object(y.jsx)(x.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:Object(y.jsx)(x.a,{flex:5,style:{transform:"translateY(8px)"},children:Object(y.jsx)("div",{className:t.pro_bar,children:Object(y.jsx)("div",{className:t.progress_bar_inner,style:{width:e.value+"%"},"data-value":e.value,"data-percentage-value":e.value})})})})}function Xe(e){var t=e.journal;return Object(y.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"5px",padding:"7px",marginTop:"10px",fontSize:"11px"},children:[Object(y.jsx)("div",{style:{display:"inline-block",width:"20%"},children:t.startTime}),Object(y.jsx)("div",{style:{display:"inline-block",width:"35%"},children:t.title})]})}function Qe(e){var t=e.friend,n=e.journals;console.log(n);var i=0,a=0;return n&&n.map((function(e){a+=e.distance,i+=ue()(e.endTime).diff(e.startTime,"minute",!0)})),t.total_intimacy=(i/60+a)/2,t.total_intimacy>=100&&(t.total_intimacy=100),Object(y.jsxs)(A.a,{style:{boxShadow:"0px 1.77918px 3.55836px rgba(0, 0, 0, 0.25)"},children:[Object(y.jsx)(T.a,{expandIcon:Object(y.jsx)(Ue.a,{}),children:Object(y.jsx)($e,{friend:t},t.id)}),Object(y.jsx)(Ge.a,{style:{backgroundColor:"lightgray",padding:"10px"},children:Object(y.jsxs)("div",{style:{width:"100%"},children:[Object(y.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(y.jsx)("b",{children:"Time: "}),$(i)]}),Object(y.jsxs)("div",{style:{display:"inline-block",width:"50%"},children:[Object(y.jsx)("b",{children:"Distance: "}),ee(a)]}),Object(y.jsx)("div",{children:n&&n.map((function(e){return Object(y.jsx)(Xe,{journal:e},e.id)}))})]})})]})}function $e(e){var t=e.friend;return Object(y.jsxs)(x.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",width:"100%",children:[Object(y.jsx)(x.a,{flex:1,mr:1,children:Object(y.jsx)(F.a,{alt:t.name,src:"/biky"+t.picture,style:{border:"2px solid lightgray",width:"30px",height:"30px"}})}),Object(y.jsx)(x.a,{flex:2,mr:2,style:{minWidth:"75px"},children:Object(y.jsx)(f.a,{variant:"body1",color:"textPrimary",children:t.name})}),Object(y.jsx)(x.a,{flex:6,children:Object(y.jsx)(Ke,{value:t.total_intimacy})})]})}var et=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}}));function tt(e){var t=et();return Object(y.jsx)("div",{className:t.root,children:Object(y.jsxs)(x.a,{display:"flex",flexDirection:"column",children:[Object(y.jsx)(x.a,{alignSelf:"flex-end",style:{marginRight:"10px"},children:Object(y.jsx)(I.a,{children:Object(y.jsx)(He.a,{})})}),Object(y.jsx)("div",{children:e.flist.map((function(t){return function(e,t){return console.log(t),Object(y.jsx)("div",{style:{margin:"10px",marginTop:"5px"},children:Object(y.jsx)(Qe,{friend:e,journals:t})},e.id)}(t,e.journalsByFriend[t.id])}))})]})})}var nt=Object(v.a)({page:{position:"relative",margin:"0 auto"},verticalAlign:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",display:"inline-block"},header:{position:"relative",height:"49px",fontSize:"30px",fontWeight:"bold",borderBottom:"solid 1px black",textAlign:"center"},avatar:{position:"relative",height:"50px"},content:{position:"relative",height:"calc(100vh - 160px)",overflow:"scroll"}});function it(e){var t=e.friendRef,n=e.frequestRef,i=e.journalRef,r=nt(),c=a.a.useState([]),o=Object(u.a)(c,2),s=o[0],l=o[1],d=a.a.useState([]),j=Object(u.a)(d,2),b=j[0],p=j[1],h=a.a.useState(null),x=Object(u.a)(h,2),g=x[0],m=x[1];a.a.useEffect((function(){t.on("value",(function(e){var t=e.val();i.once("value",(function(e){console.log(t),p(Object.values(t));var n=e.val();m(function(e,t){for(var n={},i=function(i){var a=e[i];n[a.id]=t.filter((function(e){return e.friends&&e.friends.includes(a.id)}))},a=0;a<e.length;a++)i(a);return console.log(n),n}(Object.values(t),Object.values(n)))}))})),n.on("value",(function(e){var t=e.val();console.log(t),l(null===t?[]:Object.values(t))}))}),[]);return g?Object(y.jsxs)("div",{className:r.page,children:[Object(y.jsx)("div",{className:r.header,children:Object(y.jsx)("div",{className:r.verticalAlign,children:"Friends"})}),Object(y.jsx)("div",{className:r.avatar,children:Object(y.jsxs)("div",{className:r.verticalAlign,style:{right:"10px",transform:"translateY(-50%)"},children:["Nayeon Min"," ",Object(y.jsx)("div",{style:{display:"inline-block"},children:Object(y.jsx)(B,{})})]})}),Object(y.jsxs)("div",{className:r.content,children:[Object(y.jsx)(qe,{frequests:s,onRejectClick:function(e){n.child(e).remove()},onAcceptClick:function(e){for(var i={id:"f"+b.length,picture:"",name:"",total_intimacy:0},a=0;a<s.length;a++)s[a].id===e&&(i.name=s[a].name,i.picture=s[a].picture);t.child("f"+b.length).set(i),n.child(e).remove()}}),Object(y.jsx)(tt,{flist:b,journalsByFriend:g})]})]}):Object(y.jsx)("div",{children:" \ub85c\ub529\uc911... "})}var at=Object(v.a)((function(e){return{container:{position:"relative",width:"calc(50% - 15px)",height:"calc(100% - 40px)",padding:"10px",paddingRight:"5px",display:"inline-block",verticalAlign:"top"},background:{position:"relative",width:"calc(100% - 20px)",height:"100%",backgroundColor:"darkgray",borderRadius:"10px",padding:"10px",color:"white",fontWeight:"bold"},status:{display:"inline-block",color:"darkgray",fontSize:"12px",backgroundColor:"white",padding:"3px 10px",borderRadius:"10px",float:"right"}}}));function rt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function ct(){var e=at(),t=Object(i.useState)(rt(1,["sunny","cloudy","rainy"].length)),n=Object(u.a)(t,2),a=n[0];n[1];console.log("currentWeather: ".concat(a));var r=1===a?{backgroundColor:"yellow",color:"black"}:2===a?{backgroundColor:"lightblue"}:{backgroundColor:"darkblue"},c=1===a?"sunny":2===a?"cloudy":"rainy",o=Object(i.useState)(1===a?rt(20,30):2===a?rt(15,25):rt(10,20)),s=Object(u.a)(o,2),l=s[0];s[1];return Object(y.jsx)("div",{className:e.container,children:Object(y.jsxs)("div",{className:e.background,style:r,children:[c," ",Object(y.jsx)("br",{}),l,"\u2103"]})})}var ot=Object(v.a)((function(e){return{bar:{position:"relative",width:"100%",height:"10px",backgroundColor:"white",borderRadius:"10px",marginTop:"10px"},slider:{position:"absolute",top:"5px",transform:"translateY(-50%)",width:"25px",height:"15px",backgroundColor:"darkgray",borderRadius:"10px",color:"white",textAlign:"center",fontSize:"11px",fontWeight:"bold",border:"solid 2px white"}}}));function st(e){var t=ot(),n=e.amount,i=e.percentage;return Object(y.jsx)("div",{className:t.bar,children:Object(y.jsx)("div",{className:t.slider,style:{left:"calc(calc(100% - 29px) * ".concat(i)},children:n})})}var lt=Object(v.a)((function(e){return{container:{position:"relative",width:"calc(50% - 15px)",height:"calc(100% - 40px)",padding:"10px",paddingLeft:"5px",display:"inline-block",verticalAlign:"top"},background:{position:"relative",width:"calc(100% - 20px)",height:"100%",backgroundColor:"darkgray",borderRadius:"10px",padding:"10px",color:"white",fontWeight:"bold"},status:{display:"inline-block",color:"darkgray",fontSize:"11px",backgroundColor:"white",padding:"3px 10px",borderRadius:"10px",float:"right"}}}));function dt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function jt(){var e=lt(),t=Object(i.useState)(dt(0,200)),n=Object(u.a)(t,2),a=n[0],r=(n[1],a<=30?"GOOD":a<=80?"NORMAL":a<=150?"BAD":"VERY BAD"),c=Object(i.useState)(dt(0,100)),o=Object(u.a)(c,2),s=o[0],l=(o[1],s<=15?"GOOD":s<=35?"NORMAL":s<=75?"BAD":"VERY BAD");return Object(y.jsx)("div",{className:e.container,children:Object(y.jsxs)("div",{className:e.background,children:[Object(y.jsxs)("div",{children:["fine dust",Object(y.jsx)("div",{className:e.status,children:r}),Object(y.jsx)(st,{amount:a,percentage:a/200})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{children:["ultra-fine dust",Object(y.jsx)("div",{className:e.status,children:l}),Object(y.jsx)(st,{amount:s,percentage:s/100})]})]})})}function bt(e){var t=e.style,n=e.distance;return Object(y.jsx)("div",{className:t,style:{width:"100px"},children:n})}function ut(e){var t=e.style,n=e.time;return Object(y.jsx)("div",{className:t,style:{width:"120px"},children:n})}var pt=[[37.49468356316903,126.91462625155943],[37.49457548665683,126.91466456325881],[37.4945003236157,126.91467809668889],[37.494409948906565,126.91469501347642],[37.49436968291182,126.91470290797731],[37.49369203740101,126.91484578727844],[37.493628630563954,126.91634996665469],[37.494331551409644,126.91635767048872],[37.49434377606901,126.91753635713798],[37.49440489929814,126.9184608172214],[37.49367752962703,126.91876897058253],[37.49314415408823,126.91832564377637],[37.49274195991449,126.91792170245459],[37.49234604790941,126.91776329409315],[37.4920883897629,126.91788210036424],[37.49202554617772,126.91830980294021],[37.49193128070078,126.91894343638609]],ht=Object(v.a)({map:{position:"relative",width:"100%",height:"100%",textAlign:"center",display:"inline-block"}});function xt(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push([e[i][1],e[i][0]]);return t}function gt(e){var t=ht(),n=e.index,a=e.isRiding,r=Object(i.useRef)(null),c=Object(i.useRef)(null),o=Object(i.useState)(pt[0][1]),s=Object(u.a)(o,2),l=s[0],d=s[1],j=Object(i.useState)(pt[0][0]),b=Object(u.a)(j,2),p=b[0],h=b[1],x=Object(i.useState)(15),g=Object(u.a)(x,2),m=g[0],O=(g[1],Object(i.useState)(pt.slice(0,1))),f=Object(u.a)(O,2),v=f[0],k=f[1];return Object(i.useEffect)((function(){c.current||(c.current=new Re.a.Map({container:r.current,style:"mapbox://styles/mapbox/streets-v11",center:[l,p],zoom:m}),c.current.on("load",(function(){c.current.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:xt(v)}}}),c.current.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":4}}),c.current.addSource("pointer",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[l,p]}}]}}),c.current.addLayer({id:"pointer",type:"circle",source:"pointer",paint:{"circle-radius":5,"circle-color":"#FF0000","circle-opacity":.8}})})))})),Object(i.useEffect)((function(){n>=pt.length&&(n=pt.length-1),d(pt[n][1]),h(pt[n][0]),k(pt.slice(0,n+1)),c.current.setCenter([l,p]),c.current.getSource("route")&&c.current.getSource("route").setData({type:"Feature",geometry:{type:"LineString",coordinates:xt(v)}}),c.current.getSource("pointer")&&c.current.getSource("pointer").setData({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[l,p]}}]})}),[n]),Object(i.useEffect)((function(){a||(e.saveRoute(xt(v)),d(pt[0][1]),h(pt[0][0]),k(pt.slice(0,1)))}),[a]),Object(y.jsx)("div",{ref:r,className:t.map})}function mt(e){var t=e.style;return Object(y.jsx)("div",{className:t.button,style:{backgroundColor:"green",color:"white"},children:Object(y.jsx)("div",{className:t.text,children:"Start Ride"})})}function Ot(e){var t=e.style;return Object(y.jsx)("div",{className:t.button,style:{backgroundColor:"red",color:"white"},children:Object(y.jsx)("div",{className:t.text,children:"Stop Ride"})})}function ft(e){var t=e.amount,n=Object(i.useState)(Math.floor(3*Math.random()+1)),a=Object(u.a)(n,2),r=a[0];a[1];return Object(y.jsxs)("div",{style:{position:"relative"},children:[1===r?Object(y.jsx)(yt,{amount:t}):null,2===r?Object(y.jsx)(wt,{amount:t}):null,3===r?Object(y.jsx)(Ct,{amount:t}):null]})}Re.a.accessToken="pk.eyJ1IjoiYmFieWNyb2MiLCJhIjoiY2tvaW5rMWlpMDE3czJ3cWYyMXZkZmxidiJ9.8m_FmwtsgjCBUq2Jq9wVcg";var vt=Object(v.a)((function(e){return{background:{position:"relative",backgroundColor:"pink",borderRadius:"10px",padding:"10px"},img:{display:"inline-block",width:"15%"},text:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",color:"white",fontSize:"18px",fontWeight:"bold",margin:"0 auto",width:"calc(85% - 20px)",paddingLeft:"10px"}}}));function yt(e){var t=vt(),n=e.amount;return Object(y.jsxs)("div",{className:t.background,children:[Object(y.jsx)("img",{src:"/biky/images/home/metaphor_taxi.png",alt:"taxi",className:t.img}),Object(y.jsxs)("div",{className:t.text,children:["You saved ",3e3*n," won!"]})]})}var kt=Object(v.a)((function(e){return{background:{position:"relative",backgroundColor:"orange",borderRadius:"10px",padding:"10px"},img:{display:"inline-block",width:"15%"},text:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",color:"white",fontSize:"18px",fontWeight:"bold",width:"calc(85% - 20px)",paddingLeft:"10px"}}}));function wt(e){var t=kt(),n=e.amount;return Object(y.jsxs)("div",{className:t.background,children:[Object(y.jsx)("img",{src:"/biky/images/home/metaphor_burger.png",alt:"burger",className:t.img}),Object(y.jsxs)("div",{className:t.text,children:["You skipped ",2*n," burgers!"]})]})}var Nt=Object(v.a)((function(e){return{background:{position:"relative",backgroundColor:"green",borderRadius:"10px",padding:"10px"},img:{display:"inline-block",width:"15%"},text:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",color:"white",fontSize:"18px",fontWeight:"bold",margin:"0 auto",width:"calc(85% - 20px)",paddingLeft:"10px"}}}));function Ct(e){var t=Nt(),n=e.amount;return Object(y.jsxs)("div",{className:t.background,children:[Object(y.jsx)("img",{src:"/biky/images/home/metaphor_tree.png",alt:"",className:t.img}),Object(y.jsxs)("div",{className:t.text,children:["You planted ",1.5*n," trees!"]})]})}var St=Object(v.a)((function(e){return{modal:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:"75%",maxHeight:"75vh",overflowY:"scroll",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(4),outline:"none"},title:{fontSize:"20px",fontWeight:"bold",textAlign:"center",paddingBottom:"10px"},half:{display:"inline-block",width:"50%",paddingBottom:"10px"},label:{display:"inline-block",fontSize:"15px",fontWeight:"bold",padding:"5px",paddingLeft:"0"},button:{width:"calc(100% - 20px)",textAlign:"center",color:"white",fontWeight:"bold",backgroundColor:"#4BA9FF",borderRadius:"10px",padding:"10px",marginTop:"10px"}}}));function Ft(e){var t=St(),n=e.open,i=e.distance,a=e.time,r=e.amount,c=e.route,o=e.closeModal;return Object(y.jsx)("div",{children:Object(y.jsx)(_.a,{open:n,onClose:o,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(y.jsxs)("div",{className:t.modal,children:[Object(y.jsx)("div",{id:"modal-title",className:t.title,children:"Today's Ride"}),Object(y.jsx)(ft,{amount:r}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{id:"modal-description",children:[Object(y.jsxs)("div",{className:t.half,children:[Object(y.jsx)("div",{className:t.label,children:"\uc2dc\uac04"})," ",a]}),Object(y.jsxs)("div",{className:t.half,children:[Object(y.jsx)("div",{className:t.label,children:"\uac70\ub9ac"})," ",i]}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:t.label,children:"\uc774\ub3d9\uacbd\ub85c"}),Object(y.jsx)(Ie,{route:c,zoom:15,width:"100%",height:"300px"})]}),Object(y.jsx)(Oe.a,{className:t.button,onClick:e.handleJournal,children:"Journal Ride"})]})]})})})}var Rt=Object(v.a)({page:{position:"relative",margin:"0 auto"},verticalAlign:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",display:"inline-block"},header:{position:"relative",height:"49px",fontSize:"30px",fontWeight:"bold",borderBottom:"solid 1px black",textAlign:"center"},avatar:{position:"relative",height:"50px"},content:{position:"relative",height:"calc(100vh - 160px)",overflow:"scroll"},weatherContainer:{position:"relative",width:"100%",height:"25%"},measuresContainer:{position:"absolute",zIndex:"1",width:"calc(100% - 20px)",padding:"10px"},measures:{display:"inline-block",padding:"10px",margin:"0 5px",backgroundColor:"white",borderRadius:"10px",textAlign:"center",fontWeight:"bold",fontSize:"20px"},mapContainer:{position:"relative",width:"100%",height:"60%"},buttonContainer:{position:"relative",width:"100%",height:"15%"},button:{position:"relative",height:"calc(100% - 20px)",textAlign:"center",borderRadius:"10px",fontWeight:"bold",fontSize:"20px",margin:"10px"},buttonText:{position:"relative",textAlign:"center",fontWeight:"bold",fontSize:"20px"},startButton:{},stopButton:{}});function Bt(e){var t=e.journalRef,n=Rt(),a=Object(i.useState)(!1),r=Object(u.a)(a,2),c=r[0],o=r[1],l=Object(i.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(i.useState)(0),h=Object(u.a)(p,2),x=h[0],g=h[1],m=Object(i.useState)(0),O=Object(u.a)(m,2),f=O[0],v=O[1],k=Object(i.useState)([]),w=Object(u.a)(k,2),N=w[0],C=w[1],S=Object(i.useRef)(null),F=Object(i.useState)(["happy"]),R=Object(u.a)(F,2),I=R[0],A=(R[1],Object(i.useState)(ue()())),T=Object(u.a)(A,2),D=T[0],L=T[1],W=function(){var e=t.push().key,n=D.add(f,"minute"),i={id:e,route:N,hashtags:I,distance:x,startTime:D.toString(),endTime:n.toString(),title:"\uc81c\ubaa9 \uc5c6\uc74c",desc:"\ub0b4\uc6a9 \uc5c6\uc74c",photos:["/images/photo1.jpg"],emojis:["happy","exited"],metaphors:{tree:1,taxi:1,burger:1}};return console.log(i),t.child(e).set(i),e},z=Object(s.f)(),M=function(){var e=parseInt(f),t="0".concat(e%60).slice(-2),n="".concat(Math.floor(e/60)),i="0".concat(n%60).slice(-2),a="0".concat(Math.floor(e/3600)).slice(-2);return"".concat(a," : ").concat(i," : ").concat(t)},P=function(){return x<1e3?"".concat(x,"m"):"".concat(x/1e3,"km")};return Object(y.jsxs)("div",{className:n.page,children:[Object(y.jsx)("div",{className:n.header,children:Object(y.jsx)("div",{className:n.verticalAlign,children:"Home"})}),Object(y.jsx)("div",{className:n.avatar,children:Object(y.jsxs)("div",{className:n.verticalAlign,style:{right:"10px",transform:"translateY(-50%)"},children:["Nayeon Min"," ",Object(y.jsx)("div",{style:{display:"inline-block"},children:Object(y.jsx)(B,{})})]})}),Object(y.jsxs)("div",{className:n.content,children:[Object(y.jsxs)("div",{className:n.weatherContainer,children:[Object(y.jsx)(ct,{}),Object(y.jsx)(jt,{})]}),c?Object(y.jsxs)("div",{className:n.measuresContainer,children:[Object(y.jsx)(bt,{distance:P(),style:n.measures}),Object(y.jsx)(ut,{time:M(),style:n.measures})]}):null,Object(y.jsx)("div",{className:n.mapContainer,children:Object(y.jsx)(gt,{index:x,isRiding:c,saveRoute:C})}),Object(y.jsx)("div",{onClick:function(){return c?(o(!1),clearInterval(S.current),void b(!0)):(L(ue()()),o(!0),void(S.current=setInterval((function(){g((function(e){return e+1})),v((function(e){return e+1/6}))}),1e3/6)))},className:n.buttonContainer,children:c?Object(y.jsx)(Ot,{style:{button:n.button,text:n.verticalAlign}}):Object(y.jsx)(mt,{style:{button:n.button,text:n.verticalAlign}})})]}),Object(y.jsx)(Ft,{handleJournal:function(){var e=W();z.push("/biky/edit/".concat(e))},open:j,distance:P(),time:M(),amount:x,route:N,closeModal:function(){console.log("closing modal"),W(),b(!1),g(0),v(0)}})]})}var It=n(65),At=n(69);Object(v.a)((function(e){return{paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),"translate(-".concat(50,"%, -",50,"%)");function Tt(e){var t=e.friend,n=e.onClick;e.disabled;return Object(y.jsx)(g.a,{onClick:n,children:Object(y.jsx)(X,{friend:t})})}function Dt(e){var t=e.allFriends,n=e.selectedFriends,i=e.addFriend;return Object(y.jsxs)("div",{children:[t.map((function(e){return Object(y.jsx)(Tt,{friend:e,onClick:function(){return i(e)},disabled:n.includes(e)},e.id)})),"\uce5c\uad6c\ub97c \ucd94\uac00\ud574\ubcf4\uc2dc\uc9c0"]})}var Lt=n(276),Wt=n(271),zt=n(275),Mt=n(272),Pt=n(274),Yt=n(273);function Et(e){var t=e.friend,n=e.removeFriend;return Object(y.jsxs)(Wt.a,{children:[Object(y.jsx)(Mt.a,{children:Object(y.jsx)(F.a,{alt:t.name,src:"/biky"+t.picture})}),Object(y.jsx)(Yt.a,{primary:t.name}),Object(y.jsx)(Pt.a,{children:Object(y.jsx)(I.a,{edge:"end","aria-label":"delete",onClick:function(){return n(t)},children:Object(y.jsx)(zt.a,{})})})]},t.id)}var Jt=n(284),qt=Object(v.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1),width:"80%"}},hashtagGroup:{display:"flex",flexDirection:"row"},picture:{},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function _t(e){var t=e.journal,n=e.onSubmit,i=e.openFriendAddPage,r=e.friends,c=e.removeFriend,s=(e.addFriend,e.pictures),l=e.removePicture,d=e.openPictureSelector,j=qt(),b=a.a.useState(t.title),p=Object(u.a)(b,2),h=p[0],x=p[1],g=a.a.useState(t.desc),m=Object(u.a)(g,2),O=m[0],f=m[1],v=a.a.useState(t.hashtags),k=Object(u.a)(v,2),w=k[0],N=k[1];console.log(t.title);return Object(y.jsxs)("div",{className:j.root,noValidate:!0,autoComplete:"off",children:[Object(y.jsx)(Jt.a,{onChange:function(e){x(e.target.value)},id:"title",label:"\uc81c\ubaa9",variant:"outlined",defaultValue:t.title}),Object(y.jsx)("div",{children:" \uc624\ub298 \ubcf8 \uace0\uc591\uc774\ub294 \ub204\uad6c\uc600\ub098\uc694?? "}),Object(y.jsx)(Jt.a,{onChange:function(e){f(e.target.value)},id:"desc",label:"\ub0b4\uc6a9",variant:"outlined",multiline:!0,defaultValue:t.desc}),Object(y.jsxs)(Oe.a,{onClick:function(){n({title:h,desc:O,hashtags:w})},component:o.b,to:"/biky/journal",children:[" ","\uc800\uc7a5"," "]}),Object(y.jsx)(Oe.a,{onClick:d,children:" \uc0ac\uc9c4 \ucd94\uac00 "}),Object(y.jsx)(Se,{pictures:s,removePicture:l,isEditing:!0}),Object(y.jsxs)(Lt.a,{dense:!0,children:[r.map((function(e){return Object(y.jsx)(Et,{friend:e,removeFriend:c},e.id)})),Object(y.jsx)(Wt.a,{children:Object(y.jsx)(Oe.a,{onClick:i,children:"+"})})]}),Object(y.jsxs)("div",{className:j.hashtagGroup,children:[w.map((function(e){return Object(y.jsxs)("div",{children:[" ","#",e,Object(y.jsx)(I.a,{"aria-label":"delete",onClick:function(){return function(e){N(w.filter((function(t){return t!==e})))}(e)},children:Object(y.jsx)(ye.a,{})})]},e)})),Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.newTag.value;N([].concat(Object(It.a)(w),[t])),e.target.newTag.value=""},children:Object(y.jsx)(Jt.a,{id:"newTag",placeholder:"+ New Hashtag"})})]})]})}var Ht=n(277),Gt=n(139),Vt=n.n(Gt),Ut=n(278),Zt=Object(v.a)((function(e){return{paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},selected:{border:"2px solid orange"},unselected:{},gridList:{}}})),Kt=("translate(-".concat(50,"%, -",50,"%)"),["/images/photo1.jpg","/images/photo2.jpg","/images/photo3.jpg"]);function Xt(e){var t=e.onSubmit,n=Zt();return Object(y.jsx)("div",{className:n.root,children:Object(y.jsx)(Ht.a,{position:"static",children:Object(y.jsxs)(Ut.a,{variant:"dense",children:[Object(y.jsx)(f.a,{variant:"h6",color:"inherit",style:{flexGrow:1},children:"Photos"}),Object(y.jsx)(I.a,{edge:"end",className:n.menuButton,color:"inherit","aria-label":"menu",onClick:t,children:Object(y.jsx)(Vt.a,{})})]})})})}function Qt(e){var t=e.pictures,n=e.onSubmit,i=Zt(),r=a.a.useState(t),c=Object(u.a)(r,2),o=c[0],s=c[1];console.log(t);return t?Object(y.jsxs)("div",{children:[Object(y.jsx)(Xt,{onSubmit:function(){n(o)}}),Object(y.jsx)(ke.a,{cellHeight:200,className:i.gridList,cols:3,children:Kt.map((function(e){return Object(y.jsx)(we.a,{cols:1,onClick:function(){return function(e){o.includes(e)?s(o.filter((function(t){return t!==e}))):s([].concat(Object(It.a)(o),[e]))}(e)},className:o.includes(e)?i.selected:i.unselected,children:Object(y.jsx)("img",{src:"/biky"+e,alt:"bike"})},e)}))}),"\uc0ac\uc9c4\uc744 \ucd94\uac00\ud574\ubcf4\uc2dc\uc9c0"]}):Object(y.jsx)("div",{children:" \ub85c\ub529\uc911 "})}ue()(),ue()().add(2,"hour"),ue()(),ue()().add(1,"hour"),ue()(),ue()().add(2,"hour"),ue()(),ue()().add(2,"hour"),ue()(),ue()().add(2,"hour");var $t={title:"\uc81c\ubaa91",desc:"\ub0b4\uc6a91",friends:["1"],hashtags:["happy"],photos:["../"],emojis:["happy","exited"],distance:100,startTime:ue()(),endTime:ue()().add(2,"hour"),weather:"sunny",metaphor:{tree:1,taxi:2,hamburger:3},map:"../",route:[[126.91462625155943,37.49468356316903],[126.91466456325881,37.49457548665683],[126.91467809668889,37.4945003236157],[126.91469501347642,37.494409948906565],[126.91470290797731,37.49436968291182],[126.91484578727844,37.49369203740101],[126.91634996665469,37.493628630563954],[126.91635767048872,37.494331551409644],[126.91753635713798,37.49434377606901],[126.9184608172214,37.49440489929814],[126.91876897058253,37.49367752962703]]};function en(e){var t=e.journalRef,n=e.friendRef,i=Object(s.g)().id,r=a.a.useState($t),c=Object(u.a)(r,2),o=c[0],l=c[1],d=a.a.useState(!0),j=Object(u.a)(d,2),b=j[0],p=j[1],h=a.a.useState([]),x=Object(u.a)(h,2),g=x[0],m=x[1];a.a.useEffect((function(){t.once("value",(function(e){var t=e.val();console.log(t);var a=function(e,t){var n=t[String(e)];return n?(console.log(n),n):(console.log("No such journal: ".concat(e)),$t)}(i,t);n.once("value",(function(e){var t=e.val();console.log(t);var n,i=(n=t)?Object.values(n):[],r=Q(a.friends);L(function(e,t){return console.log(e),console.log(t),t.filter((function(t){return e.includes(t.id)}))}(r,i)),m(i),l(a),I(Q(a.photos)),p(!1)}))}))}),[t,i,n]);var O=a.a.useState(!1),f=Object(u.a)(O,2),v=f[0],k=f[1],w=a.a.useState(!1),N=Object(u.a)(w,2),C=N[0],S=N[1],F=a.a.useState([]),R=Object(u.a)(F,2),B=R[0],I=R[1],A=a.a.useState([]),T=Object(u.a)(A,2),D=T[0],L=T[1],W=function(e){D.includes(e)||L([].concat(Object(It.a)(D),[e]))},z=function(e){I(e),S(!1)};if(b)return Object(y.jsx)("div",{children:" loading... "});var M=a.a.forwardRef((function(e,t){return Object(y.jsx)(Qt,{pictures:B,onSubmit:z,ref:t})}));return Object(y.jsxs)("div",{children:[Object(y.jsx)(_t,{journal:o,onSubmit:function(e){var n=e.title,i=e.desc,a=e.hashtags,r=Object(At.a)(Object(At.a)({},o),{},{title:n,desc:i,friends:D.map((function(e){return e.id})),hashtags:a,photos:B});t.child(o.id).set(r)},openFriendAddPage:function(){return k(!0)},friends:D,removeFriend:function(e){L(D.filter((function(t){return t!==e})))},addFriend:W,openPictureSelector:function(){return S(!0)},pictures:B,removePicture:function(e){I(B.filter((function(t){return t!==e})))}}),Object(y.jsx)(_.a,{open:v,onClose:function(){return k(!1)},children:Object(y.jsx)(Dt,{allFriends:g,selectedFriends:D,addFriend:W})}),Object(y.jsx)(_.a,{open:C,onClose:function(){return S(!1)},children:Object(y.jsx)(M,{})})]})}n(204);function tn(e){var t=e.journalRef,n=e.friendRef,i=a.a.useState([]),r=Object(u.a)(i,2),c=r[0],o=r[1],s=a.a.useState([]),l=Object(u.a)(s,2),d=l[0],j=l[1];a.a.useEffect((function(){t.on("value",(function(e){var t=e.val();console.log(t);var i=t?Object.values(t):[];n.once("value",(function(e){var t=e.val(),n=t?Object.values(t):[];o(i),j(function(e,t){for(var n={},i=function(i){var a=e[i];n[a.id]=t.filter((function(e){return a.friends&&a.friends.includes(e.id)}))},a=0;a<e.length;a++)i(a);return n}(i,n))}))}))}),[]);var b=a.a.useState(null),p=Object(u.a)(b,2),h=p[0],x=p[1],g=a.a.useState(!1),m=Object(u.a)(g,2),O=m[0],f=m[1];return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)(Ye,{}),Object(y.jsx)(Oe.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(y.jsx)(He.a,{}),children:"\ud544\ud130"})]}),Object(y.jsx)(We,{journals:c,openJournal:function(e){f(!0),x(e)},friendsByJournal:d}),Object(y.jsx)(_.a,{open:O,onClose:function(){f(!1),x(null)},children:Object(y.jsx)(Le,{journal:h,friends:h?d[h.id]:null})})]})}var nn=n(279),an=n(144),rn=Object(an.a)(Oe.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",width:"60vw",height:"40px",padding:"0 30px",marginBottom:"10px"}),cn=Object(v.a)((function(e){return{background:{background:"linear-gradient(0deg, #FFEDE8, #FFFFF5)",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh",bottom:0},grid:{margin:"auto"},textField:{width:"60vw",background:"#FFFFFF"},submit:{marginTop:"3vh"},login:{marginBottom:"2vh"},logo:{paddingTop:e.spacing(12),paddingBottom:e.spacing(10)}}}));function on(){var e=cn(),t=Object(i.useState)({id:"id123",password:"password123"}),n=Object(u.a)(t,2),a=n[0],r=n[1],c=function(e){var t=e.target,n=t.name,i=t.value;r(Object(At.a)(Object(At.a)({},a),{},Object(H.a)({},n,i)))};return Object(y.jsx)(nn.a,{className:e.background,children:Object(y.jsxs)(x.a,{className:e.root,children:[Object(y.jsx)(m.a,{container:!0,className:e.logo,justify:"center",children:Object(y.jsx)("img",{src:"/biky/images/logo.png",alt:"logo"})}),Object(y.jsxs)(m.a,{container:!0,alignItems:"center",direction:"column",spacing:1,children:[Object(y.jsx)(f.a,{variant:"h5",className:e.login,children:"Login"}),Object(y.jsx)(m.a,{item:!0,xs:8,children:Object(y.jsx)(Jt.a,{type:"id",name:"id",required:!0,fullWidth:!0,variant:"outlined",onChange:c,placeholder:"Enter ID",className:e.textField})}),Object(y.jsx)(m.a,{item:!0,xs:12,children:Object(y.jsx)(Jt.a,{type:"password",name:"password",required:!0,fullWidth:!0,variant:"outlined",onChange:c,placeholder:"Enter password",className:e.textField})}),Object(y.jsx)(rn,{onClick:function(e){e.preventDefault(),alert("\uc544\uc774\ub514: ".concat(a.id," \ube44\ubc00\ubc88\ud638: ").concat(a.password)),window.location.replace("/biky/journal")},className:e.submit,children:"Submit"})]})]})})}var sn=n(280),ln=Object(an.a)(Oe.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",width:"60%",height:"40px",padding:"0 30px",marginBottom:"10px"}),dn=Object(v.a)((function(e){return{background:{background:"linear-gradient(0deg, #FFEDE8, #FFFFF5)",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh",bottom:0},logo:{paddingTop:e.spacing(12),paddingBottom:e.spacing(26)},character:{width:"60%"}}}));function jn(){var e=dn();return Object(y.jsxs)(nn.a,{className:e.background,children:[Object(y.jsx)(sn.a,{}),Object(y.jsx)(m.a,{container:!0,className:e.logo,justify:"center",children:Object(y.jsx)("img",{src:"/biky/images/logo.png",alt:"logo"})}),Object(y.jsxs)(m.a,{container:!0,alignItems:"center",direction:"column",spacing:1,children:[Object(y.jsx)(ln,{item:!0,onClick:function(){window.location.replace("/biky/login")},children:"Log in"}),Object(y.jsxs)(f.a,{item:!0,className:e.character,align:"center",variant:"body2",children:["Don't have an account? ",Object(y.jsx)("b",{children:"SIGN UP"})]})]})]})}n(205);var bn="/images/logo.png",un="/images/home/metaphor_taxi.png",pn=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},badgeBox:{width:"100%",height:"100%"},badge:{display:"inline-block",width:"100%",top:"100%"},page:{position:"relative",margin:"0 auto"},verticalAlign:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",display:"inline-block"},header:{position:"relative",height:"49px",fontSize:"30px",fontWeight:"bold",borderBottom:"solid 1px black",textAlign:"center"},content:{position:"relative",height:"calc(100vh - 110px)",overflow:"scroll"},bold:{fontWeight:"bold",fontSize:"20px"},roundBox:{boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",borderRadius:"5px",padding:"15px"},avatar:{position:"relative",display:"inline-block",textAlign:"center",width:"30%",height:"100%"},personalInfo:{display:"inline-block",width:"calc(70% - 10px)",marginLeft:"10px",lineHeight:"200%"},recordsContainer:{position:"relative",width:"100%",margin:"15px 0"},metaphorContainer:{position:"relative",width:"100%"},metaphorItem:{position:"relative",display:"inline-block",width:"calc(100% / 3)"},badgeContainer:{position:"relative",width:"100%",margin:"15px 0"}}}));function hn(e,t){var n=pn();return Object(y.jsxs)("div",{className:n.metaphorItem,children:[Object(y.jsx)("img",{src:"/biky"+e,width:"70%",style:{maxWidth:"100px"}}),Object(y.jsx)("div",{style:{position:"absolute",display:"inline-block",textAlign:"center",width:"30%",top:"50%",transform:"translateY(-50%)"},children:t})]})}function xn(){var e=pn();return Object(y.jsxs)("div",{className:e.page,children:[Object(y.jsx)("div",{className:e.header,children:Object(y.jsx)("div",{className:e.verticalAlign,children:"My Page"})}),Object(y.jsx)("div",{className:e.content,children:Object(y.jsx)(x.a,{fontFamily:"roboto",p:"10px",children:Object(y.jsxs)("div",{children:[Object(y.jsx)(x.a,{className:e.roundBox,children:Object(y.jsxs)("div",{style:{position:"relative"},children:[Object(y.jsxs)("div",{className:e.avatar,children:[Object(y.jsx)("div",{children:Object(y.jsx)("div",{style:{display:"inline-block",marginBottom:"10px"},children:Object(y.jsx)("img",{src:"/biky"+bn,width:"100%",alt:""})})}),"Nayeon Min"]}),Object(y.jsxs)("div",{className:e.personalInfo,children:["Age: 28",Object(y.jsx)("br",{}),"Gender: Female",Object(y.jsx)("br",{}),"Job: Freelancer Designer",Object(y.jsx)("br",{}),"\uc0c1\uc544\uac00 \ubc30\uace0\ud504\ub300",Object(y.jsx)("br",{})]})]})}),Object(y.jsxs)(x.a,{className:e.recordsContainer,children:[Object(y.jsx)(f.a,{className:e.bold,children:"Records"}),Object(y.jsxs)(x.a,{className:e.roundBox,children:[Object(y.jsxs)(f.a,{style:{marginBottom:"10px",lineHeight:"200%"},children:["You rode a bike for",Object(y.jsx)("div",{style:{fontWeight:"bold",fontSize:"18px"},children:"1000km and 1000hrs!"})]}),Object(y.jsxs)("div",{className:e.metaphorContainer,children:[hn(un,123),hn("/images/home/metaphor_burger.png",123),hn("/images/home/metaphor_tree.png",123),console.log(un)]})]})]}),Object(y.jsxs)(x.a,{className:e.badgeContainer,children:[Object(y.jsx)(f.a,{className:e.bold,children:"Badge"}),Object(y.jsx)(g.a,{style:{width:"100%"},children:Object(y.jsx)(O.a,{className:e.roundBox,style:{width:"100%"},onClick:function(){window.location.replace("/biky/badgeDetail")},children:Object(y.jsxs)(m.a,{container:!0,children:[Object(y.jsx)(m.a,{item:!0,style:{width:"100px"},children:Object(y.jsx)(x.a,{style:{position:"relative"},children:Object(y.jsx)("img",{className:e.badge,src:"/biky"+bn})})}),Object(y.jsxs)(m.a,{item:!0,xs:!0,container:!0,direction:"column",style:{width:"calc(100% - 100px)",marginLeft:"10px"},children:[Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(f.a,{variant:"h6",align:"left",children:"\ubc30\uc9c0 \uc774\ub984"})}),Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsxs)(f.a,{variant:"body2",align:"left",children:["\ubc30\uc9c0 \uc124\uba85\uc774\uc5d0\uc694",Object(y.jsx)("br",{}),"\uc815\ub9d0 \uadc0\uc5fd\uc8e0?",Object(y.jsx)("br",{}),"asdcxbj",Object(y.jsx)("br",{}),"aszcxs"]})})]})]})})})]})]})})})]})}var gn=n(281),mn=n(282),On=n(142),fn=n.n(On),vn=n(141),yn=n.n(vn),kn=n(140),wn=n.n(kn),Nn=Object(v.a)({root:{width:"100%",height:"60px",position:"fixed",bottom:0}});function Cn(){var e=Nn(),t=a.a.useState(window.location.pathname),n=Object(u.a)(t,2),i=n[0],r=n[1];return Object(y.jsxs)(gn.a,{value:i,onChange:function(e,t){r(t)},className:e.root,children:[Object(y.jsx)(mn.a,{label:"\uce5c\uad6c",value:"/biky/friend",icon:Object(y.jsx)(wn.a,{}),component:o.b,to:"/biky/friend"}),Object(y.jsx)(mn.a,{label:"\ud648",value:"/biky/",icon:Object(y.jsx)(yn.a,{}),component:o.b,to:"/biky/"}),Object(y.jsx)(mn.a,{label:"\uae30\ub85d",value:"/biky/journal",icon:Object(y.jsx)(fn.a,{}),component:o.b,to:"/biky/journal"})]})}var Sn=n(108),Fn=Object(H.a)({apiKey:"AIzaSyB4rOoT-hraHHNLSC5luce5NK7CI2LNp6Q",authDomain:"asdf-biky.firebaseapp.com",databaseURL:"https://asdf-biky-default-rtdb.firebaseio.com",projectId:"asdf-biky",storageBucket:"asdf-biky.appspot.com",messagingSenderId:"502792709500",appId:"1:502792709500:web:a26bdfd4d5e8a2117c70f9"},"databaseURL","https://asdf-biky-default-rtdb.firebaseio.com");console.log(Fn.databaseURL),Sn.a.initializeApp(Fn);var Rn=Sn.a.database(),Bn=Object(l.a)({palette:{primary:{main:j.a[500]},secondary:{main:b.a[500]}}}),In="/nayeon/journals",An="/nayeon/friends";var Tn=function(){return console.log(Rn),Object(y.jsxs)(d.a,{theme:Bn,children:[Object(y.jsxs)(o.a,{children:[Object(y.jsx)(Cn,{}),Object(y.jsxs)(s.c,{children:[Object(y.jsx)(s.a,{path:"/biky/",exact:!0,render:function(){return Object(y.jsx)(Bt,{journalRef:Rn.ref(In)})}}),Object(y.jsx)(s.a,{path:"/biky/journal",exact:!0,render:function(){return Object(y.jsx)(tn,{journalRef:Rn.ref(In),friendRef:Rn.ref(An)})}}),Object(y.jsx)(s.a,{path:"/biky/edit/:id",exact:!0,render:function(){return Object(y.jsx)(en,{journalRef:Rn.ref(In),friendRef:Rn.ref(An)})}}),Object(y.jsx)(s.a,{path:"/biky/login",exact:!0,component:on}),Object(y.jsx)(s.a,{path:"/biky/loginInitial",exact:!0,component:jn}),Object(y.jsx)(s.a,{path:"/biky/myPage",exact:!0,component:xn}),Object(y.jsx)(s.a,{path:"/biky/badgeDetail",exact:!0,component:N}),Object(y.jsx)(s.a,{path:"/biky/friend",render:function(){return Object(y.jsx)(it,{friendRef:Rn.ref(An),frequestRef:Rn.ref("/nayeon/frequests"),journalRef:Rn.ref(In)})}})]})]}),"    "]})},Dn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,292)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};n(211);c.a.render(Object(y.jsx)(Tn,{}),document.getElementById("root")),Dn()}},[[212,1,2]]]);
//# sourceMappingURL=main.da317077.chunk.js.map